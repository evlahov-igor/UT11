
#Область ПрограммныйИнтерфейс

// Сравнивает переданную версию ФФД на актуальность (На текущий момент актуальная версия 1.0.5 или 1.1).
//
// Параметры:
//  ВерсияФФД - Строка - Версия ФФД.
// 
// Возвращаемое значение:
//  Булево - Версия актуальна.
//
Функция ПоддерживаетсяФорматФФД1_0_5ИЛИФФД1_1(ВерсияФФД) Экспорт
	
	Возврат ВерсияФФД = "1.0.5" ИЛИ ВерсияФФД = "1.1";
	
КонецФункции

#КонецОбласти

#Область СлужебныйПрограммныйИнтерфейс

// Процедура удаляет не фискализированные записи из очереди чеков ККТ
Процедура УдалитьНеФискализированныеЧекиИзОчереди(ДокументСсылка) Экспорт
	
	УстановитьПривилегированныйРежим(Истина);
	
	НаборЗаписей = РегистрыСведений.ОчередьЧековККТ.СоздатьНаборЗаписей();
	НаборЗаписей.Отбор.ДокументОснование.Установить(ДокументСсылка);
	НаборЗаписей.Прочитать();
	
	ЗаписиКУдалению = Новый Массив;
	Для Каждого Запись Из НаборЗаписей Цикл
		Если Запись.СтатусЧека = Перечисления.СтатусЧекаККТВОчереди.Фискализирован Тогда
			Продолжить;
		КонецЕсли;
		ЗаписиКУдалению.Добавить(Запись);
	КонецЦикла;
	
	Для Каждого Запись Из ЗаписиКУдалению Цикл
		НаборЗаписей.Удалить(Запись);
	КонецЦикла;
	
	НаборЗаписей.Записать(Истина);
	
КонецПроцедуры

#КонецОбласти