// Регистрация ERP Синхронизация данных через универсальный формат (2.5.8, v.1) от 11.07.2022 16:33:49
#Область ПрограммныйИнтерфейс

// Возвращает представление регистрации.
// Возвращаемое значение:
//  Строка.
Функция ИнформацияОПравилах() Экспорт

	Параметры = ПараметрыРегистрации();
	ШаблонТекста = НСтр("ru = 'Правила регистрации объектов этой информационной базы (%1 версия %2) от %3'");
	
	Возврат СтроковыеФункции.ФорматированнаяСтрока(ШаблонТекста, 
		Параметры.СинонимКонфигурации, Параметры.ВерсияКонфигурации, Параметры.ДатаВремяСоздания);	
	
КонецФункции

// Возвращает ключевые параметры регистрации в виде структуры.
// Возвращаемое значение:
//  Структура.
Функция ПараметрыРегистрации() Экспорт
	Результат = Новый Структура();
	Результат.Вставить("Наименование", НСтр("ru = 'ERP Синхронизация данных через универсальный формат (2.5.8, v.1)'"));
	Результат.Вставить("ДатаВремяСоздания", Дата(2022,7,11,16,33,0));
	Результат.Вставить("ПланаОбмена", "СинхронизацияДанныхЧерезУниверсальныйФормат");
	Результат.Вставить("Конфигурация", "УправлениеПредприятием");
	Результат.Вставить("СинонимКонфигурации", НСтр("ru = '1С:ERP Управление предприятием 2'"));
	Результат.Вставить("ВерсияКонфигурации", "2.5.8.239");

    Возврат Результат;
КонецФункции

// Заполняет таблицу правил регистрации объектов.
//
// Параметры:
//  ПравилаРегистрацииОбъектов - ТаблицаЗначений - таблица значений, в которую добавляются правила
//  ИмяМенеджераРегистрации - Строка - Имя модуля менеджера правил регистрации объектов 
Процедура ИнициализацияПравилРегистрации(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации) Экспорт
	ДобавитьПРО_Документ_ВводОстатков(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВводОстатковВзаиморасчетов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_Документ_ВводОстатковДенежныхСредств(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВводОстатковПоФинансовымИнструментам(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВводОстатковСПодотчетниками(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВводОстатковТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВозвратТоваровПоставщику(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ЗаказПоставщику(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_КорректировкаПриобретения(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПриобретениеТоваровУслуг(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПриобретениеУслугПрочихАктивов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ТаможеннаяДекларацияИмпорт(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_Документ_ВозвратТоваровМеждуОрганизациями(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОтчетПоКомиссииМеждуОрганизациями(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОтчетПоКомиссииМеждуОрганизациямиОСписании(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПередачаТоваровМеждуОрганизациями(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_Документ_ВзаимозачетЗадолженности(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВзаимозачетЗадолженности2(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВзаимозачетЗадолженности3(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВнесениеДенежныхСредствВКассуККМ(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВыемкаДенежныхСредствИзКассыККМ(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОперацияПоПлатежнойКарте(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОтчетБанкаПоОперациямЭквайринга(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОтчетБанкаПоОперациямЭквайринга2(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПоступлениеБезналичныхДенежныхСредств(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПриходныйКассовыйОрдер(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_РасходныйКассовыйОрдер(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_СписаниеБезналичныхДенежныхСредств(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	ДобавитьПРО_Документ_ОперацияПоЯндексКассе(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//-- Локализация
	ДобавитьПРО_Документ_АвансовыйОтчет(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_Документ_ЗаявкаНаРасходованиеДенежныхСредств(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_НачисленияКредитовИДепозитов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПервичныйДокумент(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_Документ_КорректировкаЗадолженности(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_АктВыполненныхРабот(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВозвратТоваровОтКлиента(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ЗаказКлиента(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ЗаказКлиента2(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_КорректировкаРеализации(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОтчетКомиссионера(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОтчетКомиссионераОСписании(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОтчетКомитенту(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОтчетКомитентуОСписании(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_РеализацияТоваровУслуг(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_РеализацияУслугПрочихАктивов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_СчетНаОплатуКлиенту(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_Документ_ПоступлениеТоваровОтХранителя(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПередачаТоваровХранителю(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_Документ_АннулированиеПодарочныхСертификатов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВозвратПодарочныхСертификатов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_КассоваяСмена(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОтчетОРозничныхПродажах(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_РеализацияПодарочныхСертификатов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОтчетОРозничныхВозвратах(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВнутреннееПотреблениеТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ВыкупПринятыхНаХранениеТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ЗаказНаПеремещение(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОприходованиеИзлишковТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ОтгрузкаТоваровСХранения(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПеремещениеТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПересортицаТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПересчетТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПриемкаТоваровНаХранение(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ПрочееОприходованиеТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_СборкаТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_Документ_СписаниеНедостачТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_СписаниеПринятыхНаХранениеТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	ДобавитьПРО_Документ_СчетФактураВыданный(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//-- Локализация
	ДобавитьПРО_Документ_СчетФактураВыданныйАванс(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	ДобавитьПРО_Документ_СчетФактураКомиссионеру(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_СчетФактураНалоговыйАгент(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_СчетФактураПолученный(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//-- Локализация
	ДобавитьПРО_Документ_СчетФактураПолученныйАванс(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	ДобавитьПРО_Документ_СчетФактураПолученныйНалоговыйАгент(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_СчетФактураКомитента(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//-- Локализация
	ДобавитьПРО_Документ_УстановкаЦенНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_Бронирование(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_ЗаявкаНаКомандировку(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	ДобавитьПРО_Документ_УведомлениеОбОстаткахПрослеживаемыхТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_УведомлениеОВвозеПрослеживаемыхТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Документ_УведомлениеОПеремещенииПрослеживаемыхТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//-- Локализация
	ДобавитьПРО_ПланВидовХарактеристик_СтатьиДоходов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_ПланВидовХарактеристик_СтатьиРасходов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_РегистрСведений_ДокументыФизическихЛиц(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_РегистрСведений_ДоступностьТоваровДляВнешнихПользователей(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_РегистрСведений_СостоянияЗаказовКлиентов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	ДобавитьПРО_РегистрСведений_СостоянияПоОбъектамУчетаЭДО(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//-- Локализация
	ДобавитьПРО_РегистрСведений_ФИОФизическихЛиц(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_РегистрСведений_ШтрихкодыНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_Валюты(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_КлассификаторБанков(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_СтраныМира(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_УпаковкиЕдиницыИзмерения(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_КлассификаторТНВЭД(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_БанковскиеСчетаКонтрагентов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ДоговорыКредитовИДепозитов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ДоговорыКонтрагентов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_Контрагенты(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ДоговорыМеждуОрганизациями(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ВариантыКомплектацииНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ВидыНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_Марки(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_Номенклатура(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_НоменклатураКонтрагентов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_НомераГТД(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_НоменклатураПрисоединенныеФайлы(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_СерииНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ХарактеристикиНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ЦеновыеГруппы(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_БонусныеПрограммыЛояльности(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ВидыПодарочныхСертификатов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ВидыЦен(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_Справочник_КартыЛояльности(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	ДобавитьПРО_Справочник_ЛицензииПоставщиковАлкогольнойПродукции(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//-- Локализация
	ДобавитьПРО_Справочник_Пользователи(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_Справочник_ФизическиеЛица(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	ДобавитьПРО_Справочник_ШтрихкодыУпаковокТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//-- Локализация
	ДобавитьПРО_Справочник_ЭквайринговыеТерминалы(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_Склады(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_Склады2(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_БанковскиеСчетаОрганизаций(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_Кассы(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_КассыККМ(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_Организации(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ОтветственныеЛицаОрганизаций(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ОтветственныеЛицаОрганизаций2(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	ДобавитьПРО_Справочник_РегистрацииВНалоговомОргане(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//-- Локализация
	ДобавитьПРО_Справочник_СтруктураПредприятия(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ГруппыАналитическогоУчетаНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ГруппыФинансовогоУчетаНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	ДобавитьПРО_Справочник_ГруппыФинансовогоУчетаРасчетов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
	ДобавитьПРО_Справочник_СтатьиДвиженияДенежныхСредств(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации);
	//++ Локализация
	//-- Локализация
КонецПроцедуры


// Обработчик события ПередОбработкой правила регистрации 
// Параметры:
//  ПРО - СтрокаТаблицыЗначений - Правило регистрации объекта
//  Отказ - Булево - Отказ от выполнения правила регистрации.
//  Объект - КонстантаМенеджерЗначения
//         - СправочникОбъект
//         - ДокументОбъект
//         - ПланВидовХарактеристикОбъект
//         - ПланСчетовОбъект
//         - ПланВидовРасчетаОбъект
//         - БизнесПроцессОбъект
//         - ЗадачаОбъект
//         - РегистрСведенийНаборЗаписей
//         - РегистрНакопленияНаборЗаписей
//         - РегистрБухгалтерииНаборЗаписей
//         - РегистрРасчетаНаборЗаписей - объект для которого выполняется правило регистрации.
//  ОбъектМетаданных - ОбъектМетаданных - Объект метаданных, соответствующий объекту.
//  Выгрузка - Булево - контекст выполнения правила регистрации, если Истина то происходит выгрузка объекта.
Процедура ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка) Экспорт
	Если ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказПоставщику") Тогда 
		ПРО_Документ_ЗаказПоставщику_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриобретениеТоваровУслуг") Тогда 
		ПРО_Документ_ПриобретениеТоваровУслуг_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказКлиента") Тогда 
		ПРО_Документ_ЗаказКлиента_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказКлиента") Тогда 
		ПРО_Документ_ЗаказКлиента2_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияПодарочныхСертификатов") Тогда 
		ПРО_Документ_РеализацияПодарочныхСертификатов_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетОРозничныхВозвратах") Тогда 
		ПРО_Документ_ОтчетОРозничныхВозвратах_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВыкупПринятыхНаХранениеТоваров") Тогда 
		ПРО_Документ_ВыкупПринятыхНаХранениеТоваров_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтгрузкаТоваровСХранения") Тогда 
		ПРО_Документ_ОтгрузкаТоваровСХранения_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриемкаТоваровНаХранение") Тогда 
		ПРО_Документ_ПриемкаТоваровНаХранение_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СписаниеПринятыхНаХранениеТоваров") Тогда 
		ПРО_Документ_СписаниеПринятыхНаХранениеТоваров_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураВыданный") Тогда 
		ПРО_Документ_СчетФактураВыданный_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураВыданныйАванс") Тогда 
		ПРО_Документ_СчетФактураВыданныйАванс_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураКомиссионеру") Тогда 
		ПРО_Документ_СчетФактураКомиссионеру_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураПолученный") Тогда 
		ПРО_Документ_СчетФактураПолученный_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураПолученныйАванс") Тогда 
		ПРО_Документ_СчетФактураПолученныйАванс_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураКомитента") Тогда 
		ПРО_Документ_СчетФактураКомитента_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("РегистрСведенийНаборЗаписей.ДокументыФизическихЛиц") Тогда 
		ПРО_РегистрСведений_ДокументыФизическихЛиц_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("РегистрСведенийНаборЗаписей.СостоянияЗаказовКлиентов") Тогда 
		ПРО_РегистрСведений_СостоянияЗаказовКлиентов_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("РегистрСведенийНаборЗаписей.СостоянияПоОбъектамУчетаЭДО") Тогда 
		ПРО_РегистрСведений_СостоянияПоОбъектамУчетаЭДО_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("РегистрСведенийНаборЗаписей.ФИОФизическихЛиц") Тогда 
		ПРО_РегистрСведений_ФИОФизическихЛиц_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("СправочникОбъект.УпаковкиЕдиницыИзмерения") Тогда 
		ПРО_Справочник_УпаковкиЕдиницыИзмерения_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("СправочникОбъект.ЛицензииПоставщиковАлкогольнойПродукции") Тогда 
		ПРО_Справочник_ЛицензииПоставщиковАлкогольнойПродукции_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка);
	//-- Локализация
	КонецЕсли;
КонецПроцедуры

// Обработчик события ПриОбработке правила регистрации
// Параметры:
//  Отказ - Булево - Отказ от выполнения правила регистрации.
//  ПРО - СтрокаТаблицыЗначений - Правило регистрации объекта
//  Объект - КонстантаМенеджерЗначения
//         - СправочникОбъект
//         - ДокументОбъект
//         - ПланВидовХарактеристикОбъект
//         - ПланСчетовОбъект
//         - ПланВидовРасчетаОбъект
//         - БизнесПроцессОбъект
//         - ЗадачаОбъект
//         - РегистрСведенийНаборЗаписей
//         - РегистрНакопленияНаборЗаписей
//         - РегистрБухгалтерииНаборЗаписей
//         - РегистрРасчетаНаборЗаписей - объект для которого выполняется правило регистрации.
//  ТекстЗапроса - Строка - текст запроса для определения узлов получателей.
//  ПараметрыЗапроса - Структура - параметры запроса для определения узлов получателей.
//  ИспользоватьКэш - Булево - использование платформенного механизма повторно используемых значений.
//  Выгрузка - Булево - контекст выполнения правила регистрации, если Истина то происходит выгрузка объекта. 
//  ДополнительныеСвойства - Структура.
Процедура ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства) Экспорт
	Если ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатков") Тогда 
		ПРО_Документ_ВводОстатков_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатковВзаиморасчетов") Тогда 
		ПРО_Документ_ВводОстатковВзаиморасчетов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатковДенежныхСредств") Тогда 
		ПРО_Документ_ВводОстатковДенежныхСредств_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатковПоФинансовымИнструментам") Тогда 
		ПРО_Документ_ВводОстатковПоФинансовымИнструментам_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатковСПодотчетниками") Тогда 
		ПРО_Документ_ВводОстатковСПодотчетниками_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатковТоваров") Тогда 
		ПРО_Документ_ВводОстатковТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровПоставщику") Тогда 
		ПРО_Документ_ВозвратТоваровПоставщику_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказПоставщику") Тогда 
		ПРО_Документ_ЗаказПоставщику_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.КорректировкаПриобретения") Тогда 
		ПРО_Документ_КорректировкаПриобретения_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриобретениеТоваровУслуг") Тогда 
		ПРО_Документ_ПриобретениеТоваровУслуг_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриобретениеУслугПрочихАктивов") Тогда 
		ПРО_Документ_ПриобретениеУслугПрочихАктивов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ТаможеннаяДекларацияИмпорт") Тогда 
		ПРО_Документ_ТаможеннаяДекларацияИмпорт_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровМеждуОрганизациями") Тогда 
		ПРО_Документ_ВозвратТоваровМеждуОрганизациями_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетПоКомиссииМеждуОрганизациями") Тогда 
		ПРО_Документ_ОтчетПоКомиссииМеждуОрганизациями_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетПоКомиссииМеждуОрганизациямиОСписании") Тогда 
		ПРО_Документ_ОтчетПоКомиссииМеждуОрганизациямиОСписании_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПередачаТоваровМеждуОрганизациями") Тогда 
		ПРО_Документ_ПередачаТоваровМеждуОрганизациями_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВзаимозачетЗадолженности") Тогда 
		ПРО_Документ_ВзаимозачетЗадолженности_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВзаимозачетЗадолженности") Тогда 
		ПРО_Документ_ВзаимозачетЗадолженности2_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВзаимозачетЗадолженности") Тогда 
		ПРО_Документ_ВзаимозачетЗадолженности3_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВнесениеДенежныхСредствВКассуККМ") Тогда 
		ПРО_Документ_ВнесениеДенежныхСредствВКассуККМ_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВыемкаДенежныхСредствИзКассыККМ") Тогда 
		ПРО_Документ_ВыемкаДенежныхСредствИзКассыККМ_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОперацияПоПлатежнойКарте") Тогда 
		ПРО_Документ_ОперацияПоПлатежнойКарте_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетБанкаПоОперациямЭквайринга") Тогда 
		ПРО_Документ_ОтчетБанкаПоОперациямЭквайринга_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетБанкаПоОперациямЭквайринга") Тогда 
		ПРО_Документ_ОтчетБанкаПоОперациямЭквайринга2_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПоступлениеБезналичныхДенежныхСредств") Тогда 
		ПРО_Документ_ПоступлениеБезналичныхДенежныхСредств_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриходныйКассовыйОрдер") Тогда 
		ПРО_Документ_ПриходныйКассовыйОрдер_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РасходныйКассовыйОрдер") Тогда 
		ПРО_Документ_РасходныйКассовыйОрдер_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СписаниеБезналичныхДенежныхСредств") Тогда 
		ПРО_Документ_СписаниеБезналичныхДенежныхСредств_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОперацияПоЯндексКассе") Тогда 
		ПРО_Документ_ОперацияПоЯндексКассе_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.АвансовыйОтчет") Тогда 
		ПРО_Документ_АвансовыйОтчет_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаявкаНаРасходованиеДенежныхСредств") Тогда 
		ПРО_Документ_ЗаявкаНаРасходованиеДенежныхСредств_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.НачисленияКредитовИДепозитов") Тогда 
		ПРО_Документ_НачисленияКредитовИДепозитов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПервичныйДокумент") Тогда 
		ПРО_Документ_ПервичныйДокумент_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.КорректировкаЗадолженности") Тогда 
		ПРО_Документ_КорректировкаЗадолженности_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.АктВыполненныхРабот") Тогда 
		ПРО_Документ_АктВыполненныхРабот_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровОтКлиента") Тогда 
		ПРО_Документ_ВозвратТоваровОтКлиента_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказКлиента") Тогда 
		ПРО_Документ_ЗаказКлиента_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказКлиента") Тогда 
		ПРО_Документ_ЗаказКлиента2_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.КорректировкаРеализации") Тогда 
		ПРО_Документ_КорректировкаРеализации_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомиссионера") Тогда 
		ПРО_Документ_ОтчетКомиссионера_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомиссионераОСписании") Тогда 
		ПРО_Документ_ОтчетКомиссионераОСписании_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомитенту") Тогда 
		ПРО_Документ_ОтчетКомитенту_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомитентуОСписании") Тогда 
		ПРО_Документ_ОтчетКомитентуОСписании_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияТоваровУслуг") Тогда 
		ПРО_Документ_РеализацияТоваровУслуг_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияУслугПрочихАктивов") Тогда 
		ПРО_Документ_РеализацияУслугПрочихАктивов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетНаОплатуКлиенту") Тогда 
		ПРО_Документ_СчетНаОплатуКлиенту_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПоступлениеТоваровОтХранителя") Тогда 
		ПРО_Документ_ПоступлениеТоваровОтХранителя_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПередачаТоваровХранителю") Тогда 
		ПРО_Документ_ПередачаТоваровХранителю_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.АннулированиеПодарочныхСертификатов") Тогда 
		ПРО_Документ_АннулированиеПодарочныхСертификатов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратПодарочныхСертификатов") Тогда 
		ПРО_Документ_ВозвратПодарочныхСертификатов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.КассоваяСмена") Тогда 
		ПРО_Документ_КассоваяСмена_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетОРозничныхПродажах") Тогда 
		ПРО_Документ_ОтчетОРозничныхПродажах_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияПодарочныхСертификатов") Тогда 
		ПРО_Документ_РеализацияПодарочныхСертификатов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВнутреннееПотреблениеТоваров") Тогда 
		ПРО_Документ_ВнутреннееПотреблениеТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВыкупПринятыхНаХранениеТоваров") Тогда 
		ПРО_Документ_ВыкупПринятыхНаХранениеТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказНаПеремещение") Тогда 
		ПРО_Документ_ЗаказНаПеремещение_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОприходованиеИзлишковТоваров") Тогда 
		ПРО_Документ_ОприходованиеИзлишковТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтгрузкаТоваровСХранения") Тогда 
		ПРО_Документ_ОтгрузкаТоваровСХранения_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПеремещениеТоваров") Тогда 
		ПРО_Документ_ПеремещениеТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПересортицаТоваров") Тогда 
		ПРО_Документ_ПересортицаТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПересчетТоваров") Тогда 
		ПРО_Документ_ПересчетТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриемкаТоваровНаХранение") Тогда 
		ПРО_Документ_ПриемкаТоваровНаХранение_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПрочееОприходованиеТоваров") Тогда 
		ПРО_Документ_ПрочееОприходованиеТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СборкаТоваров") Тогда 
		ПРО_Документ_СборкаТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СписаниеНедостачТоваров") Тогда 
		ПРО_Документ_СписаниеНедостачТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СписаниеПринятыхНаХранениеТоваров") Тогда 
		ПРО_Документ_СписаниеПринятыхНаХранениеТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураВыданный") Тогда 
		ПРО_Документ_СчетФактураВыданный_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураВыданныйАванс") Тогда 
		ПРО_Документ_СчетФактураВыданныйАванс_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураКомиссионеру") Тогда 
		ПРО_Документ_СчетФактураКомиссионеру_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураНалоговыйАгент") Тогда 
		ПРО_Документ_СчетФактураНалоговыйАгент_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураПолученный") Тогда 
		ПРО_Документ_СчетФактураПолученный_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураПолученныйАванс") Тогда 
		ПРО_Документ_СчетФактураПолученныйАванс_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураПолученныйНалоговыйАгент") Тогда 
		ПРО_Документ_СчетФактураПолученныйНалоговыйАгент_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураКомитента") Тогда 
		ПРО_Документ_СчетФактураКомитента_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.УстановкаЦенНоменклатуры") Тогда 
		ПРО_Документ_УстановкаЦенНоменклатуры_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("РегистрСведенийНаборЗаписей.ДоступностьТоваровДляВнешнихПользователей") Тогда 
		ПРО_РегистрСведений_ДоступностьТоваровДляВнешнихПользователей_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("РегистрСведенийНаборЗаписей.ШтрихкодыНоменклатуры") Тогда 
		ПРО_РегистрСведений_ШтрихкодыНоменклатуры_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("СправочникОбъект.ЭквайринговыеТерминалы") Тогда 
		ПРО_Справочник_ЭквайринговыеТерминалы_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("СправочникОбъект.БанковскиеСчетаОрганизаций") Тогда 
		ПРО_Справочник_БанковскиеСчетаОрганизаций_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("СправочникОбъект.Кассы") Тогда 
		ПРО_Справочник_Кассы_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("СправочникОбъект.КассыККМ") Тогда 
		ПРО_Справочник_КассыККМ_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	КонецЕсли;
КонецПроцедуры

// Обработчик события ПриОбработкеДополнительный правила регистрации 
// Параметры:
//  Отказ - Булево - Отказ от выполнения правила регистрации.
//  ПРО - СтрокаТаблицыЗначений - Правило регистрации объекта
//  Объект - КонстантаМенеджерЗначения
//         - СправочникОбъект
//         - ДокументОбъект
//         - ПланВидовХарактеристикОбъект
//         - ПланСчетовОбъект
//         - ПланВидовРасчетаОбъект
//         - БизнесПроцессОбъект
//         - ЗадачаОбъект
//         - РегистрСведенийНаборЗаписей
//         - РегистрНакопленияНаборЗаписей
//         - РегистрБухгалтерииНаборЗаписей
//         - РегистрРасчетаНаборЗаписей - объект для которого выполняется правило регистрации.
//  ТекстЗапроса - Строка - текст запроса для определения узлов получателей.
//  ПараметрыЗапроса - Структура - параметры запроса для определения узлов получателей.
//  ИспользоватьКэш - Булево - использование платформенного механизма повторно используемых значений.
//  ДополнительныеСвойства - Структура.
Процедура ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства) Экспорт
	Если ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатков") Тогда 
		ПРО_Документ_ВводОстатков_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатковВзаиморасчетов") Тогда 
		ПРО_Документ_ВводОстатковВзаиморасчетов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатковДенежныхСредств") Тогда 
		ПРО_Документ_ВводОстатковДенежныхСредств_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатковПоФинансовымИнструментам") Тогда 
		ПРО_Документ_ВводОстатковПоФинансовымИнструментам_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатковСПодотчетниками") Тогда 
		ПРО_Документ_ВводОстатковСПодотчетниками_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВводОстатковТоваров") Тогда 
		ПРО_Документ_ВводОстатковТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровПоставщику") Тогда 
		ПРО_Документ_ВозвратТоваровПоставщику_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказПоставщику") Тогда 
		ПРО_Документ_ЗаказПоставщику_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.КорректировкаПриобретения") Тогда 
		ПРО_Документ_КорректировкаПриобретения_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриобретениеТоваровУслуг") Тогда 
		ПРО_Документ_ПриобретениеТоваровУслуг_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриобретениеУслугПрочихАктивов") Тогда 
		ПРО_Документ_ПриобретениеУслугПрочихАктивов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ТаможеннаяДекларацияИмпорт") Тогда 
		ПРО_Документ_ТаможеннаяДекларацияИмпорт_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровМеждуОрганизациями") Тогда 
		ПРО_Документ_ВозвратТоваровМеждуОрганизациями_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетПоКомиссииМеждуОрганизациями") Тогда 
		ПРО_Документ_ОтчетПоКомиссииМеждуОрганизациями_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетПоКомиссииМеждуОрганизациямиОСписании") Тогда 
		ПРО_Документ_ОтчетПоКомиссииМеждуОрганизациямиОСписании_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПередачаТоваровМеждуОрганизациями") Тогда 
		ПРО_Документ_ПередачаТоваровМеждуОрганизациями_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВзаимозачетЗадолженности") Тогда 
		ПРО_Документ_ВзаимозачетЗадолженности_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВзаимозачетЗадолженности") Тогда 
		ПРО_Документ_ВзаимозачетЗадолженности2_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВзаимозачетЗадолженности") Тогда 
		ПРО_Документ_ВзаимозачетЗадолженности3_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВнесениеДенежныхСредствВКассуККМ") Тогда 
		ПРО_Документ_ВнесениеДенежныхСредствВКассуККМ_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВыемкаДенежныхСредствИзКассыККМ") Тогда 
		ПРО_Документ_ВыемкаДенежныхСредствИзКассыККМ_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОперацияПоПлатежнойКарте") Тогда 
		ПРО_Документ_ОперацияПоПлатежнойКарте_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетБанкаПоОперациямЭквайринга") Тогда 
		ПРО_Документ_ОтчетБанкаПоОперациямЭквайринга_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетБанкаПоОперациямЭквайринга") Тогда 
		ПРО_Документ_ОтчетБанкаПоОперациямЭквайринга2_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПоступлениеБезналичныхДенежныхСредств") Тогда 
		ПРО_Документ_ПоступлениеБезналичныхДенежныхСредств_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриходныйКассовыйОрдер") Тогда 
		ПРО_Документ_ПриходныйКассовыйОрдер_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РасходныйКассовыйОрдер") Тогда 
		ПРО_Документ_РасходныйКассовыйОрдер_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СписаниеБезналичныхДенежныхСредств") Тогда 
		ПРО_Документ_СписаниеБезналичныхДенежныхСредств_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОперацияПоЯндексКассе") Тогда 
		ПРО_Документ_ОперацияПоЯндексКассе_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.АвансовыйОтчет") Тогда 
		ПРО_Документ_АвансовыйОтчет_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаявкаНаРасходованиеДенежныхСредств") Тогда 
		ПРО_Документ_ЗаявкаНаРасходованиеДенежныхСредств_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.НачисленияКредитовИДепозитов") Тогда 
		ПРО_Документ_НачисленияКредитовИДепозитов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПервичныйДокумент") Тогда 
		ПРО_Документ_ПервичныйДокумент_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.КорректировкаЗадолженности") Тогда 
		ПРО_Документ_КорректировкаЗадолженности_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.АктВыполненныхРабот") Тогда 
		ПРО_Документ_АктВыполненныхРабот_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровОтКлиента") Тогда 
		ПРО_Документ_ВозвратТоваровОтКлиента_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказКлиента") Тогда 
		ПРО_Документ_ЗаказКлиента_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказКлиента") Тогда 
		ПРО_Документ_ЗаказКлиента2_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.КорректировкаРеализации") Тогда 
		ПРО_Документ_КорректировкаРеализации_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомиссионера") Тогда 
		ПРО_Документ_ОтчетКомиссионера_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомиссионераОСписании") Тогда 
		ПРО_Документ_ОтчетКомиссионераОСписании_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомитенту") Тогда 
		ПРО_Документ_ОтчетКомитенту_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомитентуОСписании") Тогда 
		ПРО_Документ_ОтчетКомитентуОСписании_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияТоваровУслуг") Тогда 
		ПРО_Документ_РеализацияТоваровУслуг_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияУслугПрочихАктивов") Тогда 
		ПРО_Документ_РеализацияУслугПрочихАктивов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетНаОплатуКлиенту") Тогда 
		ПРО_Документ_СчетНаОплатуКлиенту_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПоступлениеТоваровОтХранителя") Тогда 
		ПРО_Документ_ПоступлениеТоваровОтХранителя_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПередачаТоваровХранителю") Тогда 
		ПРО_Документ_ПередачаТоваровХранителю_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.АннулированиеПодарочныхСертификатов") Тогда 
		ПРО_Документ_АннулированиеПодарочныхСертификатов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратПодарочныхСертификатов") Тогда 
		ПРО_Документ_ВозвратПодарочныхСертификатов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.КассоваяСмена") Тогда 
		ПРО_Документ_КассоваяСмена_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетОРозничныхПродажах") Тогда 
		ПРО_Документ_ОтчетОРозничныхПродажах_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияПодарочныхСертификатов") Тогда 
		ПРО_Документ_РеализацияПодарочныхСертификатов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВнутреннееПотреблениеТоваров") Тогда 
		ПРО_Документ_ВнутреннееПотреблениеТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВыкупПринятыхНаХранениеТоваров") Тогда 
		ПРО_Документ_ВыкупПринятыхНаХранениеТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказНаПеремещение") Тогда 
		ПРО_Документ_ЗаказНаПеремещение_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОприходованиеИзлишковТоваров") Тогда 
		ПРО_Документ_ОприходованиеИзлишковТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтгрузкаТоваровСХранения") Тогда 
		ПРО_Документ_ОтгрузкаТоваровСХранения_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПеремещениеТоваров") Тогда 
		ПРО_Документ_ПеремещениеТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПересортицаТоваров") Тогда 
		ПРО_Документ_ПересортицаТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПересчетТоваров") Тогда 
		ПРО_Документ_ПересчетТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриемкаТоваровНаХранение") Тогда 
		ПРО_Документ_ПриемкаТоваровНаХранение_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПрочееОприходованиеТоваров") Тогда 
		ПРО_Документ_ПрочееОприходованиеТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СборкаТоваров") Тогда 
		ПРО_Документ_СборкаТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СписаниеНедостачТоваров") Тогда 
		ПРО_Документ_СписаниеНедостачТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СписаниеПринятыхНаХранениеТоваров") Тогда 
		ПРО_Документ_СписаниеПринятыхНаХранениеТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураВыданный") Тогда 
		ПРО_Документ_СчетФактураВыданный_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураВыданныйАванс") Тогда 
		ПРО_Документ_СчетФактураВыданныйАванс_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураКомиссионеру") Тогда 
		ПРО_Документ_СчетФактураКомиссионеру_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураНалоговыйАгент") Тогда 
		ПРО_Документ_СчетФактураНалоговыйАгент_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураПолученный") Тогда 
		ПРО_Документ_СчетФактураПолученный_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураПолученныйАванс") Тогда 
		ПРО_Документ_СчетФактураПолученныйАванс_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураПолученныйНалоговыйАгент") Тогда 
		ПРО_Документ_СчетФактураПолученныйНалоговыйАгент_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетФактураКомитента") Тогда 
		ПРО_Документ_СчетФактураКомитента_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.УстановкаЦенНоменклатуры") Тогда 
		ПРО_Документ_УстановкаЦенНоменклатуры_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("РегистрСведенийНаборЗаписей.ДоступностьТоваровДляВнешнихПользователей") Тогда 
		ПРО_РегистрСведений_ДоступностьТоваровДляВнешнихПользователей_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("РегистрСведенийНаборЗаписей.ШтрихкодыНоменклатуры") Тогда 
		ПРО_РегистрСведений_ШтрихкодыНоменклатуры_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("СправочникОбъект.ЭквайринговыеТерминалы") Тогда 
		ПРО_Справочник_ЭквайринговыеТерминалы_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("СправочникОбъект.БанковскиеСчетаОрганизаций") Тогда 
		ПРО_Справочник_БанковскиеСчетаОрганизаций_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("СправочникОбъект.Кассы") Тогда 
		ПРО_Справочник_Кассы_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	ИначеЕсли ТипЗнч(Объект) = Тип("СправочникОбъект.КассыККМ") Тогда 
		ПРО_Справочник_КассыККМ_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства);
	//++ Локализация
	//-- Локализация
	КонецЕсли;
КонецПроцедуры

// Обработчик события ПослеОбработки правила регистрации 
// Параметры:    
//  ПРО - СтрокаТаблицыЗначений - Правило регистрации объекта
//  Отказ - Булево - Отказ от выполнения правила регистрации.
//  Объект - КонстантаМенеджерЗначения
//         - СправочникОбъект
//         - ДокументОбъект
//         - ПланВидовХарактеристикОбъект
//         - ПланСчетовОбъект
//         - ПланВидовРасчетаОбъект
//         - БизнесПроцессОбъект
//         - ЗадачаОбъект
//         - РегистрСведенийНаборЗаписей
//         - РегистрНакопленияНаборЗаписей
//         - РегистрБухгалтерииНаборЗаписей
//         - РегистрРасчетаНаборЗаписей - объект для которого выполняется правило регистрации.
//  ОбъектМетаданных - ОбъектМетаданных - Объект метаданных, соответствующий объекту.
//  Получатели - Массив - список узлов-получателей, на которых будет зарегистрирован объект.
//  Выгрузка - Булево - контекст выполнения правила регистрации, если Истина то происходит выгрузка объекта.
Процедура ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка) Экспорт
	Если ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровПоставщику") Тогда 
		ПРО_Документ_ВозвратТоваровПоставщику_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказПоставщику") Тогда 
		ПРО_Документ_ЗаказПоставщику_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.КорректировкаПриобретения") Тогда 
		ПРО_Документ_КорректировкаПриобретения_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриобретениеТоваровУслуг") Тогда 
		ПРО_Документ_ПриобретениеТоваровУслуг_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриобретениеУслугПрочихАктивов") Тогда 
		ПРО_Документ_ПриобретениеУслугПрочихАктивов_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ТаможеннаяДекларацияИмпорт") Тогда 
		ПРО_Документ_ТаможеннаяДекларацияИмпорт_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровМеждуОрганизациями") Тогда 
		ПРО_Документ_ВозвратТоваровМеждуОрганизациями_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетПоКомиссииМеждуОрганизациями") Тогда 
		ПРО_Документ_ОтчетПоКомиссииМеждуОрганизациями_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПередачаТоваровМеждуОрганизациями") Тогда 
		ПРО_Документ_ПередачаТоваровМеждуОрганизациями_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВзаимозачетЗадолженности") Тогда 
		ПРО_Документ_ВзаимозачетЗадолженности_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВзаимозачетЗадолженности") Тогда 
		ПРО_Документ_ВзаимозачетЗадолженности2_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВзаимозачетЗадолженности") Тогда 
		ПРО_Документ_ВзаимозачетЗадолженности3_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОперацияПоПлатежнойКарте") Тогда 
		ПРО_Документ_ОперацияПоПлатежнойКарте_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПоступлениеБезналичныхДенежныхСредств") Тогда 
		ПРО_Документ_ПоступлениеБезналичныхДенежныхСредств_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ПриходныйКассовыйОрдер") Тогда 
		ПРО_Документ_ПриходныйКассовыйОрдер_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РасходныйКассовыйОрдер") Тогда 
		ПРО_Документ_РасходныйКассовыйОрдер_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СписаниеБезналичныхДенежныхСредств") Тогда 
		ПРО_Документ_СписаниеБезналичныхДенежныхСредств_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.НачисленияКредитовИДепозитов") Тогда 
		ПРО_Документ_НачисленияКредитовИДепозитов_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	//++ Локализация
	//-- Локализация
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.АктВыполненныхРабот") Тогда 
		ПРО_Документ_АктВыполненныхРабот_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ВозвратТоваровОтКлиента") Тогда 
		ПРО_Документ_ВозвратТоваровОтКлиента_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказКлиента") Тогда 
		ПРО_Документ_ЗаказКлиента_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ЗаказКлиента") Тогда 
		ПРО_Документ_ЗаказКлиента2_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.КорректировкаРеализации") Тогда 
		ПРО_Документ_КорректировкаРеализации_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомиссионера") Тогда 
		ПРО_Документ_ОтчетКомиссионера_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.ОтчетКомитенту") Тогда 
		ПРО_Документ_ОтчетКомитенту_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияТоваровУслуг") Тогда 
		ПРО_Документ_РеализацияТоваровУслуг_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.РеализацияУслугПрочихАктивов") Тогда 
		ПРО_Документ_РеализацияУслугПрочихАктивов_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.СчетНаОплатуКлиенту") Тогда 
		ПРО_Документ_СчетНаОплатуКлиенту_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("ДокументОбъект.АннулированиеПодарочныхСертификатов") Тогда 
		ПРО_Документ_АннулированиеПодарочныхСертификатов_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	ИначеЕсли ТипЗнч(Объект) = Тип("СправочникОбъект.Организации") Тогда 
		ПРО_Справочник_Организации_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка);
	КонецЕсли;
КонецПроцедуры


#КонецОбласти
#Область СлужебныеПроцедурыИФункции
Процедура ВыполнитьПравилаРегистрацииДляОбъекта(Объект, ИмяПланаОбмена, Отправитель)
	ОбменДаннымиСобытия.ВыполнитьПравилаРегистрацииДляОбъекта(Объект, ИмяПланаОбмена, Отправитель);
КонецПроцедуры
 

Процедура УстановитьОтборы(ПравилоРегистрации, ОтборПоСвойствамПланаОбмена, ОтборПоСвойствамОбъекта) 
	
	Обработка = Обработки.ЗагрузкаПравилРегистрацииОбъектов.Создать();
	
	ПравилаXML = Новый ЧтениеXML;
	
	//ОтборПоСвойствамПланаОбмена
	ПравилоРегистрации.ОтборПоСвойствамПланаОбмена = ОбменДаннымиСервер.ИнициализацияТаблицыОтборПоСвойствамПланаОбмена().Скопировать();
	
	ПравилаXML.УстановитьСтроку(ОтборПоСвойствамПланаОбмена);
	ПравилаXML.Прочитать();
	Обработка.ЗагрузитьДеревоОтбораПоСвойствамПланаОбмена(ПравилаXML, ПравилоРегистрации.ОтборПоСвойствамПланаОбмена);
	
	Обработка.Регистрация = Новый Структура("ИмяПланаОбмена", ПравилоРегистрации.ИмяПланаОбмена);
	Обработка.ПодготовитьПравилоРегистрацииПоСвойствамПланаОбмена(ПравилоРегистрации);
	
	//ОтборПоСвойствамОбъекта	
	ПравилаXML.УстановитьСтроку(ОтборПоСвойствамОбъекта);
	ПравилаXML.Прочитать();
	
	ПравилоРегистрации.ОтборПоСвойствамОбъекта = ОбменДаннымиСервер.ИнициализацияТаблицыОтборПоСвойствамОбъекта().Скопировать();
	Обработка.ЗагрузитьДеревоОтбораПоСвойствамОбъекта(ПравилаXML, ПравилоРегистрации.ОтборПоСвойствамОбъекта);

КонецПроцедуры 


#Область Документ_ВводОстатков
Процедура ДобавитьПРО_Документ_ВводОстатков(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВводОстатков";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВводОстатков_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВводОстатков_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ВводОстатковВзаиморасчетов
Процедура ДобавитьПРО_Документ_ВводОстатковВзаиморасчетов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВводОстатковВзаиморасчетов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВводОстатковВзаиморасчетов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВводОстатковВзаиморасчетов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//++ Локализация
//-- Локализация
#Область Документ_ВводОстатковДенежныхСредств
Процедура ДобавитьПРО_Документ_ВводОстатковДенежныхСредств(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВводОстатковДенежныхСредств";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВводОстатковДенежныхСредств_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВводОстатковДенежныхСредств_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ВводОстатковПоФинансовымИнструментам
Процедура ДобавитьПРО_Документ_ВводОстатковПоФинансовымИнструментам(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВводОстатковПоФинансовымИнструментам";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВводОстатковПоФинансовымИнструментам_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВводОстатковПоФинансовымИнструментам_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ВводОстатковСПодотчетниками
Процедура ДобавитьПРО_Документ_ВводОстатковСПодотчетниками(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВводОстатковСПодотчетниками";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВводОстатковСПодотчетниками_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВводОстатковСПодотчетниками_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ВводОстатковТоваров
Процедура ДобавитьПРО_Документ_ВводОстатковТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВводОстатковТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВводОстатковТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВводОстатковТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ВозвратТоваровПоставщику
Процедура ДобавитьПРО_Документ_ВозвратТоваровПоставщику(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВозвратТоваровПоставщику";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВозвратТоваровПоставщику_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВозвратТоваровПоставщику_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ВозвратТоваровПоставщику_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученныйАванс)
	//++ Локализация
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданный)
	//-- Локализация
								|	");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_ЗаказПоставщику
Процедура ДобавитьПРО_Документ_ЗаказПоставщику(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ЗаказПоставщику";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ЗаказПоставщику_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	ФО = ПолучитьФункциональнуюОпцию("ИспользоватьСтатусыЗаказовПоставщикам");
	// Проверка на то, чтобы была хотя бы одна неотмененная строка в заказе, иначе не регистрируем
	Если Объект.Проведен И (Не ФО Или Объект.Статус <> Перечисления.СтатусыЗаказовПоставщикам.НеСогласован) Тогда
		ЕстьНеотмененнаяСтрока = Ложь;
		Для Каждого Строка Из Объект.Товары Цикл
			Если Не Строка.Отменено Тогда
				ЕстьНеотмененнаяСтрока = Истина;
				Прервать;
			КонецЕсли;		
		КонецЦикла;
		Если Не ЕстьНеотмененнаяСтрока Тогда
			Отказ = Истина;
		КонецЕсли;	
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_ЗаказПоставщику_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ЗаказПоставщику_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ЗаказПоставщику_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Получатели.Количество() > 0 Тогда
		// Заказы поставщику регистрируются только для версии формата 1.3 и позднее.
		МаксИндекс = Получатели.ВГраница();
		Для Индекс = 0 По МаксИндекс Цикл
			ИндексТек = МаксИндекс - Индекс;
			ТекПолучатель = Получатели[ИндексТек];
			ВерсияФормата = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекПолучатель, "ВерсияФорматаОбмена");
			
			ВерсияФорматаЧислом = СтроковыеФункцииКлиентСервер.СтрокаВЧисло(ВерсияФормата);
			
			Если ВерсияФорматаЧислом = Неопределено Тогда
				Получатели.Удалить(ИндексТек);
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_КорректировкаПриобретения
Процедура ДобавитьПРО_Документ_КорректировкаПриобретения(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.КорректировкаПриобретения";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_КорректировкаПриобретения_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_КорректировкаПриобретения_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_КорректировкаПриобретения_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученный)");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
#Область Документ_ПриобретениеТоваровУслуг
Процедура ДобавитьПРО_Документ_ПриобретениеТоваровУслуг(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПриобретениеТоваровУслуг";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ПриобретениеТоваровУслуг_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Если НЕ Выгрузка И НЕ Объект.ЭтоНовый() Тогда
		// Выполним ПРО для авансового отчета, указанного в документе.
		АвансовыйОтчетСсылки = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Объект.Ссылка, "АвансовыйОтчет");
		Если ЗначениеЗаполнено(Объект.АвансовыйОтчет) И ОбщегоНазначения.СсылкаСуществует(Объект.АвансовыйОтчет) Тогда
			ВыполнитьПравилаРегистрацииДляОбъекта(Объект.АвансовыйОтчет.ПолучитьОбъект(), ПРО.ИмяПланаОбмена, Неопределено);
		КонецЕсли;
		Если ЗначениеЗаполнено(АвансовыйОтчетСсылки) И ОбщегоНазначения.СсылкаСуществует(АвансовыйОтчетСсылки) Тогда
			ВыполнитьПравилаРегистрацииДляОбъекта(АвансовыйОтчетСсылки.ПолучитьОбъект(), ПРО.ИмяПланаОбмена, Неопределено);
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_ПриобретениеТоваровУслуг_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПриобретениеТоваровУслуг_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ПриобретениеТоваровУслуг_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученный)");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
#Область Документ_ПриобретениеУслугПрочихАктивов
Процедура ДобавитьПРО_Документ_ПриобретениеУслугПрочихАктивов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПриобретениеУслугПрочихАктивов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ПриобретениеУслугПрочихАктивов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПриобретениеУслугПрочихАктивов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ПриобретениеУслугПрочихАктивов_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученный)");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
#Область Документ_ТаможеннаяДекларацияИмпорт
Процедура ДобавитьПРО_Документ_ТаможеннаяДекларацияИмпорт(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ТаможеннаяДекларацияИмпорт";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ТаможеннаяДекларацияИмпорт_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ТаможеннаяДекларацияИмпорт_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ТаможеннаяДекларацияИмпорт_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Не Отказ
		И Не Выгрузка 
		И Получатели.Количество() > 0 Тогда
		
		ДокументыПоступленияТоваров = Объект.Товары.Выгрузить(,"ДокументПоступления");
		
		Если ДокументыПоступленияТоваров.Количество() > 0 Тогда
			
			ДокументыПоступленияТоваров.Свернуть("ДокументПоступления");
			
			Для Каждого СтрокаДокументовПоступления Из ДокументыПоступленияТоваров Цикл 
				Если ЗначениеЗаполнено(СтрокаДокументовПоступления.ДокументПоступления) Тогда
					ВыполнитьПравилаРегистрацииДляОбъекта(СтрокаДокументовПоступления.ДокументПоступления.ПолучитьОбъект(), ПРО.ИмяПланаОбмена, Неопределено);
				КонецЕсли;
			КонецЦикла;
			
		КонецЕсли;
		
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
//++ Локализация
//-- Локализация
#Область Документ_ВозвратТоваровМеждуОрганизациями
Процедура ДобавитьПРО_Документ_ВозвратТоваровМеждуОрганизациями(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВозвратТоваровМеждуОрганизациями";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_13(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВозвратТоваровМеждуОрганизациями_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВозвратТоваровМеждуОрганизациями_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ВозвратТоваровМеждуОрганизациями_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданныйАванс)
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученныйАванс)
	//++ Локализация
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученный)
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданный)
	//-- Локализация
								|");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_ОтчетПоКомиссииМеждуОрганизациями
Процедура ДобавитьПРО_Документ_ОтчетПоКомиссииМеждуОрганизациями(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОтчетПоКомиссииМеждуОрганизациями";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_15(),
		ОтборПоСвойствамОбъекта_3());
КонецПроцедуры



Процедура ПРО_Документ_ОтчетПоКомиссииМеждуОрганизациями_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ОтчетПоКомиссииМеждуОрганизациями_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ОтчетПоКомиссииМеждуОрганизациями_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданный)
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученный)");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
#Область Документ_ОтчетПоКомиссииМеждуОрганизациямиОСписании
Процедура ДобавитьПРО_Документ_ОтчетПоКомиссииМеждуОрганизациямиОСписании(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОтчетПоКомиссииМеждуОрганизациямиОСписании";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_15(),
		ОтборПоСвойствамОбъекта_3());
КонецПроцедуры



Процедура ПРО_Документ_ОтчетПоКомиссииМеждуОрганизациямиОСписании_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ОтчетПоКомиссииМеждуОрганизациямиОСписании_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ПередачаТоваровМеждуОрганизациями
Процедура ДобавитьПРО_Документ_ПередачаТоваровМеждуОрганизациями(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПередачаТоваровМеждуОрганизациями";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_13(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ПередачаТоваровМеждуОрганизациями_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПередачаТоваровМеждуОрганизациями_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ПередачаТоваровМеждуОрганизациями_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданный)
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученный)");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
//++ Локализация
//-- Локализация
#Область Документ_ВзаимозачетЗадолженности
Процедура ДобавитьПРО_Документ_ВзаимозачетЗадолженности(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВзаимозачетЗадолженности";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		Документ_ВзаимозачетЗадолженности_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры

Функция Документ_ВзаимозачетЗадолженности_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>КонтрагентДебитор</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>КонтрагентДебитор</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>КонтрагентКредитор</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>КонтрагентКредитор</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


Процедура ПРО_Документ_ВзаимозачетЗадолженности_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВзаимозачетЗадолженности_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ВзаимозачетЗадолженности_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	ОбменДаннымиСобытияУТ.ДокументВзаимозачетЗадолженностиПослеОбработкиПРО(Объект, Выгрузка, Получатели, ПРО.ИмяПланаОбмена);
КонецПроцедуры

#КонецОбласти
#Область Документ_ВзаимозачетЗадолженности2
Процедура ДобавитьПРО_Документ_ВзаимозачетЗадолженности2(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВзаимозачетЗадолженности";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		Документ_ВзаимозачетЗадолженности2_ОтборПоСвойствамПланаОбмена(),
		Документ_ВзаимозачетЗадолженности2_ОтборПоСвойствамОбъекта());
КонецПроцедуры

Функция Документ_ВзаимозачетЗадолженности2_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>КонтрагентДебитор</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>КонтрагентДебитор</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>КонтрагентКредитор</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>КонтрагентКредитор</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>КонтрагентДебитор</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>КонтрагентДебитор</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции

Функция Документ_ВзаимозачетЗадолженности2_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>ПеречислениеСсылка.ТипыУчастниковВзаимозачета</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ТипДебитора</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Перечисления.ТипыУчастниковВзаимозачета.ОрганизацияКлиент;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ТипДебитора</Наименование>
			|					<Тип>ПеречислениеСсылка.ТипыУчастниковВзаимозачета</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>ПеречислениеСсылка.ТипыУчастниковВзаимозачета</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ТипДебитора</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Перечисления.ТипыУчастниковВзаимозачета.ОрганизацияПоставщик;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ТипДебитора</Наименование>
			|					<Тип>ПеречислениеСсылка.ТипыУчастниковВзаимозачета</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|	</Группа>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ВзаимозачетЗадолженности2_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВзаимозачетЗадолженности2_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ВзаимозачетЗадолженности2_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	ОбменДаннымиСобытияУТ.ДокументВзаимозачетЗадолженностиПослеОбработкиПРО(Объект, Выгрузка, Получатели, ПРО.ИмяПланаОбмена);
КонецПроцедуры

#КонецОбласти
#Область Документ_ВзаимозачетЗадолженности3
Процедура ДобавитьПРО_Документ_ВзаимозачетЗадолженности3(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВзаимозачетЗадолженности";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		Документ_ВзаимозачетЗадолженности3_ОтборПоСвойствамПланаОбмена(),
		Документ_ВзаимозачетЗадолженности3_ОтборПоСвойствамОбъекта());
КонецПроцедуры

Функция Документ_ВзаимозачетЗадолженности3_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>КонтрагентДебитор</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>КонтрагентДебитор</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>КонтрагентКредитор</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>КонтрагентКредитор</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Контрагенты</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>КонтрагентКредитор</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>КонтрагентКредитор</Наименование>
			|							<Тип>СправочникСсылка.Контрагенты</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции

Функция Документ_ВзаимозачетЗадолженности3_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>ПеречислениеСсылка.ТипыУчастниковВзаимозачета</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ТипКредитора</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Перечисления.ТипыУчастниковВзаимозачета.ОрганизацияКлиент;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ТипКредитора</Наименование>
			|					<Тип>ПеречислениеСсылка.ТипыУчастниковВзаимозачета</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>ПеречислениеСсылка.ТипыУчастниковВзаимозачета</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ТипКредитора</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Перечисления.ТипыУчастниковВзаимозачета.ОрганизацияПоставщик;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ТипКредитора</Наименование>
			|					<Тип>ПеречислениеСсылка.ТипыУчастниковВзаимозачета</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|	</Группа>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ВзаимозачетЗадолженности3_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВзаимозачетЗадолженности3_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ВзаимозачетЗадолженности3_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	ОбменДаннымиСобытияУТ.ДокументВзаимозачетЗадолженностиПослеОбработкиПРО(Объект, Выгрузка, Получатели, ПРО.ИмяПланаОбмена);
КонецПроцедуры

#КонецОбласти
#Область Документ_ВнесениеДенежныхСредствВКассуККМ
Процедура ДобавитьПРО_Документ_ВнесениеДенежныхСредствВКассуККМ(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВнесениеДенежныхСредствВКассуККМ";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВнесениеДенежныхСредствВКассуККМ_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВнесениеДенежныхСредствВКассуККМ_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ВыемкаДенежныхСредствИзКассыККМ
Процедура ДобавитьПРО_Документ_ВыемкаДенежныхСредствИзКассыККМ(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВыемкаДенежныхСредствИзКассыККМ";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВыемкаДенежныхСредствИзКассыККМ_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВыемкаДенежныхСредствИзКассыККМ_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ОперацияПоПлатежнойКарте
Процедура ДобавитьПРО_Документ_ОперацияПоПлатежнойКарте(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОперацияПоПлатежнойКарте";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ОперацияПоПлатежнойКарте_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ОперацияПоПлатежнойКарте_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ОперацияПоПлатежнойКарте_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданныйАванс)");
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_ОтчетБанкаПоОперациямЭквайринга
Процедура ДобавитьПРО_Документ_ОтчетБанкаПоОперациямЭквайринга(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОтчетБанкаПоОперациямЭквайринга";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_3());
КонецПроцедуры



Процедура ПРО_Документ_ОтчетБанкаПоОперациямЭквайринга_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ОтчетБанкаПоОперациямЭквайринга_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ОтчетБанкаПоОперациямЭквайринга2
Процедура ДобавитьПРО_Документ_ОтчетБанкаПоОперациямЭквайринга2(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОтчетБанкаПоОперациямЭквайринга";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Документ_ОтчетБанкаПоОперациямЭквайринга2_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры

Функция Документ_ОтчетБанкаПоОперациямЭквайринга2_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВерсияФорматаОбмена</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>1.0.beta</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВерсияФорматаОбмена</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


Процедура ПРО_Документ_ОтчетБанкаПоОперациямЭквайринга2_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	
	// Особая логика: нет фильтра по сумме, поэтому версия формата должна быть выше чем 1.0.beta.
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "И ПланОбменаОсновнаяТаблица.ВариантНастройки <> ""ОбменУП2ЗУП3""",
	"И ПланОбменаОсновнаяТаблица.ВариантНастройки <> ""ОбменУП2ЗУП3"" И ПланОбменаОсновнаяТаблица.ВерсияФорматаОбмена <> ""1.0.beta""");
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "И ПланОбменаОрганизации.Ссылка.ВариантНастройки <> ""ОбменУП2ЗУП3""",
	"И ПланОбменаОрганизации.Ссылка.ВариантНастройки <> ""ОбменУП2ЗУП3"" И ПланОбменаОрганизации.Ссылка.ВерсияФорматаОбмена <> ""1.0.beta""");
КонецПроцедуры
Процедура ПРО_Документ_ОтчетБанкаПоОперациямЭквайринга2_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
	
	// Особая логика: нет фильтра по сумме, поэтому версия формата должна быть выше чем 1.0.beta.
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "И ПланОбменаОсновнаяТаблица.ВариантНастройки <> ""ОбменУП2ЗУП3""",
	"И ПланОбменаОсновнаяТаблица.ВариантНастройки <> ""ОбменУП2ЗУП3"" И ПланОбменаОсновнаяТаблица.ВерсияФорматаОбмена <> ""1.0.beta""");
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "И ПланОбменаОрганизации.Ссылка.ВариантНастройки <> ""ОбменУП2ЗУП3""",
	"И ПланОбменаОрганизации.Ссылка.ВариантНастройки <> ""ОбменУП2ЗУП3"" И ПланОбменаОрганизации.Ссылка.ВерсияФорматаОбмена <> ""1.0.beta""");
КонецПроцедуры

#КонецОбласти
#Область Документ_ПоступлениеБезналичныхДенежныхСредств
Процедура ДобавитьПРО_Документ_ПоступлениеБезналичныхДенежныхСредств(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПоступлениеБезналичныхДенежныхСредств";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_5());
КонецПроцедуры



Процедура ПРО_Документ_ПоступлениеБезналичныхДенежныхСредств_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПоступлениеБезналичныхДенежныхСредств_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ПоступлениеБезналичныхДенежныхСредств_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданныйАванс)");
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Объект.ОбменДанными.Отправитель);
		КонецЦикла;
		
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_ПриходныйКассовыйОрдер
Процедура ДобавитьПРО_Документ_ПриходныйКассовыйОрдер(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПриходныйКассовыйОрдер";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ПриходныйКассовыйОрдер_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПриходныйКассовыйОрдер_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ПриходныйКассовыйОрдер_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданныйАванс)");
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Объект.ОбменДанными.Отправитель);
		КонецЦикла;
		
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_РасходныйКассовыйОрдер
Процедура ДобавитьПРО_Документ_РасходныйКассовыйОрдер(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.РасходныйКассовыйОрдер";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_РасходныйКассовыйОрдер_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_РасходныйКассовыйОрдер_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_РасходныйКассовыйОрдер_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданныйАванс)
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученныйАванс)");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Объект.ОбменДанными.Отправитель);
		КонецЦикла;
		
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_СписаниеБезналичныхДенежныхСредств
Процедура ДобавитьПРО_Документ_СписаниеБезналичныхДенежныхСредств(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СписаниеБезналичныхДенежныхСредств";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		Документ_СписаниеБезналичныхДенежныхСредств_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_5());
КонецПроцедуры

Функция Документ_СписаниеБезналичныхДенежныхСредств_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>БанковскийСчетПолучатель.Владелец</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>БанковскийСчетПолучатель</Наименование>
			|							<Тип>СправочникСсылка.БанковскиеСчетаОрганизаций</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|						<Свойство>
			|							<Наименование>Владелец</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Свойство</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


Процедура ПРО_Документ_СписаниеБезналичныхДенежныхСредств_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_СписаниеБезналичныхДенежныхСредств_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_СписаниеБезналичныхДенежныхСредств_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданныйАванс)
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученныйАванс)");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Объект.ОбменДанными.Отправитель);
		КонецЦикла;
		
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
//++ Локализация
#Область Документ_ОперацияПоЯндексКассе
Процедура ДобавитьПРО_Документ_ОперацияПоЯндексКассе(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОперацияПоЯндексКассе";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Документ_ОперацияПоЯндексКассе_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры

Функция Документ_ОперацияПоЯндексКассе_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>Организации.Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


Процедура ПРО_Документ_ОперацияПоЯндексКассе_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ОперацияПоЯндексКассе_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//-- Локализация
#Область Документ_АвансовыйОтчет
Процедура ДобавитьПРО_Документ_АвансовыйОтчет(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.АвансовыйОтчет";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		Документ_АвансовыйОтчет_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_АвансовыйОтчет_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.СтатусыАвансовогоОтчета</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Статус</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.СтатусыАвансовогоОтчета.Утвержден;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Статус</Наименование>
			|				<Тип>ПеречислениеСсылка.СтатусыАвансовогоОтчета</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_АвансовыйОтчет_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_АвансовыйОтчет_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//++ Локализация
//-- Локализация
#Область Документ_ЗаявкаНаРасходованиеДенежныхСредств
Процедура ДобавитьПРО_Документ_ЗаявкаНаРасходованиеДенежныхСредств(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ЗаявкаНаРасходованиеДенежныхСредств";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Документ_ЗаявкаНаРасходованиеДенежныхСредств_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры

Функция Документ_ЗаявкаНаРасходованиеДенежныхСредств_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ОрганизацияПолучатель</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ОрганизацияПолучатель</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>БанковскийСчетПолучатель.Владелец</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>БанковскийСчетПолучатель</Наименование>
			|					<Тип>СправочникСсылка.БанковскиеСчетаОрганизаций</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Владелец</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Свойство</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>БанковскийСчетПолучатель.Владелец</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>БанковскийСчетПолучатель</Наименование>
			|							<Тип>СправочникСсылка.БанковскиеСчетаОрганизаций</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|						<Свойство>
			|							<Наименование>Владелец</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Свойство</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУниверсальный</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


Процедура ПРО_Документ_ЗаявкаНаРасходованиеДенежныхСредств_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ЗаявкаНаРасходованиеДенежныхСредств_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_НачисленияКредитовИДепозитов
Процедура ДобавитьПРО_Документ_НачисленияКредитовИДепозитов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.НачисленияКредитовИДепозитов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_НачисленияКредитовИДепозитов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_НачисленияКредитовИДепозитов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_НачисленияКредитовИДепозитов_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданныйАванс)");
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Объект.ОбменДанными.Отправитель);
		КонецЦикла;
		
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_ПервичныйДокумент
Процедура ДобавитьПРО_Документ_ПервичныйДокумент(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПервичныйДокумент";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ПервичныйДокумент_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство, Склад, Закупки, Продажи, Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПервичныйДокумент_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство, Склад, Закупки, Продажи, Ввод остатков";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//++ Локализация
//-- Локализация
#Область Документ_КорректировкаЗадолженности
Процедура ДобавитьПРО_Документ_КорректировкаЗадолженности(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.КорректировкаЗадолженности";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		Документ_КорректировкаЗадолженности_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_КорректировкаЗадолженности_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.ХозяйственныеОперации</ТипСвойстваОбъекта>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ХозяйственнаяОперация</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.ХозяйственныеОперации.СписаниеБезнадежнойЗадолженностиЗаСчетРезервовПоСомнительнымДолгам;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ХозяйственнаяОперация</Наименование>
			|				<Тип>ПеречислениеСсылка.ХозяйственныеОперации</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_КорректировкаЗадолженности_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_КорректировкаЗадолженности_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Казначейство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_АктВыполненныхРабот
Процедура ДобавитьПРО_Документ_АктВыполненныхРабот(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.АктВыполненныхРабот";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_АктВыполненныхРабот_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_АктВыполненныхРабот_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_АктВыполненныхРабот_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданный)");
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
#Область Документ_ВозвратТоваровОтКлиента
Процедура ДобавитьПРО_Документ_ВозвратТоваровОтКлиента(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВозвратТоваровОтКлиента";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВозвратТоваровОтКлиента_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВозвратТоваровОтКлиента_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ВозвратТоваровОтКлиента_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданныйАванс)
	//++ Локализация
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученный)
	//-- Локализация
								|");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_ЗаказКлиента
Процедура ДобавитьПРО_Документ_ЗаказКлиента(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ЗаказКлиента";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_11(),
		Документ_ЗаказКлиента_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_ЗаказКлиента_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.СтатусыЗаказовКлиентов</ТипСвойстваОбъекта>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>Статус</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.СтатусыЗаказовКлиентов.НеСогласован;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Статус</Наименование>
			|				<Тип>ПеречислениеСсылка.СтатусыЗаказовКлиентов</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ЗаказКлиента_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	// Проверка на то, чтобы была хотя бы одна неотмененная строка в заказе, иначе не регистрируем
	Если Объект.Проведен И Объект.Статус <> Перечисления.СтатусыЗаказовКлиентов.НеСогласован Тогда
		ЕстьНеотмененнаяСтрока = Ложь;
		Для Каждого Строка Из Объект.Товары Цикл
			Если Не Строка.Отменено Тогда
				ЕстьНеотмененнаяСтрока = Истина;
				Прервать;
			КонецЕсли;		
		КонецЦикла;
		Если Не ЕстьНеотмененнаяСтрока Тогда
			Отказ = Истина;
		КонецЕсли;	
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_ЗаказКлиента_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ЗаказКлиента_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ЗаказКлиента_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Получатели.Количество() > 0 И Объект.СуммаДокумента = 0 Тогда
		// Заказы с нулевой суммой регистрируются только для версии формата 1.2 и позднее.
		МаксИндекс = Получатели.ВГраница();
		Для Индекс = 0 По МаксИндекс Цикл
			ИндексТек = МаксИндекс - Индекс;
			ТекПолучатель = Получатели[ИндексТек];
			ВерсияФормата = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекПолучатель, "ВерсияФорматаОбмена");
			ПодлежитВыгрузке = Ложь;
			Если НЕ (ВерсияФормата = "1.0.beta" Или НЕ ЗначениеЗаполнено(ВерсияФормата)) Тогда
				Если Число(ВерсияФормата) >= Число("1.2") Тогда
					ПодлежитВыгрузке = Истина;
				КонецЕсли;
			КонецЕсли;
			Если НЕ ПодлежитВыгрузке Тогда
				Получатели.Удалить(ИндексТек);
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_ЗаказКлиента2
Процедура ДобавитьПРО_Документ_ЗаказКлиента2(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ЗаказКлиента";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_11(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ЗаказКлиента2_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	//ПРО для конкретного значения функциональной опции ИспользоватьРасширенныеВозможностиЗаказаКлиента = Ложь
	ФО = ПолучитьФункциональнуюОпцию("ИспользоватьРасширенныеВозможностиЗаказаКлиента");
	Если ФО Тогда
		Отказ = Истина;
	КонецЕсли;
	
	// Проверка на то, чтобы была хотя бы одна неотмененная строка в заказе, иначе не регистрируем
	Если Объект.Проведен И Объект.Статус <> Перечисления.СтатусыЗаказовКлиентов.НеСогласован Тогда
		ЕстьНеотмененнаяСтрока = Ложь;
		Для Каждого Строка Из Объект.Товары Цикл
			Если Не Строка.Отменено Тогда
				ЕстьНеотмененнаяСтрока = Истина;
				Прервать;
			КонецЕсли;		
		КонецЦикла;
		Если Не ЕстьНеотмененнаяСтрока Тогда
			Отказ = Истина;
		КонецЕсли;	
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_ЗаказКлиента2_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ЗаказКлиента2_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_ЗаказКлиента2_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Получатели.Количество() > 0 И Объект.СуммаДокумента = 0 Тогда
		// Заказы с нулевой суммой регистрируются только для версии формата 1.2 и позднее.
		МаксИндекс = Получатели.ВГраница();
		Для Индекс = 0 По МаксИндекс Цикл
			ИндексТек = МаксИндекс - Индекс;
			ТекПолучатель = Получатели[ИндексТек];
			ВерсияФормата = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТекПолучатель, "ВерсияФорматаОбмена");
			ПодлежитВыгрузке = Ложь;
			Если НЕ (ВерсияФормата = "1.0.beta" Или НЕ ЗначениеЗаполнено(ВерсияФормата)) Тогда
				Если Число(ВерсияФормата) >= Число("1.2") Тогда
					ПодлежитВыгрузке = Истина;
				КонецЕсли;
			КонецЕсли;
			Если НЕ ПодлежитВыгрузке Тогда
				Получатели.Удалить(ИндексТек);
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_КорректировкаРеализации
Процедура ДобавитьПРО_Документ_КорректировкаРеализации(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.КорректировкаРеализации";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_КорректировкаРеализации_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_КорректировкаРеализации_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_КорректировкаРеализации_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданный)");
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
#Область Документ_ОтчетКомиссионера
Процедура ДобавитьПРО_Документ_ОтчетКомиссионера(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОтчетКомиссионера";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		Документ_ОтчетКомиссионера_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_ОтчетКомиссионера_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Число</ТипСвойстваОбъекта>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>СуммаДокумента</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>0</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>СуммаДокумента</Наименование>
			|				<Тип>Число</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ОтчетКомиссионера_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ОбменДаннымиСобытияУТ.ДокументОтчетКомиссионераКомитентуПриОбработкеПРО(Объект, Отказ);
	Если Не Отказ Тогда
		ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
		ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
		ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
		ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
		ПараметрыОбработкиПРО.Отказ               = Отказ;
		ПараметрыОбработкиПРО.Объект              = Объект;
		ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
		ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
		ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
		ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
		ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
		Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
		Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_ОтчетКомиссионера_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ОбменДаннымиСобытияУТ.ДокументОтчетКомиссионераКомитентуПриОбработкеПРО(Объект, Отказ);
	Если Не Отказ Тогда
		ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
		ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
		ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
		ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
		ПараметрыОбработкиПРО.Отказ               = Отказ;
		ПараметрыОбработкиПРО.Объект              = Объект;
		ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
		ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
		ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
		ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
		ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
		ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
		Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
		Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
		Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_ОтчетКомиссионера_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданный)
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученный)");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
#Область Документ_ОтчетКомиссионераОСписании
Процедура ДобавитьПРО_Документ_ОтчетКомиссионераОСписании(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОтчетКомиссионераОСписании";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_3());
КонецПроцедуры



Процедура ПРО_Документ_ОтчетКомиссионераОСписании_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ОтчетКомиссионераОСписании_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ОтчетКомитенту
Процедура ДобавитьПРО_Документ_ОтчетКомитенту(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОтчетКомитенту";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_3());
КонецПроцедуры



Процедура ПРО_Документ_ОтчетКомитенту_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ОбменДаннымиСобытияУТ.ДокументОтчетКомиссионераКомитентуПриОбработкеПРО(Объект, Отказ);
	Если Не Отказ Тогда
		ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
		ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
		ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
		ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
		ПараметрыОбработкиПРО.Отказ               = Отказ;
		ПараметрыОбработкиПРО.Объект              = Объект;
		ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
		ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
		ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
		ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
		ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
		Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
		Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_ОтчетКомитенту_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ОбменДаннымиСобытияУТ.ДокументОтчетКомиссионераКомитентуПриОбработкеПРО(Объект, Отказ);
	Если Не Отказ Тогда
		ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
		ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
		ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
		ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
		ПараметрыОбработкиПРО.Отказ               = Отказ;
		ПараметрыОбработкиПРО.Объект              = Объект;
		ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
		ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
		ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
		ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
		ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
		ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
		Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
		Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
		Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_ОтчетКомитенту_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданный)
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученный)");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
#Область Документ_ОтчетКомитентуОСписании
Процедура ДобавитьПРО_Документ_ОтчетКомитентуОСписании(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОтчетКомитентуОСписании";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_3());
КонецПроцедуры



Процедура ПРО_Документ_ОтчетКомитентуОСписании_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ОтчетКомитентуОСписании_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_РеализацияТоваровУслуг
Процедура ДобавитьПРО_Документ_РеализацияТоваровУслуг(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.РеализацияТоваровУслуг";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		Документ_РеализацияТоваровУслуг_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_РеализацияТоваровУслуг_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.СтатусыРеализацийТоваровУслуг</ТипСвойстваОбъекта>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>Статус</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.СтатусыРеализацийТоваровУслуг.КПредоплате;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Статус</Наименование>
			|				<Тип>ПеречислениеСсылка.СтатусыРеализацийТоваровУслуг</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_РеализацияТоваровУслуг_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_РеализацияТоваровУслуг_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_РеализацияТоваровУслуг_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданный)");
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
#Область Документ_РеализацияУслугПрочихАктивов
Процедура ДобавитьПРО_Документ_РеализацияУслугПрочихАктивов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.РеализацияУслугПрочихАктивов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		Документ_РеализацияУслугПрочихАктивов_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_РеализацияУслугПрочихАктивов_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.ХозяйственныеОперации</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ХозяйственнаяОперация</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.ХозяйственныеОперации.РеализацияКлиенту;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ХозяйственнаяОперация</Наименование>
			|				<Тип>ПеречислениеСсылка.ХозяйственныеОперации</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_РеализацияУслугПрочихАктивов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_РеализацияУслугПрочихАктивов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_РеализацияУслугПрочихАктивов_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданный)");
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
#Область Документ_СчетНаОплатуКлиенту
Процедура ДобавитьПРО_Документ_СчетНаОплатуКлиенту(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СчетНаОплатуКлиенту";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_СчетНаОплатуКлиенту_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_СчетНаОплатуКлиенту_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_СчетНаОплатуКлиенту_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Не Выгрузка И Получатели.Количество() > 0 Тогда
		
		Запрос = Новый Запрос("ВЫБРАТЬ 
								|СвязанныеДокументы.Ссылка КАК Ссылка
								|ИЗ
								|	КритерийОтбора.СвязанныеДокументы(&ЗначениеКритерияОтбора) КАК СвязанныеДокументы
								|ГДЕ
								|	ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураВыданныйАванс)
	//++ Локализация
								|	ИЛИ ТИПЗНАЧЕНИЯ(СвязанныеДокументы.Ссылка) = ТИП(Документ.СчетФактураПолученный)
	//-- Локализация
								|");
								
		Запрос.УстановитьПараметр("ЗначениеКритерияОтбора",Объект.Ссылка);
		
		Результат = Запрос.Выполнить().Выбрать();
		Пока Результат.Следующий() Цикл
			СчетФактура = Результат.Ссылка.ПолучитьОбъект();
			ВыполнитьПравилаРегистрацииДляОбъекта(СчетФактура, ПРО.ИмяПланаОбмена, Неопределено);
		КонецЦикла;
		
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
//++ Локализация
//-- Локализация
#Область Документ_ПоступлениеТоваровОтХранителя
Процедура ДобавитьПРО_Документ_ПоступлениеТоваровОтХранителя(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПоступлениеТоваровОтХранителя";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_6(),
		Документ_ПоступлениеТоваровОтХранителя_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_ПоступлениеТоваровОтХранителя_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>ПеречислениеСсылка.ХозяйственныеОперации</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ХозяйственнаяОперация</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Перечисления.ХозяйственныеОперации.ВозвратОтПереработчика2_5;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ХозяйственнаяОперация</Наименование>
			|					<Тип>ПеречислениеСсылка.ХозяйственныеОперации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>ПеречислениеСсылка.ХозяйственныеОперации</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ХозяйственнаяОперация</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Перечисления.ХозяйственныеОперации.ПоступлениеОтПереработчика2_5;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ХозяйственнаяОперация</Наименование>
			|					<Тип>ПеречислениеСсылка.ХозяйственныеОперации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|	</Группа>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ПоступлениеТоваровОтХранителя_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Производство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПоступлениеТоваровОтХранителя_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Производство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ПередачаТоваровХранителю
Процедура ДобавитьПРО_Документ_ПередачаТоваровХранителю(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПередачаТоваровХранителю";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_6(),
		Документ_ПередачаТоваровХранителю_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_ПередачаТоваровХранителю_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.ХозяйственныеОперации</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ХозяйственнаяОперация</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.ХозяйственныеОперации.ПередачаПереработчику2_5;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ХозяйственнаяОперация</Наименование>
			|				<Тип>ПеречислениеСсылка.ХозяйственныеОперации</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ПередачаТоваровХранителю_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Производство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПередачаТоваровХранителю_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Производство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//++ Локализация
//-- Локализация
//++ Локализация
//-- Локализация
#Область Документ_АннулированиеПодарочныхСертификатов
Процедура ДобавитьПРО_Документ_АннулированиеПодарочныхСертификатов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.АннулированиеПодарочныхСертификатов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_АннулированиеПодарочныхСертификатов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_АннулированиеПодарочныхСертификатов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры
Процедура ПРО_Документ_АннулированиеПодарочныхСертификатов_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	Если Объект.ПодарочныеСертификаты.Итог("СуммаВВалютеСертификата") = 0 Тогда
		Отказ = Истина;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_ВозвратПодарочныхСертификатов
Процедура ДобавитьПРО_Документ_ВозвратПодарочныхСертификатов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВозвратПодарочныхСертификатов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		Документ_ВозвратПодарочныхСертификатов_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_ВозвратПодарочныхСертификатов_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.СтатусыЧековККМ</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Статус</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.СтатусыЧековККМ.Пробит;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Статус</Наименование>
			|				<Тип>ПеречислениеСсылка.СтатусыЧековККМ</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ВозвратПодарочныхСертификатов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВозвратПодарочныхСертификатов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_КассоваяСмена
Процедура ДобавитьПРО_Документ_КассоваяСмена(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.КассоваяСмена";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_КассоваяСмена_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_КассоваяСмена_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ОтчетОРозничныхПродажах
Процедура ДобавитьПРО_Документ_ОтчетОРозничныхПродажах(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОтчетОРозничныхПродажах";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ОтчетОРозничныхПродажах_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ОтчетОРозничныхПродажах_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_РеализацияПодарочныхСертификатов
Процедура ДобавитьПРО_Документ_РеализацияПодарочныхСертификатов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.РеализацияПодарочныхСертификатов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_РеализацияПодарочныхСертификатов_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	ОтчетОРозничныхПродажах.Ссылка
		|ИЗ
		|	Документ.ОтчетОРозничныхПродажах КАК ОтчетОРозничныхПродажах
		|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.РеализацияПодарочныхСертификатов КАК РеализацияПодарочныхСертификатов
		|		ПО ОтчетОРозничныхПродажах.КассоваяСмена = РеализацияПодарочныхСертификатов.КассоваяСмена
		|ГДЕ
		|	РеализацияПодарочныхСертификатов.Ссылка = &Ссылка";
	
	Запрос.УстановитьПараметр("Ссылка", Объект.Ссылка);
	
	Выборка = Запрос.Выполнить().Выбрать();
	
	Если Выборка.Следующий() Тогда
		ВыполнитьПравилаРегистрацииДляОбъекта(Выборка.Ссылка.ПолучитьОбъект(), ПРО.ИмяПланаОбмена, Объект.ОбменДанными.Отправитель);
	КонецЕсли;
	
	Отказ = Истина;
КонецПроцедуры
Процедура ПРО_Документ_РеализацияПодарочныхСертификатов_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_РеализацияПодарочныхСертификатов_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ОтчетОРозничныхВозвратах
Процедура ДобавитьПРО_Документ_ОтчетОРозничныхВозвратах(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОтчетОРозничныхВозвратах";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_6(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ОтчетОРозничныхВозвратах_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Отказ = Истина;
	
	Если Не Выгрузка Тогда
		Запрос = Новый Запрос("ВЫБРАТЬ
			|	ОтчетОРозничныхПродажах.Ссылка КАК Ссылка
			|ИЗ
			|	Документ.ОтчетОРозничныхПродажах КАК ОтчетОРозничныхПродажах
			|ГДЕ
			|	ОтчетОРозничныхПродажах.КассоваяСмена = &КассоваяСмена
			|	И ОтчетОРозничныхПродажах.КассоваяСмена <> ЗНАЧЕНИЕ(Документ.КассоваяСмена.ПустаяСсылка)
			|	И ОтчетОРозничныхПродажах.НалогообложениеНДС = &НалогообложениеНДС
			|");
		Запрос.УстановитьПараметр("КассоваяСмена", Объект.КассоваяСмена);
		Запрос.УстановитьПараметр("НалогообложениеНДС", Объект.НалогообложениеНДС);
		Выборка = Запрос.Выполнить().Выбрать();
		Пока Выборка.Следующий() Цикл
			Если ОбщегоНазначения.СсылкаСуществует(Выборка.Ссылка) Тогда	
				ВыполнитьПравилаРегистрацииДляОбъекта(Выборка.Ссылка.ПолучитьОбъект(), ПРО.ИмяПланаОбмена, Объект.ОбменДанными.Отправитель);
			КонецЕсли;
		КонецЦикла;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_ВнутреннееПотреблениеТоваров
Процедура ДобавитьПРО_Документ_ВнутреннееПотреблениеТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВнутреннееПотреблениеТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		Документ_ВнутреннееПотреблениеТоваров_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_ВнутреннееПотреблениеТоваров_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>ПеречислениеСсылка.ХозяйственныеОперации</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ХозяйственнаяОперация</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Перечисления.ХозяйственныеОперации.СписаниеТоваровПоТребованию;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ХозяйственнаяОперация</Наименование>
			|					<Тип>ПеречислениеСсылка.ХозяйственныеОперации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>ПеречислениеСсылка.ХозяйственныеОперации</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ХозяйственнаяОперация</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Перечисления.ХозяйственныеОперации.ПередачаВЭксплуатацию;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ХозяйственнаяОперация</Наименование>
			|					<Тип>ПеречислениеСсылка.ХозяйственныеОперации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|	</Группа>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ВнутреннееПотреблениеТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВнутреннееПотреблениеТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ВыкупПринятыхНаХранениеТоваров
Процедура ДобавитьПРО_Документ_ВыкупПринятыхНаХранениеТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ВыкупПринятыхНаХранениеТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ВыкупПринятыхНаХранениеТоваров_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Отказ = Истина;
КонецПроцедуры
Процедура ПРО_Документ_ВыкупПринятыхНаХранениеТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ВыкупПринятыхНаХранениеТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ЗаказНаПеремещение
Процедура ДобавитьПРО_Документ_ЗаказНаПеремещение(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ЗаказНаПеремещение";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Документ_ЗаказНаПеремещение_ОтборПоСвойствамПланаОбмена(),
		Документ_ЗаказНаПеремещение_ОтборПоСвойствамОбъекта());
КонецПроцедуры

Функция Документ_ЗаказНаПеремещение_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Склады</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Склады].Склад</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>СкладПолучатель</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>СкладПолучатель</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Склады]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Склады</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Склады].Склад</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>СкладОтправитель</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>СкладОтправитель</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Склады]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ИспользоватьОтборПоСкладам</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>false</СвойствоОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ИспользоватьОтборПоСкладам</Наименование>
			|					<Тип>Булево</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВыгружатьАналитикуПоСкладам</СвойствоПланаОбмена>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>true</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВыгружатьАналитикуПоСкладам</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции

Функция Документ_ЗаказНаПеремещение_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.ХозяйственныеОперации</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ХозяйственнаяОперация</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.ХозяйственныеОперации.ПеремещениеТоваров;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ХозяйственнаяОперация</Наименование>
			|				<Тип>ПеречислениеСсылка.ХозяйственныеОперации</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ЗаказНаПеремещение_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ЗаказНаПеремещение_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ОприходованиеИзлишковТоваров
Процедура ДобавитьПРО_Документ_ОприходованиеИзлишковТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОприходованиеИзлишковТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ОприходованиеИзлишковТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ОприходованиеИзлишковТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ОтгрузкаТоваровСХранения
Процедура ДобавитьПРО_Документ_ОтгрузкаТоваровСХранения(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ОтгрузкаТоваровСХранения";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ОтгрузкаТоваровСХранения_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Отказ = Истина;
КонецПроцедуры
Процедура ПРО_Документ_ОтгрузкаТоваровСХранения_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ОтгрузкаТоваровСХранения_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ПеремещениеТоваров
Процедура ДобавитьПРО_Документ_ПеремещениеТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПеремещениеТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Документ_ПеремещениеТоваров_ОтборПоСвойствамПланаОбмена(),
		Документ_ПеремещениеТоваров_ОтборПоСвойствамОбъекта());
КонецПроцедуры

Функция Документ_ПеремещениеТоваров_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВыгружатьАналитикуПоСкладам</СвойствоПланаОбмена>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>true</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВыгружатьАналитикуПоСкладам</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Склады</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Склады].Склад</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>СкладОтправитель</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>СкладОтправитель</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Склады]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Склады</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Склады].Склад</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>СкладПолучатель</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>СкладПолучатель</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Склады]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ИспользоватьОтборПоСкладам</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>false</СвойствоОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ИспользоватьОтборПоСкладам</Наименование>
			|					<Тип>Булево</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции

Функция Документ_ПеремещениеТоваров_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.СтатусыПеремещенийТоваров</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Статус</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.СтатусыПеремещенийТоваров.Принято;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Статус</Наименование>
			|				<Тип>ПеречислениеСсылка.СтатусыПеремещенийТоваров</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ПеремещениеТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПеремещениеТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ПересортицаТоваров
Процедура ДобавитьПРО_Документ_ПересортицаТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПересортицаТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ПересортицаТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПересортицаТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ПересчетТоваров
Процедура ДобавитьПРО_Документ_ПересчетТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПересчетТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Документ_ПересчетТоваров_ОтборПоСвойствамПланаОбмена(),
		Документ_ПересчетТоваров_ОтборПоСвойствамОбъекта());
КонецПроцедуры

Функция Документ_ПересчетТоваров_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Склады</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Склады].Склад</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Склад</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Склады]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ИспользоватьОтборПоСкладам</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>false</СвойствоОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ИспользоватьОтборПоСкладам</Наименование>
			|					<Тип>Булево</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВыгружатьАналитикуПоСкладам</СвойствоПланаОбмена>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>true</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВыгружатьАналитикуПоСкладам</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции

Функция Документ_ПересчетТоваров_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.СтатусыПересчетовТоваров</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Статус</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.СтатусыПересчетовТоваров.Выполнено;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Статус</Наименование>
			|				<Тип>ПеречислениеСсылка.СтатусыПересчетовТоваров</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ПересчетТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПересчетТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ПриемкаТоваровНаХранение
Процедура ДобавитьПРО_Документ_ПриемкаТоваровНаХранение(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПриемкаТоваровНаХранение";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_ПриемкаТоваровНаХранение_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Отказ = Истина;
КонецПроцедуры
Процедура ПРО_Документ_ПриемкаТоваровНаХранение_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПриемкаТоваровНаХранение_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_ПрочееОприходованиеТоваров
Процедура ДобавитьПРО_Документ_ПрочееОприходованиеТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ПрочееОприходованиеТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		Документ_ПрочееОприходованиеТоваров_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_ПрочееОприходованиеТоваров_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>ПеречислениеСсылка.ХозяйственныеОперации</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ХозяйственнаяОперация</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Перечисления.ХозяйственныеОперации.ВозвратИзЭксплуатации;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ХозяйственнаяОперация</Наименование>
			|					<Тип>ПеречислениеСсылка.ХозяйственныеОперации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>ПеречислениеСсылка.ХозяйственныеОперации</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ХозяйственнаяОперация</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Перечисления.ХозяйственныеОперации.ПоступлениеИзПроизводства;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ХозяйственнаяОперация</Наименование>
			|					<Тип>ПеречислениеСсылка.ХозяйственныеОперации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|	</Группа>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_ПрочееОприходованиеТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_ПрочееОприходованиеТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_СборкаТоваров
Процедура ДобавитьПРО_Документ_СборкаТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СборкаТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_2(),
		Документ_СборкаТоваров_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_СборкаТоваров_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.СтатусыСборокТоваров</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Статус</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.СтатусыСборокТоваров.СобраноРазобрано;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Статус</Наименование>
			|				<Тип>ПеречислениеСсылка.СтатусыСборокТоваров</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_СборкаТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад, Производство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_СборкаТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад, Производство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//++ Локализация
//-- Локализация
#Область Документ_СписаниеНедостачТоваров
Процедура ДобавитьПРО_Документ_СписаниеНедостачТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СписаниеНедостачТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_СписаниеНедостачТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_СписаниеНедостачТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_СписаниеПринятыхНаХранениеТоваров
Процедура ДобавитьПРО_Документ_СписаниеПринятыхНаХранениеТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СписаниеПринятыхНаХранениеТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_СписаниеПринятыхНаХранениеТоваров_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Отказ = Истина;
КонецПроцедуры
Процедура ПРО_Документ_СписаниеПринятыхНаХранениеТоваров_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_СписаниеПринятыхНаХранениеТоваров_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//++ Локализация
#Область Документ_СчетФактураВыданный
Процедура ДобавитьПРО_Документ_СчетФактураВыданный(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СчетФактураВыданный";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		Документ_СчетФактураВыданный_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_СчетФактураВыданный_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ДокументОснование.Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ДокументОснование</Наименование>
			|				<Тип>ДокументСсылка.АктВыполненныхРабот</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_СчетФактураВыданный_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	ОбменДаннымиСобытияУТ.ДокументСчетФактураВыданныйПередОбработкойПРО(Объект, Отказ);
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураВыданный_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	// Получаем значения параметров из объекта ИБ
	
	ЗапросПоРеквизитам = Новый Запрос;
	ЗапросПоРеквизитам.Текст =
		"ВЫБРАТЬ
		|	СчетФактураВыданный.Дата,
		|	СчетФактураВыданный.Организация,
		|	ВЫБОР
		|		КОГДА СчетФактураВыданный.ДокументОснование ССЫЛКА Документ.ПередачаТоваровМеждуОрганизациями
		|				ИЛИ СчетФактураВыданный.ДокументОснование ССЫЛКА Документ.ВозвратТоваровМеждуОрганизациями
		|			ТОГДА СчетФактураВыданный.ДокументОснование.ОрганизацияПолучатель
		|		КОГДА СчетФактураВыданный.ДокументОснование ССЫЛКА Документ.ОтчетПоКомиссииМеждуОрганизациями
		|			ТОГДА ВЫБОР
		|					КОГДА СчетФактураВыданный.Организация <> СчетФактураВыданный.ДокументОснование.Организация
		|						ТОГДА СчетФактураВыданный.ДокументОснование.Организация
		|					ИНАЧЕ СчетФактураВыданный.ДокументОснование.Комиссионер
		|				КОНЕЦ
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
		|	КОНЕЦ КАК ОрганизацияПолучатель,
		|	ВЫБОР
		|			КОГДА СчетФактураВыданный.ДокументОснование ССЫЛКА Документ.ОтчетПоКомиссииМеждуОрганизациями
		|					И СчетФактураВыданный.Организация = СчетФактураВыданный.ДокументОснование.Организация
		|				ТОГДА ИСТИНА
		|			ИНАЧЕ НЕ СчетФактураВыданный.ДокументОснование.РасчетыЧерезОтдельногоКонтрагента
		|		КОНЕЦ
		|		И ВЫБОР
		|			КОГДА СчетФактураВыданный.ДатаВыставления = &ПустаяДата
		|				ТОГДА ЛОЖЬ
		|			ИНАЧЕ ИСТИНА
		|		КОНЕЦ КАК ВыгружатьДляПокупателя,
		|	СчетФактураВыданный.ДокументОснование
		|ИЗ
		|	Документ.СчетФактураВыданный КАК СчетФактураВыданный
		|ГДЕ
		|	СчетФактураВыданный.Ссылка = &Ссылка";
	
	ЗапросПоРеквизитам.УстановитьПараметр("Ссылка", Объект.Ссылка);
	ЗапросПоРеквизитам.УстановитьПараметр("ПустаяДата", Дата("00010101"));
	РеквизитыДокумента = ЗапросПоРеквизитам.Выполнить().Выбрать();
	РеквизитыДокумента.Следующий();
	
	ПараметрыЗапроса.Вставить("Дата", РеквизитыДокумента.Дата);
	ПараметрыЗапроса.Вставить("Организация", РеквизитыДокумента.Организация);
	ПараметрыЗапроса.Вставить("РазделУчета1", "Продажи");
	
	ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
		|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
		|	И ПланОбменаРазделыУчета.Выгружать
		|ГДЕ
		|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
		|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_Организация
		|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
		|			И (&СвойствоОбъекта_Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
		|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
		|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
		|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
		|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
		|И &УсловиеОтбораПоРеквизитуФлагу";
	
	Если ТипЗнч(РеквизитыДокумента.ДокументОснование) = Тип("ДокументСсылка.ПередачаТоваровМеждуОрганизациями")
		Или ТипЗнч(РеквизитыДокумента.ДокументОснование) = Тип("ДокументСсылка.ВозвратТоваровМеждуОрганизациями")
		Или ТипЗнч(РеквизитыДокумента.ДокументОснование) = Тип("ДокументСсылка.ОтчетПоКомиссииМеждуОрганизациями") Тогда
		
		Если РеквизитыДокумента.ВыгружатьДляПокупателя Тогда
		
			// По организации-получателю документ может быть зарегистрирован для целей выгрузки
			// счета-фактуры полученного
			
			ПараметрыЗапроса.Вставить("ОрганизацияПолучатель", РеквизитыДокумента.ОрганизацияПолучатель);
			
			ТекстЗапроса = ТекстЗапроса +
				"
				|ОБЪЕДИНИТЬ ВСЕ
				|ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка
				|ИЗ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
				|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
				|	И ПланОбменаРазделыУчета.Выгружать
				|ГДЕ
				|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
				|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_ОрганизацияПолучатель
				|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
				|			И (&СвойствоОбъекта_ОрганизацияПолучатель <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
				|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
				|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
				|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
				|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
				|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
				|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
				|И &УсловиеОтбораПоРеквизитуФлагу";
			
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураВыданный_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	// Получаем значения параметров из текущей версии объекта
	
	ПараметрыЗапроса.Вставить("Дата", Объект.Дата);
	ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
	ПараметрыЗапроса.Вставить("РазделУчета1", "Продажи");
	
	ТипОснования = ТипЗнч(Объект.ДокументОснование);
	Если ТипОснования = Тип("ДокументСсылка.ПередачаТоваровМеждуОрганизациями")
		Или ТипОснования = Тип("ДокументСсылка.ВозвратТоваровМеждуОрганизациями") 
		Или ТипОснования = Тип("ДокументСсылка.ОтчетПоКомиссииМеждуОрганизациями") Тогда
		
		Если ТипОснования = Тип("ДокументСсылка.ОтчетПоКомиссииМеждуОрганизациями") Тогда
			
			РеквизитыДокументаОснования = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(
				Объект.ДокументОснование, "РасчетыЧерезОтдельногоКонтрагента, Организация, Комиссионер");
			
			Если Объект.Организация = РеквизитыДокументаОснования.Организация Тогда
				ОрганизацияПолучатель = РеквизитыДокументаОснования.Комиссионер;
				ВыгружатьДляПокупателя = Истина;
			Иначе
				ОрганизацияПолучатель = РеквизитыДокументаОснования.Организация;
				ВыгружатьДляПокупателя = Не РеквизитыДокументаОснования.РасчетыЧерезОтдельногоКонтрагента
			КонецЕсли;
			
		Иначе
			РеквизитыДокументаОснования = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(
				Объект.ДокументОснование, "РасчетыЧерезОтдельногоКонтрагента, ОрганизацияПолучатель");
			ОрганизацияПолучатель = РеквизитыДокументаОснования.ОрганизацияПолучатель;
			ВыгружатьДляПокупателя = Не РеквизитыДокументаОснования.РасчетыЧерезОтдельногоКонтрагента
		КонецЕсли;
				
		ПараметрыЗапроса.Вставить("ОрганизацияПолучатель", ОрганизацияПолучатель);
		Если Не ЗначениеЗаполнено(Объект.ДатаВыставления) Тогда
			ВыгружатьДляПокупателя = Ложь;
		КонецЕсли;
	
		ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
		|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
		|	И ПланОбменаРазделыУчета.Выгружать
		|ГДЕ
		|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
		|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_Организация
		|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
		|			И (&СвойствоОбъекта_Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
		|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
		|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
		|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
		|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
		|И &УсловиеОтбораПоРеквизитуФлагу";
		
		
		Если ВыгружатьДляПокупателя Тогда
		
			// По организации-получателю документ может быть зарегистрирован для целей выгрузки
			// счета-фактуры полученного
			ТекстЗапроса = ТекстЗапроса +
				"
				|ОБЪЕДИНИТЬ ВСЕ
				|ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка
				|ИЗ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
				|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
				|	И ПланОбменаРазделыУчета.Выгружать
				|ГДЕ
				|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
				|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_ОрганизацияПолучатель
				|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
				|			И (&СвойствоОбъекта_ОрганизацияПолучатель <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
				|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
				|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
				|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
				|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
				|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
				|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
				|И &УсловиеОтбораПоРеквизитуФлагу";
		КонецЕсли;
	Иначе
		ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
		|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
		|	И ПланОбменаРазделыУчета.Выгружать
		|ГДЕ
		|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
		|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_Организация
		|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
		|			И (&СвойствоОбъекта_Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
		|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
		|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
		|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
		|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
		|И &УсловиеОтбораПоРеквизитуФлагу";
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
//-- Локализация
#Область Документ_СчетФактураВыданныйАванс
Процедура ДобавитьПРО_Документ_СчетФактураВыданныйАванс(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СчетФактураВыданныйАванс";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_СчетФактураВыданныйАванс_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	ИсключаемыеТипыДокументовОснований = Новый Массив;
	ИсключаемыеТипыДокументовОснований.Добавить(Тип("ДокументСсылка.ВозвратТоваровМеждуОрганизациями"));
	ИсключаемыеТипыДокументовОснований.Добавить(Тип("ДокументСсылка.РеализацияПодарочныхСертификатов"));
	ИсключаемыеТипыДокументовОснований.Добавить(Тип("ДокументСсылка.ВводОстатков"));
	
	Если НЕ ЗначениеЗаполнено(Объект.ДокументОснование) 
		ИЛИ ИсключаемыеТипыДокументовОснований.Найти(ТипЗнч(Объект.ДокументОснование)) <> Неопределено Тогда
		Отказ = Истина;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураВыданныйАванс_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураВыданныйАванс_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//++ Локализация
#Область Документ_СчетФактураКомиссионеру
Процедура ДобавитьПРО_Документ_СчетФактураКомиссионеру(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СчетФактураКомиссионеру";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		Документ_СчетФактураКомиссионеру_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_СчетФактураКомиссионеру_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_СчетФактураКомиссионеру_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Отказ = Истина;
	Если ЗначениеЗаполнено(Объект.ДокументОснование) Тогда
		ТипДокументаОснования = ТипЗнч(Объект.ДокументОснование);
		Если ТипДокументаОснования = Тип("ДокументСсылка.ОтчетКомиссионера") 
			ИЛИ ТипДокументаОснования = Тип("ДокументСсылка.ОтчетПоКомиссииМеждуОрганизациями") Тогда
			Если Объект.ДокументОснование.СуммаДокумента > 0 Тогда
				ЕстьТовары = Ложь;
				Для Каждого СтрокаТовары Из Объект.ДокументОснование.Товары Цикл
					Если СтрокаТовары.Количество <= 0 Тогда
						Продолжить;
					КонецЕсли;
					ТипНоменклатуры = Неопределено;
					Если ЗначениеЗаполнено(СтрокаТовары.Номенклатура) Тогда
						ТипНоменклатуры = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СтрокаТовары.Номенклатура, "ТипНоменклатуры");
					Иначе
						Продолжить;
					КонецЕсли;
					
					Если ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар Тогда
						ЕстьТовары = Истина;
						Прервать;
					КонецЕсли;
				КонецЦикла;
				Отказ = Не ЕстьТовары;
			КонецЕсли;
		КонецЕсли;
	КонецЕсли;
	Если НЕ Отказ Тогда
		Если Объект.Покупатели.Количество() = 0 Тогда
			Отказ = Истина;
		Иначе
			СтрокаПокупатель = Объект.Покупатели[0];
			Если НЕ ЗначениеЗаполнено(СтрокаПокупатель.Покупатель) Тогда
				Отказ = Истина;
			КонецЕсли;
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураКомиссионеру_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	// Получаем значения параметров из объекта ИБ
	
	ЗапросПоРеквизитам = Новый Запрос;
	ЗапросПоРеквизитам.Текст =
		"ВЫБРАТЬ
		|	СчетФактураВыданный.Дата,
		|	СчетФактураВыданный.Организация,
		|	ВЫБОР
		|		КОГДА СчетФактураВыданный.ДокументОснование ССЫЛКА Документ.ОтчетПоКомиссииМеждуОрганизациями
		|			ТОГДА ВЫБОР
		|					КОГДА СчетФактураВыданный.Организация <> СчетФактураВыданный.ДокументОснование.Организация
		|						ТОГДА СчетФактураВыданный.ДокументОснование.Организация
		|					ИНАЧЕ СчетФактураВыданный.ДокументОснование.Комиссионер
		|				КОНЕЦ
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
		|	КОНЕЦ КАК ОрганизацияПолучатель,
		|	ВЫБОР
		|			КОГДА СчетФактураВыданный.ДокументОснование ССЫЛКА Документ.ОтчетПоКомиссииМеждуОрганизациями
		|					И СчетФактураВыданный.Организация = СчетФактураВыданный.ДокументОснование.Организация
		|				ТОГДА ИСТИНА
		|			ИНАЧЕ НЕ СчетФактураВыданный.ДокументОснование.РасчетыЧерезОтдельногоКонтрагента
		|		КОНЕЦ
		|		И ВЫБОР
		|			КОГДА СчетФактураВыданный.ДатаВыставления = &ПустаяДата
		|				ТОГДА ЛОЖЬ
		|			ИНАЧЕ ИСТИНА
		|		КОНЕЦ КАК ВыгружатьДляПокупателя,
		|	СчетФактураВыданный.ДокументОснование
		|ИЗ
		|	Документ.СчетФактураВыданный КАК СчетФактураВыданный
		|ГДЕ
		|	СчетФактураВыданный.Ссылка = &Ссылка";
	
	ЗапросПоРеквизитам.УстановитьПараметр("Ссылка", Объект.Ссылка);
	ЗапросПоРеквизитам.УстановитьПараметр("ПустаяДата", Дата("00010101"));
	РеквизитыДокумента = ЗапросПоРеквизитам.Выполнить().Выбрать();
	РеквизитыДокумента.Следующий();
	
	ПараметрыЗапроса.Вставить("Дата", РеквизитыДокумента.Дата);
	ПараметрыЗапроса.Вставить("Организация", РеквизитыДокумента.Организация);
	ПараметрыЗапроса.Вставить("РазделУчета1", "Продажи");
	
	ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
		|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
		|	И ПланОбменаРазделыУчета.Выгружать
		|ГДЕ
		|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
		|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_Организация
		|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
		|			И (&СвойствоОбъекта_Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
		|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
		|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
		|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
		|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
		|И &УсловиеОтбораПоРеквизитуФлагу";
	
	Если ТипЗнч(РеквизитыДокумента.ДокументОснование) = Тип("ДокументСсылка.ОтчетПоКомиссииМеждуОрганизациями") Тогда
		
		Если РеквизитыДокумента.ВыгружатьДляПокупателя Тогда
		
			// По организации-получателю документ может быть зарегистрирован для целей выгрузки
			// счета-фактуры полученного
			
			ПараметрыЗапроса.Вставить("ОрганизацияПолучатель", РеквизитыДокумента.ОрганизацияПолучатель);
			
			ТекстЗапроса = ТекстЗапроса +
				"
				|ОБЪЕДИНИТЬ ВСЕ
				|ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка
				|ИЗ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
				|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
				|	И ПланОбменаРазделыУчета.Выгружать
				|ГДЕ
				|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
				|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_ОрганизацияПолучатель
				|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
				|			И (&СвойствоОбъекта_ОрганизацияПолучатель <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
				|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
				|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
				|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
				|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
				|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
				|И &УсловиеОтбораПоРеквизитуФлагу";
			
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураКомиссионеру_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	// Получаем значения параметров из текущей версии объекта
	
	ПараметрыЗапроса.Вставить("Дата", Объект.Дата);
	ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
	ПараметрыЗапроса.Вставить("РазделУчета1", "Продажи");
	ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
		|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
		|	И ПланОбменаРазделыУчета.Выгружать
		|ГДЕ
		|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
		|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_Организация
		|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
		|			И (&СвойствоОбъекта_Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
		|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
		|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
		|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
		|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
		|И &УсловиеОтбораПоРеквизитуФлагу";
	
	Если ТипЗнч(Объект.ДокументОснование) = Тип("ДокументСсылка.ОтчетПоКомиссииМеждуОрганизациями") Тогда
		
		РеквизитыДокументаОснования = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(
			Объект.ДокументОснование, "РасчетыЧерезОтдельногоКонтрагента, Организация, Комиссионер");
		
		Если Объект.Организация = РеквизитыДокументаОснования.Организация Тогда
			ОрганизацияПолучатель = РеквизитыДокументаОснования.Комиссионер;
			ВыгружатьДляПокупателя = Истина;
		Иначе
			ОрганизацияПолучатель = РеквизитыДокументаОснования.Организация;
			ВыгружатьДляПокупателя = Не РеквизитыДокументаОснования.РасчетыЧерезОтдельногоКонтрагента
		КонецЕсли;
			
		
		Если Не ЗначениеЗаполнено(Объект.ДатаВыставления) Тогда
			ВыгружатьДляПокупателя = Ложь;
		КонецЕсли;
		
		Если ВыгружатьДляПокупателя Тогда
		
			// По организации-получателю документ может быть зарегистрирован для целей выгрузки
			// счета-фактуры полученного
			
			ПараметрыЗапроса.Вставить("ОрганизацияПолучатель", ОрганизацияПолучатель);
			
			ТекстЗапроса = ТекстЗапроса +
				"
				|ОБЪЕДИНИТЬ ВСЕ
				|ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка
				|ИЗ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
				|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
				|	И ПланОбменаРазделыУчета.Выгружать
				|ГДЕ
				|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
				|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_ОрганизацияПолучатель
				|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
				|			И (&СвойствоОбъекта_ОрганизацияПолучатель <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
				|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
				|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
				|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
				|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
				|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
				|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
				|И &УсловиеОтбораПоРеквизитуФлагу";
			
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_СчетФактураНалоговыйАгент
Процедура ДобавитьПРО_Документ_СчетФактураНалоговыйАгент(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СчетФактураНалоговыйАгент";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		Документ_СчетФактураНалоговыйАгент_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Документ_СчетФактураНалоговыйАгент_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ДокументОснование.Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ДокументОснование</Наименование>
			|				<Тип>ДокументСсылка.АвансовыйОтчет</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_СчетФактураНалоговыйАгент_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	// Получаем значения параметров из объекта ИБ
	
	ЗапросПоРеквизитам = Новый Запрос;
	ЗапросПоРеквизитам.Текст =
		"ВЫБРАТЬ
		|	СчетФактураВыданный.Дата,
		|	СчетФактураВыданный.Организация,
		|	ВЫБОР
		|		КОГДА СчетФактураВыданный.ДокументОснование ССЫЛКА Документ.ПередачаТоваровМеждуОрганизациями
		|				ИЛИ СчетФактураВыданный.ДокументОснование ССЫЛКА Документ.ВозвратТоваровМеждуОрганизациями
		|			ТОГДА СчетФактураВыданный.ДокументОснование.ОрганизацияПолучатель
		|		КОГДА СчетФактураВыданный.ДокументОснование ССЫЛКА Документ.ОтчетПоКомиссииМеждуОрганизациями
		|			ТОГДА ВЫБОР
		|					КОГДА СчетФактураВыданный.Организация <> СчетФактураВыданный.ДокументОснование.Организация
		|						ТОГДА СчетФактураВыданный.ДокументОснование.Организация
		|					ИНАЧЕ СчетФактураВыданный.ДокументОснование.Комиссионер
		|				КОНЕЦ
		|		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)
		|	КОНЕЦ КАК ОрганизацияПолучатель,
		|	ВЫБОР
		|			КОГДА СчетФактураВыданный.ДокументОснование ССЫЛКА Документ.ОтчетПоКомиссииМеждуОрганизациями
		|					И СчетФактураВыданный.Организация = СчетФактураВыданный.ДокументОснование.Организация
		|				ТОГДА ИСТИНА
		|			ИНАЧЕ НЕ СчетФактураВыданный.ДокументОснование.РасчетыЧерезОтдельногоКонтрагента
		|		КОНЕЦ
		|		И ВЫБОР
		|			КОГДА СчетФактураВыданный.ДатаВыставления = &ПустаяДата
		|				ТОГДА ЛОЖЬ
		|			ИНАЧЕ ИСТИНА
		|		КОНЕЦ КАК ВыгружатьДляПокупателя,
		|	СчетФактураВыданный.ДокументОснование
		|ИЗ
		|	Документ.СчетФактураВыданный КАК СчетФактураВыданный
		|ГДЕ
		|	СчетФактураВыданный.Ссылка = &Ссылка";
	
	ЗапросПоРеквизитам.УстановитьПараметр("Ссылка", Объект.Ссылка);
	ЗапросПоРеквизитам.УстановитьПараметр("ПустаяДата", Дата("00010101"));
	РеквизитыДокумента = ЗапросПоРеквизитам.Выполнить().Выбрать();
	РеквизитыДокумента.Следующий();
	
	ПараметрыЗапроса.Вставить("Дата", РеквизитыДокумента.Дата);
	ПараметрыЗапроса.Вставить("Организация", РеквизитыДокумента.Организация);
	ПараметрыЗапроса.Вставить("РазделУчета1", "Продажи");
	
	ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
		|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
		|	И ПланОбменаРазделыУчета.Выгружать
		|ГДЕ
		|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
		|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_Организация
		|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
		|			И (&СвойствоОбъекта_Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
		|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
		|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
		|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
		|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
		|И &УсловиеОтбораПоРеквизитуФлагу";
	
	Если ТипЗнч(РеквизитыДокумента.ДокументОснование) = Тип("ДокументСсылка.ПередачаТоваровМеждуОрганизациями")
		Или ТипЗнч(РеквизитыДокумента.ДокументОснование) = Тип("ДокументСсылка.ВозвратТоваровМеждуОрганизациями")
		Или ТипЗнч(РеквизитыДокумента.ДокументОснование) = Тип("ДокументСсылка.ОтчетПоКомиссииМеждуОрганизациями") Тогда
		
		Если РеквизитыДокумента.ВыгружатьДляПокупателя Тогда
		
			// По организации-получателю документ может быть зарегистрирован для целей выгрузки
			// счета-фактуры полученного
			
			ПараметрыЗапроса.Вставить("ОрганизацияПолучатель", РеквизитыДокумента.ОрганизацияПолучатель);
			
			ТекстЗапроса = ТекстЗапроса +
				"
				|ОБЪЕДИНИТЬ ВСЕ
				|ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка
				|ИЗ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
				|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
				|	И ПланОбменаРазделыУчета.Выгружать
				|ГДЕ
				|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
				|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_ОрганизацияПолучатель
				|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
				|			И (&СвойствоОбъекта_ОрганизацияПолучатель <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
				|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
				|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
				|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
				|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
				|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
				|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
				|И &УсловиеОтбораПоРеквизитуФлагу";
			
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураНалоговыйАгент_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	// Получаем значения параметров из текущей версии объекта
	
	ПараметрыЗапроса.Вставить("Дата", Объект.Дата);
	ПараметрыЗапроса.Вставить("Организация", Объект.Организация);
	ПараметрыЗапроса.Вставить("РазделУчета1", "Продажи");
	
	ТипОснования = ТипЗнч(Объект.ДокументОснование);
	Если ТипОснования = Тип("ДокументСсылка.ПередачаТоваровМеждуОрганизациями")
		Или ТипОснования = Тип("ДокументСсылка.ВозвратТоваровМеждуОрганизациями") 
		Или ТипОснования = Тип("ДокументСсылка.ОтчетПоКомиссииМеждуОрганизациями") Тогда
		
		Если ТипОснования = Тип("ДокументСсылка.ОтчетПоКомиссииМеждуОрганизациями") Тогда
			
			РеквизитыДокументаОснования = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(
				Объект.ДокументОснование, "РасчетыЧерезОтдельногоКонтрагента, Организация, Комиссионер");
			
			Если Объект.Организация = РеквизитыДокументаОснования.Организация Тогда
				ОрганизацияПолучатель = РеквизитыДокументаОснования.Комиссионер;
				ВыгружатьДляПокупателя = Истина;
			Иначе
				ОрганизацияПолучатель = РеквизитыДокументаОснования.Организация;
				ВыгружатьДляПокупателя = Не РеквизитыДокументаОснования.РасчетыЧерезОтдельногоКонтрагента
			КонецЕсли;
			
		Иначе
			РеквизитыДокументаОснования = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(
				Объект.ДокументОснование, "РасчетыЧерезОтдельногоКонтрагента, ОрганизацияПолучатель");
			ОрганизацияПолучатель = РеквизитыДокументаОснования.ОрганизацияПолучатель;
			ВыгружатьДляПокупателя = Не РеквизитыДокументаОснования.РасчетыЧерезОтдельногоКонтрагента
		КонецЕсли;
				
		ПараметрыЗапроса.Вставить("ОрганизацияПолучатель", ОрганизацияПолучатель);
		Если Не ЗначениеЗаполнено(Объект.ДатаВыставления) Тогда
			ВыгружатьДляПокупателя = Ложь;
		КонецЕсли;
	
		ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
		|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
		|	И ПланОбменаРазделыУчета.Выгружать
		|ГДЕ
		|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
		|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_Организация
		|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
		|			И (&СвойствоОбъекта_Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
		|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
		|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
		|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
		|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
		|И &УсловиеОтбораПоРеквизитуФлагу";
		
		
		Если ВыгружатьДляПокупателя Тогда
		
			// По организации-получателю документ может быть зарегистрирован для целей выгрузки
			// счета-фактуры полученного
			ТекстЗапроса = ТекстЗапроса +
				"
				|ОБЪЕДИНИТЬ ВСЕ
				|ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка
				|ИЗ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
				|ЛЕВОЕ СОЕДИНЕНИЕ
				|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
				|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
				|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
				|	И ПланОбменаРазделыУчета.Выгружать
				|ГДЕ
				|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
				|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_ОрганизацияПолучатель
				|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
				|			И (&СвойствоОбъекта_ОрганизацияПолучатель <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
				|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
				|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
				|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
				|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
				|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
				|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
				|И &УсловиеОтбораПоРеквизитуФлагу";
		КонецЕсли;
	Иначе
		ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Организации КАК ПланОбменаОрганизации
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаОрганизации.Ссылка
		|ЛЕВОЕ СОЕДИНЕНИЕ
		|ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
		|ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
		|	И ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
		|	И ПланОбменаРазделыУчета.Выгружать
		|ГДЕ
		|ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
		|И (ПланОбменаОрганизации.Организация = &СвойствоОбъекта_Организация
		|		ИЛИ ПланОбменаОсновнаяТаблица.ИспользоватьОтборПоОрганизациям = Ложь
		|			И (&СвойствоОбъекта_Организация <> ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)
		|				ИЛИ ПланОбменаОсновнаяТаблица.ВыгружатьУправленческуюОрганизацию = Истина))
		|И НЕ ПланОбменаОсновнаяТаблица.Ссылка = &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
		|И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменУП2ЗУП3""
		|И НЕ ПланОбменаОсновнаяТаблица.ВариантНастройки = ""ОбменКасса""
		|И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
		|И &УсловиеОтбораПоРеквизитуФлагу";
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_СчетФактураПолученный
Процедура ДобавитьПРО_Документ_СчетФактураПолученный(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СчетФактураПолученный";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_СчетФактураПолученный_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	ОбменДаннымиСобытияУТ.ДокументСчетФактураПолученныйПередОбработкойПРО(Объект, Отказ);
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураПолученный_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураПолученный_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//-- Локализация
#Область Документ_СчетФактураПолученныйАванс
Процедура ДобавитьПРО_Документ_СчетФактураПолученныйАванс(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СчетФактураПолученныйАванс";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_СчетФактураПолученныйАванс_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	ИсключаемыеТипыДокументовОснований = Новый Массив;
	ИсключаемыеТипыДокументовОснований.Добавить(Тип("ДокументСсылка.ВозвратТоваровМеждуОрганизациями"));
	ИсключаемыеТипыДокументовОснований.Добавить(Тип("ДокументСсылка.ВводОстатков"));
	
	Если НЕ ЗначениеЗаполнено(Объект.ДокументОснование) 
		ИЛИ ИсключаемыеТипыДокументовОснований.Найти(ТипЗнч(Объект.ДокументОснование)) <> Неопределено Тогда
		Отказ = Истина;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураПолученныйАванс_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураПолученныйАванс_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//++ Локализация
#Область Документ_СчетФактураПолученныйНалоговыйАгент
Процедура ДобавитьПРО_Документ_СчетФактураПолученныйНалоговыйАгент(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СчетФактураПолученныйНалоговыйАгент";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_СчетФактураПолученныйНалоговыйАгент_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураПолученныйНалоговыйАгент_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Закупки";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Документ_СчетФактураКомитента
Процедура ДобавитьПРО_Документ_СчетФактураКомитента(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.СчетФактураКомитента";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_1(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



Процедура ПРО_Документ_СчетФактураКомитента_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Отказ = Истина;
	МассивСФ = Новый Массив;
	Для Каждого СтрокаТЧ Из Объект.Покупатели Цикл
		Если ЗначениеЗаполнено(СтрокаТЧ.СчетФактураВыданный) Тогда
			МассивСФ.Добавить(СтрокаТЧ.СчетФактураВыданный);
		КонецЕсли;
	КонецЦикла;
	Если МассивСФ.Количество() > 0 Тогда
		Запрос = Новый Запрос;
		Запрос.Текст = "
			|ВЫБРАТЬ ПЕРВЫЕ 1
			|	Ссылка КАК ДокументОснование
			|ИЗ Документ.ОтчетПоКомиссииМеждуОрганизациями.Товары
			|	ГДЕ СчетФактураВыставленныйКомиссионера В (&МассивСФ)
			|	И Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
			|	И Ссылка.СуммаДокумента > 0
			|ОБЪЕДИНИТЬ ВСЕ
			|ВЫБРАТЬ ПЕРВЫЕ 1
			|	Ссылка КАК ДокументОснование
			|ИЗ Документ.ОтчетКомитенту.Товары
			|	ГДЕ СчетФактураВыставленный В (&МассивСФ)
			|	И Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
			|	И Ссылка.СуммаДокумента > 0";
		Запрос.УстановитьПараметр("МассивСФ", МассивСФ);
		РезультатЗапроса = Запрос.Выполнить();
		Если НЕ РезультатЗапроса.Пустой() Тогда
			Отказ = Ложь;
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураКомитента_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_Документ_СчетФактураКомитента_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Продажи";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//-- Локализация
#Область Документ_УстановкаЦенНоменклатуры
Процедура ДобавитьПРО_Документ_УстановкаЦенНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.УстановкаЦенНоменклатуры";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Документ_УстановкаЦенНоменклатуры_ОтборПоСвойствамПланаОбмена(),
		Документ_УстановкаЦенНоменклатуры_ОтборПоСвойствамОбъекта());
КонецПроцедуры

Функция Документ_УстановкаЦенНоменклатуры_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВыгружатьЦеныНоменклатуры</СвойствоПланаОбмена>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>true</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВыгружатьЦеныНоменклатуры</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции

Функция Документ_УстановкаЦенНоменклатуры_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Согласован</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Согласован</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Документ_УстановкаЦенНоменклатуры_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ИспользоватьКэш = Ложь;
	
	ВидыЦен = Объект.ВидыЦен.ВыгрузитьКолонку("ВидЦены");
	
	Запрос = Новый Запрос("ВЫБРАТЬ
		|	ВидыЦен.Ссылка
		|ИЗ
		|	Справочник.ВидыЦен КАК ВидыЦен
		|ГДЕ
		|	НЕ ВидыЦен.ПометкаУдаления
		|	И ВидыЦен.Ссылка В (&ВидыЦен)");
						  
	Запрос.Параметры.Вставить("ВидыЦен", ВидыЦен);
	
	ВидыЦен = Запрос.Выполнить().Выгрузить().ВыгрузитьКолонку("Ссылка");
	
	Если ВидыЦен.Количество() = 0 Тогда
		Отказ = Истина;
	Иначе
	
		ПараметрыЗапроса.Вставить("ВидыЦен", ВидыЦен);
		ПараметрыЗапроса.Вставить("РазделУчета1", "Продажи");
		ПараметрыЗапроса.Вставить("РазделУчета2", "Закупки");
	
		ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|	ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
		|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.ВидыЦенНоменклатуры КАК СинхронизацияДанныхЧерезУниверсальныйФорматВидыЦенНоменклатуры
		|		ПО ПланОбменаОсновнаяТаблица.Ссылка = СинхронизацияДанныхЧерезУниверсальныйФорматВидыЦенНоменклатуры.Ссылка
		|			И (СинхронизацияДанныхЧерезУниверсальныйФорматВидыЦенНоменклатуры.ВидЦенНоменклатуры В (&СвойствоОбъекта_ВидыЦен))
		|		ЛЕВОЕ СОЕДИНЕНИЕ
		|			ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
		|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
		|		И (ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
		|			ИЛИ ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета2)
		|		И ПланОбменаРазделыУчета.Выгружать
		|ГДЕ
		|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
		|	И ПланОбменаОсновнаяТаблица.Ссылка <> &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
		|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|   И СинхронизацияДанныхЧерезУниверсальныйФорматВидыЦенНоменклатуры.ВидЦенНоменклатуры ЕСТЬ НЕ NULL
		|	И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
		|	И &УсловиеОтбораПоРеквизитуФлагу";
		
		ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел", "&СинхронизацияДанныхЧерезУниверсальныйФормат" + "ЭтотУзел");
	
	КонецЕсли;
КонецПроцедуры
Процедура ПРО_Документ_УстановкаЦенНоменклатуры_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ИспользоватьКэш = Ложь;
	
	ВидыЦен = Объект.ВидыЦен.ВыгрузитьКолонку("ВидЦены");
	
	Запрос = Новый Запрос("ВЫБРАТЬ
		|	ВидыЦен.Ссылка
		|ИЗ
		|	Справочник.ВидыЦен КАК ВидыЦен
		|ГДЕ
		|	НЕ ВидыЦен.ПометкаУдаления
		|	И ВидыЦен.Ссылка В (&ВидыЦен)");
						  
	Запрос.Параметры.Вставить("ВидыЦен", ВидыЦен);
	
	ВидыЦен = Запрос.Выполнить().Выгрузить().ВыгрузитьКолонку("Ссылка");
	
	Если ВидыЦен.Количество() = 0 Тогда
		Отказ = Истина;
	Иначе
	
		ПараметрыЗапроса.Вставить("ВидыЦен", ВидыЦен);
		ПараметрыЗапроса.Вставить("РазделУчета1", "Продажи");
		ПараметрыЗапроса.Вставить("РазделУчета2", "Закупки");
	
		ТекстЗапроса = 
		"ВЫБРАТЬ РАЗЛИЧНЫЕ
		|	ПланОбменаОсновнаяТаблица.Ссылка КАК Ссылка
		|ИЗ
		|	ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат КАК ПланОбменаОсновнаяТаблица
		|		ЛЕВОЕ СОЕДИНЕНИЕ ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.ВидыЦенНоменклатуры КАК СинхронизацияДанныхЧерезУниверсальныйФорматВидыЦенНоменклатуры
		|		ПО ПланОбменаОсновнаяТаблица.Ссылка = СинхронизацияДанныхЧерезУниверсальныйФорматВидыЦенНоменклатуры.Ссылка
		|			И (СинхронизацияДанныхЧерезУниверсальныйФорматВидыЦенНоменклатуры.ВидЦенНоменклатуры В (&СвойствоОбъекта_ВидыЦен))
		|		ЛЕВОЕ СОЕДИНЕНИЕ
		|			ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.РазделыУчета КАК ПланОбменаРазделыУчета
		|		ПО ПланОбменаОсновнаяТаблица.Ссылка = ПланОбменаРазделыУчета.Ссылка
		|		И (ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета1
		|			ИЛИ ПланОбменаРазделыУчета.РазделУчета = &СвойствоОбъекта_РазделУчета2)
		|		И ПланОбменаРазделыУчета.Выгружать
		|ГДЕ
		|	ПланОбменаОсновнаяТаблица.ДатаНачалаВыгрузкиДокументов <= &СвойствоОбъекта_Дата
		|	И ПланОбменаОсновнаяТаблица.Ссылка <> &СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел
		|	И НЕ ПланОбменаОсновнаяТаблица.ПометкаУдаления
		|   И СинхронизацияДанныхЧерезУниверсальныйФорматВидыЦенНоменклатуры.ВидЦенНоменклатуры ЕСТЬ НЕ NULL
		|	И ЕстьNULL(ПланОбменаРазделыУчета.Выгружать, Ложь)
		|	И &УсловиеОтбораПоРеквизитуФлагу";
		
		ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&СинхронизацияДанныхЧерезУниверсальныйФорматЭтотУзел", "&СинхронизацияДанныхЧерезУниверсальныйФормат" + "ЭтотУзел");
	
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Документ_Бронирование
Процедура ДобавитьПРО_Документ_Бронирование(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.Бронирование";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_10(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



#КонецОбласти
#Область Документ_ЗаявкаНаКомандировку
Процедура ДобавитьПРО_Документ_ЗаявкаНаКомандировку(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.ЗаявкаНаКомандировку";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_10(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



#КонецОбласти
//++ Локализация
#Область Документ_УведомлениеОбОстаткахПрослеживаемыхТоваров
Процедура ДобавитьПРО_Документ_УведомлениеОбОстаткахПрослеживаемыхТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.УведомлениеОбОстаткахПрослеживаемыхТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_8(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



#КонецОбласти
#Область Документ_УведомлениеОВвозеПрослеживаемыхТоваров
Процедура ДобавитьПРО_Документ_УведомлениеОВвозеПрослеживаемыхТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.УведомлениеОВвозеПрослеживаемыхТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_8(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



#КонецОбласти
#Область Документ_УведомлениеОПеремещенииПрослеживаемыхТоваров
Процедура ДобавитьПРО_Документ_УведомлениеОПеремещенииПрослеживаемыхТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Документ.УведомлениеОПеремещенииПрослеживаемыхТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиДокументов";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_8(),
		ОтборПоСвойствамОбъекта_1());
КонецПроцедуры



#КонецОбласти
//-- Локализация
#Область ПланВидовХарактеристик_СтатьиДоходов
Процедура ДобавитьПРО_ПланВидовХарактеристик_СтатьиДоходов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "ПланВидовХарактеристик.СтатьиДоходов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры



#КонецОбласти
#Область ПланВидовХарактеристик_СтатьиРасходов
Процедура ДобавитьПРО_ПланВидовХарактеристик_СтатьиРасходов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "ПланВидовХарактеристик.СтатьиРасходов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры



#КонецОбласти
#Область РегистрСведений_ДокументыФизическихЛиц
Процедура ДобавитьПРО_РегистрСведений_ДокументыФизическихЛиц(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "РегистрСведений.ДокументыФизическихЛиц";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		РегистрСведений_ДокументыФизическихЛиц_ОтборПоСвойствамПланаОбмена(),
		РегистрСведений_ДокументыФизическихЛиц_ОтборПоСвойствамОбъекта());
КонецПроцедуры

Функция РегистрСведений_ДокументыФизическихЛиц_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВерсияФорматаОбмена</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>1.0.beta</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВерсияФорматаОбмена</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВерсияФорматаОбмена</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>1.0</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВерсияФорматаОбмена</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВерсияФорматаОбмена</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>1.1</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВерсияФорматаОбмена</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВерсияФорматаОбмена</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>1.2</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВерсияФорматаОбмена</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции

Функция РегистрСведений_ДокументыФизическихЛиц_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Физлицо.ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Физлицо</Наименование>
			|				<Тип>СправочникСсылка.Контрагенты</Тип>
			|				<Вид>Измерение</Вид>
			|			</Свойство>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ВидДокумента.ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ВидДокумента</Наименование>
			|				<Тип>СправочникСсылка.ВидыДокументовФизическихЛиц</Тип>
			|				<Вид>Измерение</Вид>
			|			</Свойство>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ЯвляетсяДокументомУдостоверяющимЛичность</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ЯвляетсяДокументомУдостоверяющимЛичность</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Ресурс</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_РегистрСведений_ДокументыФизическихЛиц_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Отказ = (ТипЗнч(Объект.Отбор.Физлицо.Значение) <> Тип("СправочникСсылка.ФизическиеЛица"));
КонецПроцедуры

#КонецОбласти
#Область РегистрСведений_ДоступностьТоваровДляВнешнихПользователей
Процедура ДобавитьПРО_РегистрСведений_ДоступностьТоваровДляВнешнихПользователей(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "РегистрСведений.ДоступностьТоваровДляВнешнихПользователей";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		РегистрСведений_ДоступностьТоваровДляВнешнихПользователей_ОтборПоСвойствамПланаОбмена(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры

Функция РегистрСведений_ДоступностьТоваровДляВнешнихПользователей_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ВыгружатьИнформативныеОстатки</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>true</СвойствоОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ВыгружатьИнформативныеОстатки</Наименование>
			|					<Тип>Булево</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Склады</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[СкладыИнформативныхОстатков].Склад</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Склад</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Измерение</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[СкладыИнформативныхОстатков]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|	</Группа>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


Процедура ПРО_РегистрСведений_ДоступностьТоваровДляВнешнихПользователей_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_РегистрСведений_ДоступностьТоваровДляВнешнихПользователей_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
//++ Локализация
//-- Локализация
#Область РегистрСведений_СостоянияЗаказовКлиентов
Процедура ДобавитьПРО_РегистрСведений_СостоянияЗаказовКлиентов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "РегистрСведений.СостоянияЗаказовКлиентов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры



Процедура ПРО_РегистрСведений_СостоянияЗаказовКлиентов_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Заказ = Объект.Отбор.Заказ.Значение;
	
	Если ЗначениеЗаполнено(Заказ)
		И ТипЗнч(Заказ) = Тип("ДокументСсылка.ЗаказКлиента") Тогда
		ВыполнитьПравилаРегистрацииДляОбъекта(Заказ.ПолучитьОбъект(), ПРО.ИмяПланаОбмена, Объект.ОбменДанными.Отправитель);
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
//++ Локализация
#Область РегистрСведений_СостоянияПоОбъектамУчетаЭДО
Процедура ДобавитьПРО_РегистрСведений_СостоянияПоОбъектамУчетаЭДО(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "РегистрСведений.СостоянияПоОбъектамУчетаЭДО";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры



Процедура ПРО_РегистрСведений_СостоянияПоОбъектамУчетаЭДО_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	СсылкаНаОбъект = Объект.Отбор.СсылкаНаОбъект.Значение;
	
	Если ЗначениеЗаполнено(СсылкаНаОбъект)
		И ОбщегоНазначения.СсылкаСуществует(СсылкаНаОбъект) Тогда
		ВыполнитьПравилаРегистрацииДляОбъекта(СсылкаНаОбъект.ПолучитьОбъект(), ПРО.ИмяПланаОбмена, Объект.ОбменДанными.Отправитель);
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
//-- Локализация
#Область РегистрСведений_ФИОФизическихЛиц
Процедура ДобавитьПРО_РегистрСведений_ФИОФизическихЛиц(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "РегистрСведений.ФИОФизическихЛиц";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		РегистрСведений_ФИОФизическихЛиц_ОтборПоСвойствамПланаОбмена(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры

Функция РегистрСведений_ФИОФизическихЛиц_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<Группа>
			|		<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|			<ВидСравнения>НеРавно</ВидСравнения>
			|			<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ВариантНастройки</Наименование>
			|					<Тип>Строка</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>ФизическоеЛицо</СвойствоОбъекта>
			|				<ТаблицаСвойствОбъекта>
			|					<Свойство>
			|						<Наименование>ФизическоеЛицо</Наименование>
			|						<Тип>СправочникСсылка.Организации</Тип>
			|						<Вид>Измерение</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>[Организации]</Наименование>
			|						<Вид>ТабличнаяЧасть</Вид>
			|					</Свойство>
			|					<Свойство>
			|						<Наименование>Организация</Наименование>
			|						<Тип>СправочникСсылка.Организации</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>false</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<Группа>
			|					<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|					<ЭлементОтбора>
			|						<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|						<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|						<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|						<ВидСравнения>НеРавно</ВидСравнения>
			|						<СвойствоОбъекта>ФизическоеЛицо</СвойствоОбъекта>
			|						<ТаблицаСвойствОбъекта>
			|							<Свойство>
			|								<Наименование>ФизическоеЛицо</Наименование>
			|								<Тип>СправочникСсылка.Организации</Тип>
			|								<Вид>Измерение</Вид>
			|							</Свойство>
			|						</ТаблицаСвойствОбъекта>
			|						<ТаблицаСвойствПланаОбмена>
			|							<Свойство>
			|								<Наименование>УправленческаяОрганизация</Наименование>
			|								<Тип>СправочникСсылка.Организации</Тип>
			|								<Вид>Реквизит</Вид>
			|							</Свойство>
			|						</ТаблицаСвойствПланаОбмена>
			|					</ЭлементОтбора>
			|					<ЭлементОтбора>
			|						<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|						<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|						<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|						<ВидСравнения>Равно</ВидСравнения>
			|						<СвойствоОбъекта>true</СвойствоОбъекта>
			|						<ТаблицаСвойствПланаОбмена>
			|							<Свойство>
			|								<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|								<Тип>Булево</Тип>
			|								<Вид>Реквизит</Вид>
			|							</Свойство>
			|						</ТаблицаСвойствПланаОбмена>
			|					</ЭлементОтбора>
			|				</Группа>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


Процедура ПРО_РегистрСведений_ФИОФизическихЛиц_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Отказ = Истина;
	ФизическоеЛицо = Объект.Отбор.ФизическоеЛицо.Значение;
	
	Если Не Выгрузка
		И ОбщегоНазначения.СсылкаСуществует(ФизическоеЛицо) Тогда	
		ВыполнитьПравилаРегистрацииДляОбъекта(ФизическоеЛицо.ПолучитьОбъект(), ПРО.ИмяПланаОбмена, Объект.ОбменДанными.Отправитель);	
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область РегистрСведений_ШтрихкодыНоменклатуры
Процедура ДобавитьПРО_РегистрСведений_ШтрихкодыНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "РегистрСведений.ШтрихкодыНоменклатуры";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры



Процедура ПРО_РегистрСведений_ШтрихкодыНоменклатуры_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад, Закупки, Продажи, Производство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
КонецПроцедуры
Процедура ПРО_РегистрСведений_ШтрихкодыНоменклатуры_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыОбработкиПРО = ОбменДаннымиСобытияУТ.ИнициализироватьПараметрыОбработкиПРО();
	
	ПараметрыОбработкиПРО.ТекстЗапроса        = ТекстЗапроса;
	ПараметрыОбработкиПРО.ПараметрыЗапроса    = ПараметрыЗапроса;
	ПараметрыОбработкиПРО.ИспользоватьКэш     = ИспользоватьКэш;
	ПараметрыОбработкиПРО.Отказ               = Отказ;
	ПараметрыОбработкиПРО.Объект              = Объект;
	ПараметрыОбработкиПРО.Выгрузка            = Выгрузка;
	ПараметрыОбработкиПРО.РазделыУчетаСтрокой = "Склад, Закупки, Продажи, Производство";
	
	ПараметрыОбработкиПРОПослеОбработки = ОбменДаннымиСобытияУТ.ПриОбработкеПРО(ПараметрыОбработкиПРО);
	
	ТекстЗапроса     = ПараметрыОбработкиПРОПослеОбработки.ТекстЗапроса;
	ПараметрыЗапроса = ПараметрыОбработкиПРОПослеОбработки.ПараметрыЗапроса;
	ИспользоватьКэш  = ПараметрыОбработкиПРОПослеОбработки.ИспользоватьКэш;
	Отказ            = ПараметрыОбработкиПРОПослеОбработки.Отказ;
	Объект           = ПараметрыОбработкиПРОПослеОбработки.Объект;
	Выгрузка         = ПараметрыОбработкиПРОПослеОбработки.Выгрузка;
КонецПроцедуры

#КонецОбласти
#Область Справочник_Валюты
Процедура ДобавитьПРО_Справочник_Валюты(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.Валюты";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_КлассификаторБанков
Процедура ДобавитьПРО_Справочник_КлассификаторБанков(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.КлассификаторБанков";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_СтраныМира
Процедура ДобавитьПРО_Справочник_СтраныМира(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.СтраныМира";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_УпаковкиЕдиницыИзмерения
Процедура ДобавитьПРО_Справочник_УпаковкиЕдиницыИзмерения(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.УпаковкиЕдиницыИзмерения";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		Справочник_УпаковкиЕдиницыИзмерения_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Справочник_УпаковкиЕдиницыИзмерения_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>СправочникСсылка.НаборыУпаковок</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Владелец</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Справочники.НаборыУпаковок.БазовыеЕдиницыИзмерения;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Владелец</Наименование>
			|					<Тип>СправочникСсылка.НаборыУпаковок</Тип>
			|					<Вид>Свойство</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ТипСвойстваОбъекта>СправочникСсылка.НаборыУпаковок</ТипСвойстваОбъекта>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Владелец.НаборУпаковок</СвойствоОбъекта>
			|			<Вид>АлгоритмЗначения</Вид>
			|			<ЗначениеКонстанты>Значение = Справочники.НаборыУпаковок.ИндивидуальныйДляНоменклатуры;</ЗначениеКонстанты>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Владелец</Наименование>
			|					<Тип>СправочникСсылка.НаборыУпаковок</Тип>
			|					<Вид>Свойство</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>НаборУпаковок</Наименование>
			|					<Тип>СправочникСсылка.НаборыУпаковок</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|		</ЭлементОтбора>
			|	</Группа>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

Процедура ПРО_Справочник_УпаковкиЕдиницыИзмерения_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Если НЕ Объект.Владелец = Справочники.НаборыУпаковок.БазовыеЕдиницыИзмерения
		И НЕ (ЗначениеЗаполнено(Объект.Владелец) И ТипЗнч(Объект.Владелец) = Тип("СправочникСсылка.Номенклатура")) Тогда
		Отказ = Истина;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти
#Область Справочник_КлассификаторТНВЭД
Процедура ДобавитьПРО_Справочник_КлассификаторТНВЭД(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.КлассификаторТНВЭД";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_7(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_БанковскиеСчетаКонтрагентов
Процедура ДобавитьПРО_Справочник_БанковскиеСчетаКонтрагентов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.БанковскиеСчетаКонтрагентов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_4(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_ДоговорыКредитовИДепозитов
Процедура ДобавитьПРО_Справочник_ДоговорыКредитовИДепозитов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ДоговорыКредитовИДепозитов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_12(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_ДоговорыКонтрагентов
Процедура ДобавитьПРО_Справочник_ДоговорыКонтрагентов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ДоговорыКонтрагентов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_12(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_Контрагенты
Процедура ДобавитьПРО_Справочник_Контрагенты(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.Контрагенты";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_4(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_ДоговорыМеждуОрганизациями
Процедура ДобавитьПРО_Справочник_ДоговорыМеждуОрганизациями(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ДоговорыМеждуОрганизациями";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Справочник_ДоговорыМеждуОрганизациями_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры

Функция Справочник_ДоговорыМеждуОрганизациями_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ОрганизацияПолучатель</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ОрганизацияПолучатель</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>ОрганизацияПолучатель</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>ОрганизацияПолучатель</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


#КонецОбласти
#Область Справочник_ВариантыКомплектацииНоменклатуры
Процедура ДобавитьПРО_Справочник_ВариантыКомплектацииНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ВариантыКомплектацииНоменклатуры";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры



#КонецОбласти
#Область Справочник_ВидыНоменклатуры
Процедура ДобавитьПРО_Справочник_ВидыНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ВидыНоменклатуры";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		Справочник_ВидыНоменклатуры_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Справочник_ВидыНоменклатуры_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.ТипыНоменклатуры</ТипСвойстваОбъекта>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ТипНоменклатуры</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.ТипыНоменклатуры.Набор;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ТипНоменклатуры</Наименование>
			|				<Тип>ПеречислениеСсылка.ТипыНоменклатуры</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ЭтоГруппа</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ЭтоГруппа</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

#КонецОбласти
#Область Справочник_Марки
Процедура ДобавитьПРО_Справочник_Марки(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.Марки";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_4());
КонецПроцедуры



#КонецОбласти
#Область Справочник_Номенклатура
Процедура ДобавитьПРО_Справочник_Номенклатура(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.Номенклатура";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		Справочник_Номенклатура_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Справочник_Номенклатура_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.ТипыНоменклатуры</ТипСвойстваОбъекта>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ТипНоменклатуры</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.ТипыНоменклатуры.Набор;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ТипНоменклатуры</Наименование>
			|				<Тип>ПеречислениеСсылка.ТипыНоменклатуры</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

#КонецОбласти
#Область Справочник_НоменклатураКонтрагентов
Процедура ДобавитьПРО_Справочник_НоменклатураКонтрагентов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.НоменклатураКонтрагентов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		ОтборПоСвойствамОбъекта_4());
КонецПроцедуры



#КонецОбласти
#Область Справочник_НомераГТД
Процедура ДобавитьПРО_Справочник_НомераГТД(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.НомераГТД";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_4(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_НоменклатураПрисоединенныеФайлы
Процедура ДобавитьПРО_Справочник_НоменклатураПрисоединенныеФайлы(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.НоменклатураПрисоединенныеФайлы";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		Справочник_НоменклатураПрисоединенныеФайлы_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Справочник_НоменклатураПрисоединенныеФайлы_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.ТипыНоменклатуры</ТипСвойстваОбъекта>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ВладелецФайла.ТипНоменклатуры</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.ТипыНоменклатуры.Набор;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ВладелецФайла</Наименование>
			|				<Тип>СправочникСсылка.Номенклатура</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|			<Свойство>
			|				<Наименование>ТипНоменклатуры</Наименование>
			|				<Тип>ПеречислениеСсылка.ТипыНоменклатуры</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ВладелецФайла.ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ВладелецФайла</Наименование>
			|				<Тип>СправочникСсылка.Номенклатура</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

#КонецОбласти
#Область Справочник_СерииНоменклатуры
Процедура ДобавитьПРО_Справочник_СерииНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.СерииНоменклатуры";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_ХарактеристикиНоменклатуры
Процедура ДобавитьПРО_Справочник_ХарактеристикиНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ХарактеристикиНоменклатуры";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		Справочник_ХарактеристикиНоменклатуры_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Справочник_ХарактеристикиНоменклатуры_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.ТипыНоменклатуры</ТипСвойстваОбъекта>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>Владелец.ТипНоменклатуры</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.ТипыНоменклатуры.Набор;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Владелец</Наименование>
			|				<Тип>СправочникСсылка.ВидыНоменклатуры</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|			<Свойство>
			|				<Наименование>ТипНоменклатуры</Наименование>
			|				<Тип>ПеречислениеСсылка.ТипыНоменклатуры</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.ВариантыИспользованияХарактеристикНоменклатуры</ТипСвойстваОбъекта>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>Владелец.ИспользованиеХарактеристик</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.ВариантыИспользованияХарактеристикНоменклатуры.НеИспользовать;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Владелец</Наименование>
			|				<Тип>СправочникСсылка.ВидыНоменклатуры</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|			<Свойство>
			|				<Наименование>ИспользованиеХарактеристик</Наименование>
			|				<Тип>ПеречислениеСсылка.ВариантыИспользованияХарактеристикНоменклатуры</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

#КонецОбласти
#Область Справочник_ЦеновыеГруппы
Процедура ДобавитьПРО_Справочник_ЦеновыеГруппы(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ЦеновыеГруппы";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		Справочник_ЦеновыеГруппы_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Справочник_ЦеновыеГруппы_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ЭтоГруппа</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

#КонецОбласти
#Область Справочник_БонусныеПрограммыЛояльности
Процедура ДобавитьПРО_Справочник_БонусныеПрограммыЛояльности(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.БонусныеПрограммыЛояльности";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_4(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_ВидыПодарочныхСертификатов
Процедура ДобавитьПРО_Справочник_ВидыПодарочныхСертификатов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ВидыПодарочныхСертификатов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_4(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_ВидыЦен
Процедура ДобавитьПРО_Справочник_ВидыЦен(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ВидыЦен";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры



#КонецОбласти
//++ Локализация
//-- Локализация
#Область Справочник_КартыЛояльности
Процедура ДобавитьПРО_Справочник_КартыЛояльности(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.КартыЛояльности";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_4(),
		Справочник_КартыЛояльности_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Справочник_КартыЛояльности_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.СтатусыКартЛояльности</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Статус</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.СтатусыКартЛояльности.Действует;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Статус</Наименование>
			|				<Тип>ПеречислениеСсылка.СтатусыКартЛояльности</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Владелец.Персонализирована</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Владелец</Наименование>
			|				<Тип>СправочникСсылка.ВидыКартЛояльности</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|			<Свойство>
			|				<Наименование>Персонализирована</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

#КонецОбласти
//++ Локализация
#Область Справочник_ЛицензииПоставщиковАлкогольнойПродукции
Процедура ДобавитьПРО_Справочник_ЛицензииПоставщиковАлкогольнойПродукции(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ЛицензииПоставщиковАлкогольнойПродукции";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_3(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



Процедура ПРО_Справочник_ЛицензииПоставщиковАлкогольнойПродукции_ПередОбработкой(ПРО, Отказ, Объект, ОбъектМетаданных, Выгрузка)

	Отказ = НЕ ТипЗнч(Объект.Владелец) = Тип("СправочникСсылка.Контрагенты");
КонецПроцедуры

#КонецОбласти
//-- Локализация
#Область Справочник_Пользователи
Процедура ДобавитьПРО_Справочник_Пользователи(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.Пользователи";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры



#КонецОбласти
//++ Локализация
//-- Локализация
#Область Справочник_ФизическиеЛица
Процедура ДобавитьПРО_Справочник_ФизическиеЛица(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ФизическиеЛица";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_7(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
//++ Локализация
#Область Справочник_ШтрихкодыУпаковокТоваров
Процедура ДобавитьПРО_Справочник_ШтрихкодыУпаковокТоваров(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ШтрихкодыУпаковокТоваров";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Справочник_ШтрихкодыУпаковокТоваров_ОтборПоСвойствамПланаОбмена(),
		Справочник_ШтрихкодыУпаковокТоваров_ОтборПоСвойствамОбъекта());
КонецПроцедуры

Функция Справочник_ШтрихкодыУпаковокТоваров_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции

Функция Справочник_ШтрихкодыУпаковокТоваров_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>ПеречислениеСсылка.ТипыУпаковок</ТипСвойстваОбъекта>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ТипУпаковки</СвойствоОбъекта>
			|		<Вид>АлгоритмЗначения</Вид>
			|		<ЗначениеКонстанты>Значение = Перечисления.ТипыУпаковок.МаркированныйТовар;</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ТипУпаковки</Наименование>
			|				<Тип>ПеречислениеСсылка.ТипыУпаковок</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

#КонецОбласти
//-- Локализация
#Область Справочник_ЭквайринговыеТерминалы
Процедура ДобавитьПРО_Справочник_ЭквайринговыеТерминалы(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ЭквайринговыеТерминалы";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Справочник_ЭквайринговыеТерминалы_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_4());
КонецПроцедуры

Функция Справочник_ЭквайринговыеТерминалы_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Владелец.Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Владелец</Наименование>
			|					<Тип>СправочникСсылка.ДоговорыЭквайринга</Тип>
			|					<Вид>Свойство</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Владелец.Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Владелец</Наименование>
			|							<Тип>СправочникСсылка.ДоговорыЭквайринга</Тип>
			|							<Вид>Свойство</Вид>
			|						</Свойство>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


Процедура ПРО_Справочник_ЭквайринговыеТерминалы_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыЗапроса.Вставить("Организация", ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Объект.Владелец, "Организация"));
КонецПроцедуры
Процедура ПРО_Справочник_ЭквайринговыеТерминалы_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыЗапроса.Вставить("Организация", ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Объект.Владелец, "Организация"));
КонецПроцедуры

#КонецОбласти
#Область Справочник_Склады
Процедура ДобавитьПРО_Справочник_Склады(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.Склады";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Справочник_Склады_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_4());
КонецПроцедуры

Функция Справочник_Склады_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВыгружатьАналитикуПоСкладам</СвойствоПланаОбмена>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>true</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВыгружатьАналитикуПоСкладам</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


#КонецОбласти
#Область Справочник_Склады2
Процедура ДобавитьПРО_Справочник_Склады2(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.Склады";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		Справочник_Склады2_ОтборПоСвойствамОбъекта());
КонецПроцедуры


Функция Справочник_Склады2_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ЭтоГруппа</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ЭтоГруппа</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

#КонецОбласти
#Область Справочник_БанковскиеСчетаОрганизаций
Процедура ДобавитьПРО_Справочник_БанковскиеСчетаОрганизаций(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.БанковскиеСчетаОрганизаций";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Справочник_БанковскиеСчетаОрганизаций_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры

Функция Справочник_БанковскиеСчетаОрганизаций_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Владелец</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Владелец</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Свойство</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Владелец</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Владелец</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Свойство</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


Процедура ПРО_Справочник_БанковскиеСчетаОрганизаций_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыЗапроса.Вставить("Организация", Объект.Владелец);
КонецПроцедуры
Процедура ПРО_Справочник_БанковскиеСчетаОрганизаций_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыЗапроса.Вставить("Организация", Объект.Владелец);
КонецПроцедуры

#КонецОбласти
#Область Справочник_Кассы
Процедура ДобавитьПРО_Справочник_Кассы(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.Кассы";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_14(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



Процедура ПРО_Справочник_Кассы_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыЗапроса.Вставить("Организация", Объект.Владелец);
КонецПроцедуры
Процедура ПРО_Справочник_Кассы_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыЗапроса.Вставить("Организация", Объект.Владелец);
КонецПроцедуры

#КонецОбласти
#Область Справочник_КассыККМ
Процедура ДобавитьПРО_Справочник_КассыККМ(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.КассыККМ";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Истина;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Истина;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_14(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



Процедура ПРО_Справочник_КассыККМ_ПриОбработкеДополнительный(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, ДополнительныеСвойства)

	ПараметрыЗапроса.Вставить("Организация", Объект.Владелец);
КонецПроцедуры
Процедура ПРО_Справочник_КассыККМ_ПриОбработке(Отказ, ПРО, Объект, ТекстЗапроса, ПараметрыЗапроса, ИспользоватьКэш, Выгрузка, ДополнительныеСвойства)

	ПараметрыЗапроса.Вставить("Организация", Объект.Владелец);
КонецПроцедуры

#КонецОбласти
#Область Справочник_Организации
Процедура ДобавитьПРО_Справочник_Организации(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.Организации";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Истина;
		
	УстановитьОтборы(НовоеПравило, 
		Справочник_Организации_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры

Функция Справочник_Организации_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Ссылка</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Ссылка</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Свойство</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Ссылка</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Ссылка</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Свойство</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


Процедура ПРО_Справочник_Организации_ПослеОбработки(ПРО, Отказ, Объект, ОбъектМетаданных, Получатели, Выгрузка)

	//++ Локализация
	Если Не Выгрузка
		И ОбщегоНазначения.СсылкаСуществует(Объект.Ссылка)
		И Получатели.Количество() > 0 Тогда
		
		Выборка = Справочники.РегистрацииВНалоговомОргане.Выбрать(, Объект.Ссылка);
		Пока Выборка.Следующий()  Цикл
		    ВыполнитьПравилаРегистрацииДляОбъекта(Выборка.ПолучитьОбъект(), ПРО.ИмяПланаОбмена, Объект.ОбменДанными.Отправитель);
		КонецЦикла;
	КонецЕсли;
	//-- Локализация
КонецПроцедуры

#КонецОбласти
#Область Справочник_ОтветственныеЛицаОрганизаций
Процедура ДобавитьПРО_Справочник_ОтветственныеЛицаОрганизаций(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ОтветственныеЛицаОрганизаций";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Справочник_ОтветственныеЛицаОрганизаций_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры

Функция Справочник_ОтветственныеЛицаОрганизаций_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|			<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|			<СвойствоОбъекта>ДатаНачала</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ДатаНачала</Наименование>
			|					<Тип>Дата</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|					<Тип>Дата</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|			<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|			<СвойствоОбъекта>ДатаОкончания</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ДатаОкончания</Наименование>
			|					<Тип>Дата</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|					<Тип>Дата</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|	</Группа>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Владелец</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Владелец</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Свойство</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Владелец</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Владелец</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Свойство</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


#КонецОбласти
#Область Справочник_ОтветственныеЛицаОрганизаций2
Процедура ДобавитьПРО_Справочник_ОтветственныеЛицаОрганизаций2(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ОтветственныеЛицаОрганизаций";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Справочник_ОтветственныеЛицаОрганизаций2_ОтборПоСвойствамПланаОбмена(),
		Справочник_ОтветственныеЛицаОрганизаций2_ОтборПоСвойствамОбъекта());
КонецПроцедуры

Функция Справочник_ОтветственныеЛицаОрганизаций2_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Владелец</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Владелец</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Свойство</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Владелец</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Владелец</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Свойство</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции

Функция Справочник_ОтветственныеЛицаОрганизаций2_ОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ДатаОкончания</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>0001-01-01T00:00:00</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ДатаОкончания</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>";
КонецФункции

#КонецОбласти
//++ Локализация
#Область Справочник_РегистрацииВНалоговомОргане
Процедура ДобавитьПРО_Справочник_РегистрацииВНалоговомОргане(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.РегистрацииВНалоговомОргане";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		Справочник_РегистрацииВНалоговомОргане_ОтборПоСвойствамПланаОбмена(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры

Функция Справочник_РегистрацииВНалоговомОргане_ОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<Группа>
			|		<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ПравилаОтправкиСправочников</СвойствоПланаОбмена>
			|			<ВидСравнения>НеРавно</ВидСравнения>
			|			<СвойствоОбъекта>НеСинхронизировать</СвойствоОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ПравилаОтправкиСправочников</Наименование>
			|					<Тип>Строка</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>Владелец</СвойствоОбъекта>
			|				<ТаблицаСвойствОбъекта>
			|					<Свойство>
			|						<Наименование>Владелец</Наименование>
			|						<Тип>СправочникСсылка.Организации</Тип>
			|						<Вид>Свойство</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>[Организации]</Наименование>
			|						<Вид>ТабличнаяЧасть</Вид>
			|					</Свойство>
			|					<Свойство>
			|						<Наименование>Организация</Наименование>
			|						<Тип>СправочникСсылка.Организации</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>false</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<Группа>
			|					<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|					<ЭлементОтбора>
			|						<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|						<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|						<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|						<ВидСравнения>НеРавно</ВидСравнения>
			|						<СвойствоОбъекта>Владелец</СвойствоОбъекта>
			|						<ТаблицаСвойствОбъекта>
			|							<Свойство>
			|								<Наименование>Владелец</Наименование>
			|								<Тип>СправочникСсылка.Организации</Тип>
			|								<Вид>Свойство</Вид>
			|							</Свойство>
			|						</ТаблицаСвойствОбъекта>
			|						<ТаблицаСвойствПланаОбмена>
			|							<Свойство>
			|								<Наименование>УправленческаяОрганизация</Наименование>
			|								<Тип>СправочникСсылка.Организации</Тип>
			|								<Вид>Реквизит</Вид>
			|							</Свойство>
			|						</ТаблицаСвойствПланаОбмена>
			|					</ЭлементОтбора>
			|					<ЭлементОтбора>
			|						<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|						<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|						<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|						<ВидСравнения>Равно</ВидСравнения>
			|						<СвойствоОбъекта>true</СвойствоОбъекта>
			|						<ТаблицаСвойствПланаОбмена>
			|							<Свойство>
			|								<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|								<Тип>Булево</Тип>
			|								<Вид>Реквизит</Вид>
			|							</Свойство>
			|						</ТаблицаСвойствПланаОбмена>
			|					</ЭлементОтбора>
			|				</Группа>
			|			</Группа>
			|		</Группа>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|			<ВидСравнения>НеРавно</ВидСравнения>
			|			<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ВариантНастройки</Наименование>
			|					<Тип>Строка</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|	</Группа>
			|</ОтборПоСвойствамПланаОбмена>";
КонецФункции


#КонецОбласти
//-- Локализация
#Область Справочник_СтруктураПредприятия
Процедура ДобавитьПРО_Справочник_СтруктураПредприятия(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.СтруктураПредприятия";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_7(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
#Область Справочник_ГруппыАналитическогоУчетаНоменклатуры
Процедура ДобавитьПРО_Справочник_ГруппыАналитическогоУчетаНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ГруппыАналитическогоУчетаНоменклатуры";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры



#КонецОбласти
#Область Справочник_ГруппыФинансовогоУчетаНоменклатуры
Процедура ДобавитьПРО_Справочник_ГруппыФинансовогоУчетаНоменклатуры(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ГруппыФинансовогоУчетаНоменклатуры";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры



#КонецОбласти
#Область Справочник_ГруппыФинансовогоУчетаРасчетов
Процедура ДобавитьПРО_Справочник_ГруппыФинансовогоУчетаРасчетов(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.ГруппыФинансовогоУчетаРасчетов";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиПриНеобходимости";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ПустойОтборПоСвойствамПланаОбмена(),
		ПустойОтборПоСвойствамОбъекта());
КонецПроцедуры



#КонецОбласти
//++ Локализация
//-- Локализация
#Область Справочник_СтатьиДвиженияДенежныхСредств
Процедура ДобавитьПРО_Справочник_СтатьиДвиженияДенежныхСредств(ПравилаРегистрацииОбъектов, ИмяМенеджераРегистрации)
	НовоеПравило = ПравилаРегистрацииОбъектов.Добавить();
	
	НовоеПравило.ИмяМенеджераРегистрации = ИмяМенеджераРегистрации;
	
	НовоеПравило.ОбъектМетаданныхИмя = "Справочник.СтатьиДвиженияДенежныхСредств";
	НовоеПравило.ИмяПланаОбмена = "СинхронизацияДанныхЧерезУниверсальныйФормат";
	НовоеПравило.ИмяРеквизитаФлага = "РежимВыгрузкиСправочников";	
	НовоеПравило.ПравилоПоСвойствамОбъектаПустое = Ложь;
	НовоеПравило.ЕстьОбработчикПередОбработкой = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработке = Ложь;
	НовоеПравило.ЕстьОбработчикПриОбработкеДополнительный = Ложь;
	НовоеПравило.ЕстьОбработчикПослеОбработки = Ложь;
		
	УстановитьОтборы(НовоеПравило, 
		ОтборПоСвойствамПланаОбмена_4(),
		ОтборПоСвойствамОбъекта_2());
КонецПроцедуры



#КонецОбласти
//++ Локализация
//-- Локализация

Функция ОтборПоСвойствамОбъекта_1()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>" ;
КонецФункции


Функция ОтборПоСвойствамОбъекта_2()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>" ;
КонецФункции


Функция ОтборПоСвойствамОбъекта_3()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Число</ТипСвойстваОбъекта>
			|		<ВидСравнения>Больше</ВидСравнения>
			|		<СвойствоОбъекта>СуммаДокумента</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>0</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>СуммаДокумента</Наименование>
			|				<Тип>Число</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>" ;
КонецФункции


Функция ОтборПоСвойствамОбъекта_4()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПометкаУдаления</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПометкаУдаления</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ЭтоГруппа</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>false</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ЭтоГруппа</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>" ;
КонецФункции


Функция ОтборПоСвойствамОбъекта_5()
	Возврат "<ОтборПоСвойствамОбъекта>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Проведен</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Проведен</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>ПроведеноБанком</СвойствоОбъекта>
			|		<Вид>ЗначениеКонстанты</Вид>
			|		<ЗначениеКонстанты>true</ЗначениеКонстанты>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>ПроведеноБанком</Наименование>
			|				<Тип>Булево</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамОбъекта>" ;
КонецФункции


//++ Локализация
//-- Локализация


Функция ПустойОтборПоСвойствамОбъекта()
	Возврат "<ОтборПоСвойствамОбъекта/>" ;
КонецФункции
Функция ОтборПоСвойствамПланаОбмена_1()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ОтборПоСвойствамПланаОбмена_2()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Склады</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Склады].Склад</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Склад</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Склады]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ИспользоватьОтборПоСкладам</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>false</СвойствоОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ИспользоватьОтборПоСкладам</Наименование>
			|					<Тип>Булево</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ОтборПоСвойствамПланаОбмена_3()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ОтборПоСвойствамПланаОбмена_4()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ОтборПоСвойствамПланаОбмена_5()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ОтборПоСвойствамПланаОбмена_6()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>Организации.Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Склады</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>Склады.Склад</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Склад</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Склады]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ИспользоватьОтборПоСкладам</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>false</СвойствоОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ИспользоватьОтборПоСкладам</Наименование>
			|					<Тип>Булево</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ОтборПоСвойствамПланаОбмена_7()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции

//++ Локализация
Функция ОтборПоСвойствамПланаОбмена_8()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>Организации.Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции
//-- Локализация

Функция ОтборПоСвойствамПланаОбмена_10()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>Равно</ВидСравнения>
			|		<СвойствоОбъекта>Smartway</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>Организации.Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ОтборПоСвойствамПланаОбмена_11()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Склады</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Склады].Склад</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Склад</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Склады]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ИспользоватьОтборПоСкладам</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>false</СвойствоОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ИспользоватьОтборПоСкладам</Наименование>
			|					<Тип>Булево</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ОтборПоСвойствамПланаОбмена_12()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ОтборПоСвойствамПланаОбмена_13()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>ОрганизацияПолучатель</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>ОрганизацияПолучатель</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>ОрганизацияПолучатель</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>ОрганизацияПолучатель</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Склады</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Склады].Склад</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Склад</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Склады]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Склад</Наименование>
			|					<Тип>СправочникСсылка.Склады</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>ИспользоватьОтборПоСкладам</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>false</СвойствоОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>ИспользоватьОтборПоСкладам</Наименование>
			|					<Тип>Булево</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ОтборПоСвойствамПланаОбмена_14()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Владелец</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Владелец</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Свойство</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Владелец</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Владелец</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Свойство</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ОтборПоСвойствамПланаОбмена_15()
	Возврат "<ОтборПоСвойствамПланаОбмена>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Дата</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ДатаНачалаВыгрузкиДокументов</СвойствоПланаОбмена>
			|		<ВидСравнения>БольшеИлиРавно</ВидСравнения>
			|		<СвойствоОбъекта>Дата</СвойствоОбъекта>
			|		<ТаблицаСвойствОбъекта>
			|			<Свойство>
			|				<Наименование>Дата</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Свойство</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ДатаНачалаВыгрузкиДокументов</Наименование>
			|				<Тип>Дата</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<Группа>
			|		<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<ЭлементОтбора>
			|			<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|			<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|			<СвойствоПланаОбмена>[Организации].Организация</СвойствоПланаОбмена>
			|			<ВидСравнения>Равно</ВидСравнения>
			|			<СвойствоОбъекта>Комиссионер</СвойствоОбъекта>
			|			<ТаблицаСвойствОбъекта>
			|				<Свойство>
			|					<Наименование>Комиссионер</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствОбъекта>
			|			<ТаблицаСвойствПланаОбмена>
			|				<Свойство>
			|					<Наименование>[Организации]</Наименование>
			|					<Вид>ТабличнаяЧасть</Вид>
			|				</Свойство>
			|				<Свойство>
			|					<Наименование>Организация</Наименование>
			|					<Тип>СправочникСсылка.Организации</Тип>
			|					<Вид>Реквизит</Вид>
			|				</Свойство>
			|			</ТаблицаСвойствПланаОбмена>
			|		</ЭлементОтбора>
			|		<Группа>
			|			<БулевоЗначениеГруппы>И</БулевоЗначениеГруппы>
			|			<ЭлементОтбора>
			|				<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|				<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|				<СвойствоПланаОбмена>ИспользоватьОтборПоОрганизациям</СвойствоПланаОбмена>
			|				<ВидСравнения>Равно</ВидСравнения>
			|				<СвойствоОбъекта>false</СвойствоОбъекта>
			|				<ТаблицаСвойствПланаОбмена>
			|					<Свойство>
			|						<Наименование>ИспользоватьОтборПоОрганизациям</Наименование>
			|						<Тип>Булево</Тип>
			|						<Вид>Реквизит</Вид>
			|					</Свойство>
			|				</ТаблицаСвойствПланаОбмена>
			|			</ЭлементОтбора>
			|			<Группа>
			|				<БулевоЗначениеГруппы>ИЛИ</БулевоЗначениеГруппы>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Организация</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Организация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>false</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>СправочникСсылка.Организации</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>УправленческаяОрганизация</СвойствоПланаОбмена>
			|					<ВидСравнения>НеРавно</ВидСравнения>
			|					<СвойствоОбъекта>Комиссионер</СвойствоОбъекта>
			|					<ТаблицаСвойствОбъекта>
			|						<Свойство>
			|							<Наименование>Комиссионер</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>УправленческаяОрганизация</Наименование>
			|							<Тип>СправочникСсылка.Организации</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|				<ЭлементОтбора>
			|					<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|					<ТипСвойстваОбъекта>Булево</ТипСвойстваОбъекта>
			|					<СвойствоПланаОбмена>ВыгружатьУправленческуюОрганизацию</СвойствоПланаОбмена>
			|					<ВидСравнения>Равно</ВидСравнения>
			|					<СвойствоОбъекта>true</СвойствоОбъекта>
			|					<ТаблицаСвойствПланаОбмена>
			|						<Свойство>
			|							<Наименование>ВыгружатьУправленческуюОрганизацию</Наименование>
			|							<Тип>Булево</Тип>
			|							<Вид>Реквизит</Вид>
			|						</Свойство>
			|					</ТаблицаСвойствПланаОбмена>
			|				</ЭлементОтбора>
			|			</Группа>
			|		</Группа>
			|	</Группа>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменУП2ЗУП3</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|	<ЭлементОтбора>
			|		<ЭтоСтрокаКонстанты>true</ЭтоСтрокаКонстанты>
			|		<ТипСвойстваОбъекта>Строка</ТипСвойстваОбъекта>
			|		<СвойствоПланаОбмена>ВариантНастройки</СвойствоПланаОбмена>
			|		<ВидСравнения>НеРавно</ВидСравнения>
			|		<СвойствоОбъекта>ОбменКасса</СвойствоОбъекта>
			|		<ТаблицаСвойствПланаОбмена>
			|			<Свойство>
			|				<Наименование>ВариантНастройки</Наименование>
			|				<Тип>Строка</Тип>
			|				<Вид>Реквизит</Вид>
			|			</Свойство>
			|		</ТаблицаСвойствПланаОбмена>
			|	</ЭлементОтбора>
			|</ОтборПоСвойствамПланаОбмена>" ;
КонецФункции


Функция ПустойОтборПоСвойствамПланаОбмена()
	Возврат "<ОтборПоСвойствамПланаОбмена/>" ;
КонецФункции

#КонецОбласти
