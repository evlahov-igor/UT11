<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetQuery">
		<name>НаборДанных</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>УпаковкаЕдиницаИзмерения</dataPath>
			<field>УпаковкаЕдиницаИзмерения</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Упаковка единица измерения</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Номенклатура</dataPath>
			<field>Номенклатура</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Номенклатура</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Весовой</dataPath>
			<field>Весовой</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Весовой</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Схема</dataPath>
			<field>Схема</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Схема</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Характеристика</dataPath>
			<field>Характеристика</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Характеристика</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РазмерСРоссийским</dataPath>
			<field>РазмерСРоссийским</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Размер с российским</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Серия</dataPath>
			<field>Серия</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Серия</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Упаковка</dataPath>
			<field>Упаковка</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Упаковка</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Количество</dataPath>
			<field>Количество</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоЦенниковДляПечати</dataPath>
			<field>КоличествоЦенниковДляПечати</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество ценников для печати</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВидЦены</dataPath>
			<field>ВидЦены</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Вид цены</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоЭтикетокДляПечати</dataPath>
			<field>КоличествоЭтикетокДляПечати</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество этикеток для печати</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>АртикулСПробелами</dataPath>
			<field>АртикулСПробелами</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Артикул с пробелами</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ШаблонЦенникаДляПечати</dataPath>
			<field>ШаблонЦенникаДляПечати</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Шаблон ценника для печати</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ШаблонЭтикеткиДляПечати</dataPath>
			<field>ШаблонЭтикеткиДляПечати</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Шаблон этикетки для печати</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Штрихкод</dataPath>
			<field>Штрихкод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Штрихкод</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КодПодключаемогоОборудованияOffline</dataPath>
			<field>КодПодключаемогоОборудованияOffline</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Код подключаемого оборудования offline</v8:content>
				</v8:item>
			</title>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>PLU</dataPath>
			<field>PLU</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>PLU</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВидЦеныДополнительно</dataPath>
			<field>ВидЦеныДополнительно</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Вид цены дополнительно</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Организация</dataPath>
			<field>Организация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Организация</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КодФлеша</dataPath>
			<field>КодФлеша</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Код флеша</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Цена</dataPath>
			<field>Цена</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Цена</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Изготовитель</dataPath>
			<field>Изготовитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Изготовитель</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЦенаДополнительно</dataPath>
			<field>ЦенаДополнительно</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Цена дополнительно</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаПоследнегоИзмененияЦены</dataPath>
			<field>ДатаПоследнегоИзмененияЦены</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата последнего изменения цены</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаПоследнегоИзмененияЦеныДополнительно</dataPath>
			<field>ДатаПоследнегоИзмененияЦеныДополнительно</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата последнего изменения цены дополнительно</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ТекущееВремя</dataPath>
			<field>ТекущееВремя</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Текущее время</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ТехРегламент</dataPath>
			<field>ТехРегламент</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Тех регламент</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ТекущийПользователь</dataPath>
			<field>ТекущийПользователь</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Текущий пользователь</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НаименованиеНаЦеннике</dataPath>
			<field>НаименованиеНаЦеннике</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Наименование на ценнике</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Пол</dataPath>
			<field>Пол</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Пол</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Цвет</dataPath>
			<field>Цвет</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Цвет</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Модель</dataPath>
			<field>Модель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Модель</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Размещение</dataPath>
			<field>Размещение</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Размещение</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Состав</dataPath>
			<field>Состав</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Состав</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЮридическийАдресИзготовителя</dataPath>
			<field>ЮридическийАдресИзготовителя</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Юридический адрес изготовителя</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СтранаИзготовителя</dataPath>
			<field>СтранаИзготовителя</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Страна изготовителя</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РазмерныеДанные</dataPath>
			<field>РазмерныеДанные</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Размерные данные</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РазмерыТовара</dataPath>
			<field>РазмерыТовара</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Размеры товара</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<query>ВЫБРАТЬ
	ВЫРАЗИТЬ(ИсходныеДанные.Номенклатура КАК Справочник.Номенклатура) КАК Номенклатура,
	ВЫРАЗИТЬ(ИсходныеДанные.Характеристика КАК Справочник.ХарактеристикиНоменклатуры) КАК Характеристика,
	ВЫРАЗИТЬ(ИсходныеДанные.Серия КАК Справочник.СерииНоменклатуры) КАК Серия,
	ВЫРАЗИТЬ(ИсходныеДанные.Упаковка КАК Справочник.УпаковкиЕдиницыИзмерения) КАК Упаковка,
	ИсходныеДанные.Количество КАК Количество,
	ИсходныеДанные.Порядок КАК Порядок,
	"Штрихкод" КАК Штрихкод,
	"Цена" КАК Цена,
	"ЦенаДополнительно" КАК ЦенаДополнительно,
	"ДатаПоследнегоИзмененияЦены" КАК ДатаПоследнегоИзмененияЦены,
	"ДатаПоследнегоИзмененияЦеныДополнительно" КАК ДатаПоследнегоИзмененияЦеныДополнительно,
	"КоличествоЦенников" КАК КоличествоЦенниковДляПечати,
	"КоличествоЭтикеток" КАК КоличествоЭтикетокДляПечати,
	"ШаблонЭтикетки" КАК ШаблонЭтикеткиДляПечати,
	"ШаблонЦенника" КАК ШаблонЦенникаДляПечати
ПОМЕСТИТЬ ИсходныеДанные
ИЗ
	ИсходныеДанныеПереопределяемый КАК ИсходныеДанные

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	Характеристика,
	Серия,
	Упаковка
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	КР_ДополнительныеНастройкиСистемы.Значение КАК Значение
ПОМЕСТИТЬ втФорматыИсключения
ИЗ
	Справочник.КР_ДополнительныеНастройкиСистемы.СписокЗначений КАК КР_ДополнительныеНастройкиСистемы
ГДЕ
	КР_ДополнительныеНастройкиСистемы.Ссылка = ЗНАЧЕНИЕ(Справочник.КР_ДополнительныеНастройкиСистемы.ФорматыМагазиновOutlet)
;
 
// &lt;&lt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525
////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	КР_ДополнительныеНастройкиСистемы.Значение КАК Значение
ПОМЕСТИТЬ втГруппаВидовНоменклатурыАксессуаров
ИЗ
	// &lt;&lt; 25.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
	//Справочник.КР_ДополнительныеНастройкиСистемы.СписокЗначений КАК КР_ДополнительныеНастройкиСистемы
	Справочник.КР_ДополнительныеНастройкиСистемы КАК КР_ДополнительныеНастройкиСистемы 
	// &gt;&gt; 25.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
ГДЕ
	КР_ДополнительныеНастройкиСистемы.Ссылка = ЗНАЧЕНИЕ(Справочник.КР_ДополнительныеНастройкиСистемы.ГруппаВидовНоменклатурыАксессуаров)
;
// &gt;&gt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	// &lt;&lt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525
	//ИсторияИзмененияФорматовМагазиновСрезПоследних.КР_ТоварнаяГруппа КАК КР_ТоварнаяГруппа
	ИсторияИзмененияФорматовМагазиновСрезПоследних.КР_ФорматМагазинаАксессуары КАК ФорматМагазинаАксессуары,
	// &gt;&gt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525
	ИсторияИзмененияФорматовМагазиновСрезПоследних.ФорматМагазина КАК ФорматМагазина
ПОМЕСТИТЬ втФорматыМагазина
ИЗ
	РегистрСведений.ИсторияИзмененияФорматовМагазинов.СрезПоследних(
			&amp;ТекущееВремя,
			Склад = &amp;Склад
				И НЕ ФорматМагазина В
						(ВЫБРАТЬ
							втФорматыИсключения.Значение КАК Значение
						ИЗ
							втФорматыИсключения КАК втФорматыИсключения)) КАК ИсторияИзмененияФорматовМагазиновСрезПоследних
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
// &lt;&lt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525
РАЗЛИЧНЫЕ
// &gt;&gt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525
	ИсходныеДанные.Номенклатура КАК Номенклатура,
// &lt;&lt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525
	//ЕСТЬNULL(втФорматыМагазина.ФорматМагазина, ЗНАЧЕНИЕ(Справочник.ФорматыМагазинов.ПустаяСсылка)) КАК ФорматМагазин
//ПОМЕСТИТЬ втФорматыПоТоварнойГруппе
	ВЫБОР
		КОГДА ИсходныеДанные.Номенклатура.ВидНоменклатуры.Родитель В
		(ВЫБРАТЬ Т.Значение Из втГруппаВидовНоменклатурыАксессуаров КАК Т)
			ТОГДА втФорматыМагазина.ФорматМагазинаАксессуары
		ИНАЧЕ втФорматыМагазина.ФорматМагазина
	КОНЕЦ КАК ФорматМагазина
ПОМЕСТИТЬ втФорматыПоНоменклатуре
// &gt;&gt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525
ИЗ
	ИсходныеДанные КАК ИсходныеДанные
		ЛЕВОЕ СОЕДИНЕНИЕ втФорматыМагазина КАК втФорматыМагазина
		// &lt;&lt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525
		//ПО ИсходныеДанные.Номенклатура.ВидНоменклатуры.Родитель = втФорматыМагазина.ТоварнаяГруппа
		ПО ИСТИНА
		// &gt;&gt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525
;
// &gt;&gt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525
////////////////////////////////////////////////////////////////////////////////
//ВЫБРАТЬ
//	ИсходныеДанные.Номенклатура КАК Номенклатура,
//	ЕСТЬNULL(втФорматыМагазина.ФорматМагазина, ЗНАЧЕНИЕ(Справочник.ФорматыМагазинов.ПустаяСсылка)) КАК ФорматМагазина
//ПОМЕСТИТЬ втФорматыБезТоварнойГруппе
//ИЗ
//	ИсходныеДанные КАК ИсходныеДанные
//		ЛЕВОЕ СОЕДИНЕНИЕ втФорматыМагазина КАК втФорматыМагазина
//		ПО (втФорматыМагазина.ТоварнаяГруппа = ЗНАЧЕНИЕ(Справочник.ВидыНоменклатуры.ПустаяСсылка))
//;
//
////////////////////////////////////////////////////////////////////////////////
//ВЫБРАТЬ
//	ЕСТЬNULL(втФорматыПоТоварнойГруппе.Номенклатура, втФорматыБезТоварнойГруппе.Номенклатура) КАК Номенклатура,
//	МАКСИМУМ(ЕСТЬNULL(втФорматыПоТоварнойГруппе.ФорматМагазина, втФорматыБезТоварнойГруппе.ФорматМагазина)) КАК ФорматМагазина
//ПОМЕСТИТЬ втФорматыПоНоменклатуре
//ИЗ
//	втФорматыПоТоварнойГруппе КАК втФорматыПоТоварнойГруппе
//		ПОЛНОЕ СОЕДИНЕНИЕ втФорматыБезТоварнойГруппе КАК втФорматыБезТоварнойГруппе
//		ПО втФорматыПоТоварнойГруппе.Номенклатура = втФорматыБезТоварнойГруппе.Номенклатура
//			И втФорматыПоТоварнойГруппе.ФорматМагазина = втФорматыБезТоварнойГруппе.ФорматМагазина
//
//СГРУППИРОВАТЬ ПО
//	ЕСТЬNULL(втФорматыПоТоварнойГруппе.Номенклатура, втФорматыБезТоварнойГруппе.Номенклатура)
//;
// &gt;&gt; 07.04.2023, Федоров Д.Е., КРОК, Jira№ A2105505-1525
////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	КР_УстановкаМестРазмещения.Номенклатура КАК Номенклатура,
	МАКСИМУМ(КР_УстановкаМестРазмещения.МестаРазмещения) КАК МестаРазмещения
ПОМЕСТИТЬ втМестаРазмещения
ИЗ
	РегистрСведений.КР_УстановкаМестРазмещения.СрезПоследних(
			&amp;ТекущееВремя,
			(Номенклатура, Формат) В
				(ВЫБРАТЬ
					втФорматыПоНоменклатуре.Номенклатура КАК Номенклатура,
					втФорматыПоНоменклатуре.ФорматМагазина КАК Формат
				ИЗ
					втФорматыПоНоменклатуре КАК втФорматыПоНоменклатуре)) КАК КР_УстановкаМестРазмещения

СГРУППИРОВАТЬ ПО
	КР_УстановкаМестРазмещения.Номенклатура
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ОбластиДействияСертификатовНоменклатуры.ВидНоменклатуры КАК ВидНоменклатуры,
	ОбластиДействияСертификатовНоменклатуры.Номенклатура КАК Номенклатура,
	ОбластиДействияСертификатовНоменклатуры.Характеристика КАК Характеристика,
	ОбластиДействияСертификатовНоменклатуры.СертификатНоменклатуры КАК СертификатНоменклатуры
ПОМЕСТИТЬ втДанныеСертификатовОбщие
ИЗ
	ИсходныеДанные КАК ИсходныеДанные
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ОбластиДействияСертификатовНоменклатуры КАК ОбластиДействияСертификатовНоменклатуры
		ПО ИсходныеДанные.Номенклатура.ВидНоменклатуры = ОбластиДействияСертификатовНоменклатуры.ВидНоменклатуры
			И (ОбластиДействияСертификатовНоменклатуры.СертификатНоменклатуры.ТипСертификата = "Декларация о соответствии"
				ИЛИ ОбластиДействияСертификатовНоменклатуры.СертификатНоменклатуры.ТипСертификата = "Сертификат соответствия")
			И (ОбластиДействияСертификатовНоменклатуры.СертификатНоменклатуры.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыСертификатовНоменклатуры.Действующий))

СГРУППИРОВАТЬ ПО
	ОбластиДействияСертификатовНоменклатуры.СертификатНоменклатуры,
	ОбластиДействияСертификатовНоменклатуры.Номенклатура,
	ОбластиДействияСертификатовНоменклатуры.Характеристика,
	ОбластиДействияСертификатовНоменклатуры.ВидНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ИсходныеДанные.Номенклатура КАК Номенклатура,
	ИсходныеДанные.Характеристика КАК Характеристика,
	МАКСИМУМ(СертификатыНоменклатураХарактеристика.СертификатНоменклатуры) КАК СертификатНоменклатураХарактеристика,
	СертификатыНоменклатура.СертификатНоменклатуры КАК СертификатНоменклатура,
	СертификатыВидНоменклатуры.СертификатНоменклатуры КАК СертификатВидНоменклатуры
ПОМЕСТИТЬ втДанныеСертификатовПред
ИЗ
	ИсходныеДанные КАК ИсходныеДанные
		ЛЕВОЕ СОЕДИНЕНИЕ втДанныеСертификатовОбщие КАК СертификатыНоменклатураХарактеристика
		ПО ИсходныеДанные.Номенклатура = СертификатыНоменклатураХарактеристика.Номенклатура
			И ИсходныеДанные.Характеристика = СертификатыНоменклатураХарактеристика.Характеристика
		ЛЕВОЕ СОЕДИНЕНИЕ втДанныеСертификатовОбщие КАК СертификатыНоменклатура
		ПО ИсходныеДанные.Номенклатура = СертификатыНоменклатура.Номенклатура
			И (СертификатыНоменклатура.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка))
		ЛЕВОЕ СОЕДИНЕНИЕ втДанныеСертификатовОбщие КАК СертификатыВидНоменклатуры
		ПО (СертификатыВидНоменклатуры.Номенклатура = ЗНАЧЕНИЕ(Справочник.Номенклатура.ПустаяСсылка))
			И (СертификатыВидНоменклатуры.Характеристика = ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка))
			И ИсходныеДанные.Номенклатура.ВидНоменклатуры = СертификатыВидНоменклатуры.ВидНоменклатуры

СГРУППИРОВАТЬ ПО
	ИсходныеДанные.Номенклатура,
	ИсходныеДанные.Характеристика,
	СертификатыНоменклатура.СертификатНоменклатуры,
	СертификатыВидНоменклатуры.СертификатНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	втДанныеСертификатовПред.Номенклатура КАК Номенклатура,
	втДанныеСертификатовПред.Характеристика КАК Характеристика,
	ВЫБОР
		КОГДА НЕ втДанныеСертификатовПред.СертификатНоменклатураХарактеристика ЕСТЬ NULL
			ТОГДА втДанныеСертификатовПред.СертификатНоменклатураХарактеристика
		КОГДА НЕ втДанныеСертификатовПред.СертификатНоменклатура ЕСТЬ NULL
			ТОГДА втДанныеСертификатовПред.СертификатНоменклатура
		КОГДА НЕ втДанныеСертификатовПред.СертификатВидНоменклатуры ЕСТЬ NULL
			ТОГДА втДанныеСертификатовПред.СертификатВидНоменклатуры
		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.СертификатыНоменклатуры.ПустаяСсылка)
	КОНЕЦ КАК Сертификат
ПОМЕСТИТЬ втДанныеСертификатов
ИЗ
	втДанныеСертификатовПред КАК втДанныеСертификатовПред
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ИсходныеДанные.Номенклатура КАК Номенклатура,
	МАКСИМУМ(КонтактнаяИнформация.Представление) КАК Адрес
ПОМЕСТИТЬ втАдресаИзготовителей
ИЗ
	ИсходныеДанные КАК ИсходныеДанные
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.Контрагенты.КонтактнаяИнформация КАК КонтактнаяИнформация
		ПО ИсходныеДанные.Номенклатура.ПроизводительИмпортерКонтрагент = КонтактнаяИнформация.Ссылка
			И (КонтактнаяИнформация.Тип = ЗНАЧЕНИЕ(Перечисление.ТипыКонтактнойИнформации.Адрес))
			И (КонтактнаяИнформация.Вид = ЗНАЧЕНИЕ(Справочник.ВидыКонтактнойИнформации.ЮрАдресКонтрагента))

СГРУППИРОВАТЬ ПО
	ИсходныеДанные.Номенклатура
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ИсходныеДанныеПоследнийЗапрос.Порядок КАК Порядок,
	ИсходныеДанныеПоследнийЗапрос.Номенклатура КАК Номенклатура,
	ИсходныеДанныеПоследнийЗапрос.Характеристика КАК Характеристика,
	ИсходныеДанныеПоследнийЗапрос.Серия КАК Серия,
	ИсходныеДанныеПоследнийЗапрос.Упаковка КАК Упаковка,
	ВЫБОР
		КОГДА ИсходныеДанныеПоследнийЗапрос.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиЕдиницыИзмерения.ПустаяСсылка)
			ТОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.ЕдиницаИзмерения
		ИНАЧЕ ИсходныеДанныеПоследнийЗапрос.Упаковка
	КОНЕЦ КАК УпаковкаЕдиницаИзмерения,
	ВЫБОР
		КОГДА ИсходныеДанныеПоследнийЗапрос.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиЕдиницыИзмерения.ПустаяСсылка)
			ТОГДА ВЫБОР
					КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.ЕдиницаИзмерения.ТипИзмеряемойВеличины = ЗНАЧЕНИЕ(Перечисление.ТипыИзмеряемыхВеличин.Вес)
						ТОГДА ИСТИНА
					ИНАЧЕ ЛОЖЬ
				КОНЕЦ
		ИНАЧЕ ВЫБОР
				КОГДА ИсходныеДанныеПоследнийЗапрос.Упаковка.ЕдиницаИзмерения.ТипИзмеряемойВеличины = ЗНАЧЕНИЕ(Перечисление.ТипыИзмеряемыхВеличин.Вес)
					ТОГДА ИСТИНА
				ИНАЧЕ ЛОЖЬ
			КОНЕЦ
	КОНЕЦ КАК Весовой,
	ИсходныеДанныеПоследнийЗапрос.Количество КАК Количество,
	ИсходныеДанныеПоследнийЗапрос.КоличествоЦенниковДляПечати КАК КоличествоЦенниковДляПечати,
	ИсходныеДанныеПоследнийЗапрос.КоличествоЭтикетокДляПечати КАК КоличествоЭтикетокДляПечати,
	ИсходныеДанныеПоследнийЗапрос.ШаблонЭтикеткиДляПечати КАК ШаблонЭтикеткиДляПечати,
	ИсходныеДанныеПоследнийЗапрос.ШаблонЦенникаДляПечати КАК ШаблонЦенникаДляПечати,
	ИсходныеДанныеПоследнийЗапрос.Штрихкод КАК Штрихкод,
	КодыТоваровПодключаемогоОборудованияOffline.Код КАК КодПодключаемогоОборудованияOffline,
	ВЫБОР
		КОГДА &amp;ПравилоВыгрузкиВВесы
			ТОГДА КодыТоваровПодключаемогоОборудованияOffline.Код - &amp;МаксимальныйКодВесовогоТовара
		ИНАЧЕ КодыТоваровПодключаемогоОборудованияOffline.Код
	КОНЕЦ КАК PLU,
	ВидыЦен.Ссылка КАК ВидЦены,
	ВидыЦенДополнительно.Ссылка КАК ВидЦеныДополнительно,
	Организации.Ссылка КАК Организация,
	//A2105505_2650
	//555 КАК Цена,
	ИсходныеДанныеПоследнийЗапрос.Цена КАК Цена,
	ИсходныеДанныеПоследнийЗапрос.ДатаПоследнегоИзмененияЦены КАК ДатаПоследнегоИзмененияЦены,
	ИсходныеДанныеПоследнийЗапрос.ЦенаДополнительно КАК ЦенаДополнительно,
	ИсходныеДанныеПоследнийЗапрос.ДатаПоследнегоИзмененияЦеныДополнительно КАК ДатаПоследнегоИзмененияЦеныДополнительно,
	&amp;ТекущееВремя КАК ТекущееВремя,
	Пользователи.Ссылка КАК ТекущийПользователь,
	ВЫБОР
		КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_НаименованиеНаЦеннике = ""
			ТОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_НаименованиеПоСертификату
		ИНАЧЕ ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_НаименованиеНаЦеннике
	КОНЕЦ КАК НаименованиеНаЦеннике,
	ВЫБОР
		КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_Линия.Пол = ЗНАЧЕНИЕ(Перечисление.ПолФизическогоЛица.Женский)
			ТОГДА "жен."
		ИНАЧЕ "муж."
	КОНЕЦ КАК Пол,
	// &lt;&lt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
	//ПОДСТРОКА(ИсходныеДанныеПоследнийЗапрос.Номенклатура.Артикул, 1, 2) + " " + ПОДСТРОКА(ИсходныеДанныеПоследнийЗапрос.Номенклатура.Артикул, 3, 3) + " " + ПОДСТРОКА(ИсходныеДанныеПоследнийЗапрос.Номенклатура.Артикул, 6, 2) + " " + ПОДСТРОКА(ИсходныеДанныеПоследнийЗапрос.Номенклатура.Артикул, 8, 4) + " " + ПОДСТРОКА(ИсходныеДанныеПоследнийЗапрос.Номенклатура.Артикул, 12, 39) КАК АртикулСПробелами,
	ПОДСТРОКА(ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_Модель, 1, 2) 
		+ " " + ПОДСТРОКА(ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_Модель, 3, 3) 
		+ " " + ПОДСТРОКА(ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_Модель, 6, 2) 
		+ " " + ПОДСТРОКА(ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_Модель, 8, 5) 
	КАК АртикулСПробелами,
	// &gt;&gt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553	
	ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_Цвет КАК Цвет,
	// &lt;&lt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
	//ИсходныеДанныеПоследнийЗапрос.Характеристика.НаименованиеПолное + " (" + ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.РоссийскийРазмер + ")" КАК РазмерСРоссийским,
	// #4693.. Фомин Д.Ю. 24.09.2024.
	//ИсходныеДанныеПоследнийЗапрос.Характеристика.НаименованиеПолное
	//	+ ВЫБОР
	//	КОГДА ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.РоссийскийРазмер ПОДОБНО ""
	//		ТОГДА ""
	//	ИНАЧЕ " (" + ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.РоссийскийРазмер + ")"
	//КОНЕЦ КАК РазмерСРоссийским,
	ВЫБОР
		КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.ВидНоменклатуры.Родитель В (ВЫБРАТЬ Т.Значение Из втГруппаВидовНоменклатурыАксессуаров КАК Т)
			И ИсходныеДанныеПоследнийЗапрос.Номенклатура.злРазмерДляАксессуаров &lt;&gt; ""
			ТОГДА ""	
	        ИНАЧЕ     
				ИсходныеДанныеПоследнийЗапрос.Характеристика.НаименованиеПолное +
				ВЫБОР
					КОГДА ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.РоссийскийРазмер ПОДОБНО ""
					ТОГДА ""
					ИНАЧЕ " (" + ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.РоссийскийРазмер + ")"
				КОНЕЦ	
	КОНЕЦ КАК РазмерСРоссийским,	
	// ..#4693
	// &gt;&gt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553	
	// &lt;&lt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
	ВЫБОР
		КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.ВидНоменклатуры.Родитель В (ВЫБРАТЬ Т.Значение Из втГруппаВидовНоменклатурыАксессуаров КАК Т)
			ТОГДА "нет размера"
		ИНАЧЕ
	// &gt;&gt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553		
	ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.Рост + "-" + ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.ОбхватГруди + "-" + ВЫБОР
		КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_Линия.Пол = ЗНАЧЕНИЕ(Перечисление.ПолФизическогоЛица.Женский)
			ТОГДА ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.ОбхватБедер
		ИНАЧЕ ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.ОбхватТалии
	КОНЕЦ 
	// &lt;&lt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
	КОНЕЦ 
	// &gt;&gt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
	КАК РазмерыТовара,
	// #4693.. Фомин Д.Ю. 24.09.2024.
	ВЫБОР
		КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.ВидНоменклатуры.Родитель В (ВЫБРАТЬ Т.Значение Из втГруппаВидовНоменклатурыАксессуаров КАК Т)
			И ИсходныеДанныеПоследнийЗапрос.Номенклатура.злРазмерДляАксессуаров &lt;&gt; ""
			ТОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.злРазмерДляАксессуаров
		ИНАЧЕ
			ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.Рост + "-" + ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.ОбхватГруди + "-" + 
			ВЫБОР
				КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_Линия.Пол = ЗНАЧЕНИЕ(Перечисление.ПолФизическогоЛица.Женский)
				ТОГДА ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.ОбхватБедер
				ИНАЧЕ ИсходныеДанныеПоследнийЗапрос.Характеристика.КР_Размер.ОбхватТалии
			КОНЕЦ 
	КОНЕЦ 
	КАК РазмерныеДанные,
	// ..#4693	
	ПОДСТРОКА(ИсходныеДанныеПоследнийЗапрос.Номенклатура.Артикул, 6, 2) + ПОДСТРОКА(ИсходныеДанныеПоследнийЗапрос.Номенклатура.Артикул, 10, 2) КАК Модель,
	СТРЗАМЕНИТЬ(ИсходныеДанныеПоследнийЗапрос.Номенклатура.ТоварнаяКатегория.Наименование, "flash", "F") КАК КодФлеша,
	ЕСТЬNULL(втМестаРазмещения.МестаРазмещения, "") КАК Размещение,
	// &lt;&lt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
	"Состав и режим ухода и эксплуатации: " + 
	// &gt;&gt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553	
	ВЫБОР
		КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_НетВшивногоЯрлыка
			ТОГДА "см. навесной ярлык"
		ИНАЧЕ "см. вшивной ярлык"
	КОНЕЦ КАК Состав,
	ВЫБОР втДанныеСертификатов.Сертификат.КР_Схема
		КОГДА "1С"
			ТОГДА "Серийный выпуск"
		КОГДА "3Д"
			ТОГДА "Серийный выпуск"
		КОГДА "1Д"
			ТОГДА "Серийный выпуск"
		КОГДА "3С"
			ТОГДА "Партия"
		КОГДА "2Д"
			ТОГДА "Партия"
		ИНАЧЕ ""
	КОНЕЦ + " " + втДанныеСертификатов.Сертификат.ОрганВыдавшийДокумент + " " + втДанныеСертификатов.Сертификат.Номер + " от " + ПОДСТРОКА(СТРОКА(втДанныеСертификатов.Сертификат.ДатаНачалаСрокаДействия), 1, 10) КАК Схема,
	ВЫБОР
	// &lt;&lt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
	//	КОГДА НЕ ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_ПечатьEAC
		КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.КР_ПечатьEAC
	// &gt;&gt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553	
			ТОГДА "ТР ТС 017/2011"
		ИНАЧЕ ""
	КОНЕЦ КАК ТехРегламент,
	ИсходныеДанныеПоследнийЗапрос.Номенклатура.ПроизводительИмпортерКонтрагент.СтранаРегистрации КАК СтранаИзготовителя,
	// &lt;&lt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
	//ИсходныеДанныеПоследнийЗапрос.Номенклатура.ПроизводительИмпортерКонтрагент КАК Изготовитель,
	ВЫБОР 
		КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.Производитель &lt;&gt; ЗНАЧЕНИЕ(Справочник.Производители.ПустаяСсылка)
			ТОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.Производитель
		ИНАЧЕ ИсходныеДанныеПоследнийЗапрос.Номенклатура.ПроизводительИмпортерКонтрагент
	КОНЕЦ КАК Изготовитель,
	// &gt;&gt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553	
	// &lt;&lt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
	//втАдресаИзготовителей.Адрес КАК ЮридическийАдресИзготовителя
	ВЫБОР 
		КОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.Производитель &lt;&gt; ЗНАЧЕНИЕ(Справочник.Производители.ПустаяСсылка)
			ТОГДА ИсходныеДанныеПоследнийЗапрос.Номенклатура.Производитель.КР_АдресПроизводителя
		ИНАЧЕ втАдресаИзготовителей.Адрес
	КОНЕЦ КАК ЮридическийАдресИзготовителя,
	// &gt;&gt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553	
	// &lt;&lt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553
	Организации.НаименованиеСокращенное КАК ОрганизацияСокращенноеНаименование
	// &gt;&gt; 18.12.2023 Марченко С.Н., КРОК, JIRA№A2105505-2553	
{ВЫБРАТЬ
	Номенклатура.*,
	Характеристика.*,
	Серия.*,
	Упаковка.*,
	УпаковкаЕдиницаИзмерения,
	Весовой,
	Количество,
	КоличествоЦенниковДляПечати,
	КоличествоЭтикетокДляПечати,
	ШаблонЦенникаДляПечати,
	ШаблонЭтикеткиДляПечати,
	Штрихкод,
	КодПодключаемогоОборудованияOffline,
	PLU,
	ВидЦены.*,
	ВидЦеныДополнительно.*,
	Организация.*,
	Цена,
	ЦенаДополнительно,
	ДатаПоследнегоИзмененияЦены,
	ДатаПоследнегоИзмененияЦеныДополнительно,
	ТекущееВремя,
	ТекущийПользователь.*,
	НаименованиеНаЦеннике,
	Пол,
	АртикулСПробелами,
	Цвет.*,
	РазмерСРоссийским,
	РазмерыТовара,
	РазмерныеДанные,		// #4693.. Фомин Д.Ю. 24.09.2024.
	Модель,
	КодФлеша,
	Размещение,
	Состав,
	Схема,
	ТехРегламент,
	СтранаИзготовителя.*,
	Изготовитель,
	ЮридическийАдресИзготовителя}
ИЗ
	ИсходныеДанные КАК ИсходныеДанныеПоследнийЗапрос
		{ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КодыТоваровПодключаемогоОборудованияOffline КАК КодыТоваровПодключаемогоОборудованияOffline
		ПО ИсходныеДанныеПоследнийЗапрос.Номенклатура = КодыТоваровПодключаемогоОборудованияOffline.Номенклатура
			И ИсходныеДанныеПоследнийЗапрос.Характеристика = КодыТоваровПодключаемогоОборудованияOffline.Характеристика
			И ИсходныеДанныеПоследнийЗапрос.Упаковка = КодыТоваровПодключаемогоОборудованияOffline.Упаковка
			И (&amp;ПравилоОбмена = КодыТоваровПодключаемогоОборудованияOffline.ПравилоОбмена)}
		{ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыЦен КАК ВидыЦен
		ПО (ВидыЦен.Ссылка = &amp;ВидЦены)}
		{ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыЦен КАК ВидыЦенДополнительно
		ПО (ВидыЦенДополнительно.Ссылка = &amp;ВидЦеныДополнительно)}
		{ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Организации КАК Организации
		ПО (Организации.Ссылка = &amp;Организация)}
		{ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Пользователи КАК Пользователи
		ПО (Пользователи.Ссылка = &amp;ТекущийПользователь)}
		ЛЕВОЕ СОЕДИНЕНИЕ втМестаРазмещения КАК втМестаРазмещения
		ПО ИсходныеДанныеПоследнийЗапрос.Номенклатура = втМестаРазмещения.Номенклатура
		ЛЕВОЕ СОЕДИНЕНИЕ втДанныеСертификатов КАК втДанныеСертификатов
		ПО ИсходныеДанныеПоследнийЗапрос.Номенклатура = втДанныеСертификатов.Номенклатура
			И ИсходныеДанныеПоследнийЗапрос.Характеристика = втДанныеСертификатов.Характеристика
		ЛЕВОЕ СОЕДИНЕНИЕ втАдресаИзготовителей КАК втАдресаИзготовителей
		ПО ИсходныеДанныеПоследнийЗапрос.Номенклатура = втАдресаИзготовителей.Номенклатура

УПОРЯДОЧИТЬ ПО
	ИсходныеДанныеПоследнийЗапрос.Порядок</query>
		<autoFillFields>false</autoFillFields>
	</dataSet>
	<parameter>
		<name>ВидЦены</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Вид цены</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.ВидыЦен</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Справочник.ВидыЦен.ПустаяСсылка</value>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ВидЦеныДополнительно</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Вид цены (дополнительно)</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.ВидыЦен</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Справочник.ВидыЦен.ПустаяСсылка</value>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>Организация</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Организация</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.ВидыЦен</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Справочник.ВидыЦен.ПустаяСсылка</value>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ТекущееВремя</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Текущее время</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ТекущийПользователь</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Текущий пользователь</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Пользователи</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Справочник.Пользователи.ПустаяСсылка</value>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ПравилоОбмена</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Правило обмена</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.ПравилаОбменаСПодключаемымОборудованиемOffline</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Справочник.ПравилаОбменаСПодключаемымОборудованиемOffline.ПустаяСсылка</value>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>МаксимальныйКодВесовогоТовара</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Максимальный код весового товара</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
		<value xsi:type="xs:decimal">0</value>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ПравилоВыгрузкиВВесы</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Правило выгрузки в весы</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
		<value xsi:type="xs:boolean">false</value>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>Склад</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Склад</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Склады</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Основной</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Склад</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Склады.ПустаяСсылка</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Штрихкод</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:string"/>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Номенклатура</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Номенклатура.ПустаяСсылка</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Номенклатура.ЦеноваяГруппа</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.ЦеновыеГруппы.ПустаяСсылка</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Штрихкод</dcsset:left>
					<dcsset:comparisonType>Filled</dcsset:comparisonType>
					<dcsset:presentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Только со штрихкодом</v8:content>
						</v8:item>
					</dcsset:presentation>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Цена</dcsset:left>
					<dcsset:comparisonType>Filled</dcsset:comparisonType>
					<dcsset:presentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Только с ценами</v8:content>
						</v8:item>
					</dcsset:presentation>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ОстатокНаСкладе</dcsset:left>
					<dcsset:comparisonType>Greater</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
					<dcsset:presentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Только с остатками на складе</v8:content>
						</v8:item>
					</dcsset:presentation>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Весовой</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:boolean">true</dcsset:right>
					<dcsset:presentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Весовой товар</v8:content>
						</v8:item>
					</dcsset:presentation>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>