<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetQuery">
		<name>НаборДанных</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>Номенклатура</dataPath>
			<field>Номенклатура</field>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:CatalogRef.Номенклатура</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПроданоОтправитель</dataPath>
			<field>ПроданоОтправитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Продано (отправитель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Характеристика</dataPath>
			<field>Характеристика</field>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:CatalogRef.ХарактеристикиНоменклатуры</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СкладПолучатель</dataPath>
			<field>СкладПолучатель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Склад-получатель</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:CatalogRef.Склады</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НормативОстатка</dataPath>
			<field>НормативОстатка</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Норматив остатка</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>2</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Штрихкод</dataPath>
			<field>Штрихкод</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Штрихкод</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:string</v8:Type>
				<v8:StringQualifiers>
					<v8:Length>200</v8:Length>
					<v8:AllowedLength>Variable</v8:AllowedLength>
				</v8:StringQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВПутиПриходОтправитель</dataPath>
			<field>ВПутиПриходОтправитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>В пути приход (отправитель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НаСкладеЦС</dataPath>
			<field>НаСкладеЦС</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>На складе ЦС</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НаСкладеОтправитель</dataPath>
			<field>НаСкладеОтправитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>На складе (отправитель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ОжидаетОтгрузкиПриходОтправитель</dataPath>
			<field>ОжидаетОтгрузкиПриходОтправитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Ожидает отгрузки приход (отправитель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПеремещаетсяОтправитель</dataPath>
			<field>ПеремещаетсяОтправитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Перемещается (отправитель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:boolean</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РольАссортиментаОтправитель</dataPath>
			<field>РольАссортиментаОтправитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Роль ассортимента (отправитель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:EnumRef.РолиАссортимента</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПродаетсяОтправитель</dataPath>
			<field>ПродаетсяОтправитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Продается (отправитель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:boolean</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоРазмеровНаСкладеОтправитель</dataPath>
			<field>КоличествоРазмеровНаСкладеОтправитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество размеров на складе (отправитель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоРазмеровНаСкладеПолучатель</dataPath>
			<field>КоличествоРазмеровНаСкладеПолучатель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество размеров на складе (получатель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель</dataPath>
			<field>КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество размеров на складе и ожидается приход (отправитель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель</dataPath>
			<field>КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество размеров на складе и ожидается приход (получатель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Артикул</dataPath>
			<field>Артикул</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Артикул</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:string</v8:Type>
				<v8:StringQualifiers>
					<v8:Length>50</v8:Length>
					<v8:AllowedLength>Variable</v8:AllowedLength>
				</v8:StringQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НаСкладеИОжидаетсяПриходОтправитель</dataPath>
			<field>НаСкладеИОжидаетсяПриходОтправитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>На складе и ожидается приход (отправитель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НаСкладеПолучатель</dataPath>
			<field>НаСкладеПолучатель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>На складе (получатель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВПутиПриходПолучатель</dataPath>
			<field>ВПутиПриходПолучатель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>В пути приход (получатель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ОжидаетОтгрузкиПриходПолучатель</dataPath>
			<field>ОжидаетОтгрузкиПриходПолучатель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Ожидает отгрузки приход (получатель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПроданоПолучатель</dataPath>
			<field>ПроданоПолучатель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Продано (получатель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НаСкладеИОжидаетсяПриходПолучатель</dataPath>
			<field>НаСкладеИОжидаетсяПриходПолучатель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>На складе и ожидается приход (получатель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РольАссортиментаПолучатель</dataPath>
			<field>РольАссортиментаПолучатель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Роль ассортимента (получатель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:EnumRef.РолиАссортимента</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПродаетсяПолучатель</dataPath>
			<field>ПродаетсяПолучатель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Продается (получатель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:boolean</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПеремещаетсяПолучатель</dataPath>
			<field>ПеремещаетсяПолучатель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Перемещается (получатель)</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:boolean</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Порядок</dataPath>
			<field>Порядок</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Порядок</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>10</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Nonnegative</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЗаказаноОтправитель</dataPath>
			<field>ЗаказаноОтправитель</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Заказано отправитель</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИсточникДанных</dataSource>
		<query>ВЫБРАТЬ
	ТаблицаСклады.Порядок КАК Порядок,
	ВЫРАЗИТЬ(ТаблицаСклады.СкладПолучатель КАК Справочник.Склады) КАК СкладПолучатель
ПОМЕСТИТЬ врт_СкладыПолучатели
{ВЫБРАТЬ
	СкладПолучатель.*}
ИЗ
	ТаблицаСклады КАК ТаблицаСклады
{ГДЕ
	(ВЫРАЗИТЬ(ТаблицаСклады.СкладПолучатель КАК Справочник.Склады)).* КАК СкладПолучатель}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТоварыНаСкладах.Склад КАК Склад,
	ТоварыНаСкладах.Номенклатура КАК Номенклатура,
	ТоварыНаСкладах.Характеристика КАК Характеристика,
	ТоварыНаСкладах.ВНаличииОстаток КАК ВНаличии
ПОМЕСТИТЬ врт_ТоварыНаСкладахОстаток
{ВЫБРАТЬ
	Номенклатура.*,
	Характеристика.*}
ИЗ
	РегистрНакопления.ТоварыНаСкладах.Остатки(
			КОНЕЦПЕРИОДА(&amp;ТекущаяДатаНачалоДня, ДЕНЬ),
			Склад В
				(ВЫБРАТЬ
					Т.СкладПолучатель КАК Склад
				ИЗ
					врт_СкладыПолучатели КАК Т
			
				ОБЪЕДИНИТЬ ВСЕ
			
				ВЫБРАТЬ
					&amp;СкладОтправитель
			
				ОБЪЕДИНИТЬ ВСЕ
			
				ВЫБРАТЬ
					&amp;ЦентральныйСклад)) КАК ТоварыНаСкладах
ГДЕ
	ТоварыНаСкладах.ВНаличииОстаток &gt; 0					
{ГДЕ
	ТоварыНаСкладах.Номенклатура.*,
	ТоварыНаСкладах.Характеристика.*}  
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТоварыКОтгрузке.Склад КАК Склад,
	ТоварыКОтгрузке.Номенклатура КАК Номенклатура,
	ТоварыКОтгрузке.Характеристика КАК Характеристика,
	ТоварыКОтгрузке.КОтгрузкеОстаток КАК КОтгрузке
ПОМЕСТИТЬ врт_ТоварыКОтгрузкеОстаток
{ВЫБРАТЬ
	Номенклатура.*,
	Характеристика.*}
ИЗ
	РегистрНакопления.ТоварыКОтгрузке.Остатки(
			КОНЕЦПЕРИОДА(&amp;ТекущаяДатаНачалоДня, ДЕНЬ),
			Склад В
				(ВЫБРАТЬ
					Т.СкладПолучатель КАК Склад
				ИЗ
					врт_СкладыПолучатели КАК Т
			
				ОБЪЕДИНИТЬ ВСЕ
			
				ВЫБРАТЬ
					&amp;СкладОтправитель
			
				ОБЪЕДИНИТЬ ВСЕ
			
				ВЫБРАТЬ
					&amp;ЦентральныйСклад)) КАК ТоварыКОтгрузке  
ГДЕ
	ТоварыКОтгрузке.КОтгрузкеОстаток &gt; 0					
{ГДЕ
	ТоварыКОтгрузке.Номенклатура.*,
	ТоварыКОтгрузке.Характеристика.*}
	
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТоварыНаСкладах.Склад КАК Склад,
	ТоварыНаСкладах.Номенклатура КАК Номенклатура,
	ТоварыНаСкладах.Характеристика КАК Характеристика,
	ТоварыНаСкладах.ВНаличии - ЕСТЬNULL(ТоварыКОтгрузке.КОтгрузке, 0) КАК НаСкладе
ПОМЕСТИТЬ врт_ТоварыНаСкладах
ИЗ
	врт_ТоварыНаСкладахОстаток КАК ТоварыНаСкладах
	ЛЕВОЕ СОЕДИНЕНИЕ врт_ТоварыКОтгрузкеОстаток КАК ТоварыКОтгрузке
	ПО ТоварыНаСкладах.Склад = ТоварыКОтгрузке.Склад
		И ТоварыНаСкладах.Номенклатура = ТоварыКОтгрузке.Номенклатура
		И ТоварыНаСкладах.Характеристика = ТоварыКОтгрузке.Характеристика 
ГДЕ 
	ТоварыНаСкладах.ВНаличии - ЕСТЬNULL(ТоварыКОтгрузке.КОтгрузке, 0) &gt; 0		
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТоварыКПоступлению.Склад КАК Склад,
	ТоварыКПоступлению.Номенклатура КАК Номенклатура,
	ТоварыКПоступлению.Характеристика КАК Характеристика,
	ТоварыКПоступлению.КОформлениюОрдеровОстаток КАК ВПути
ПОМЕСТИТЬ врт_ТоварыКПоступлению
{ВЫБРАТЬ
	Номенклатура.*,
	Характеристика.*}
ИЗ
	РегистрНакопления.ТоварыКПоступлению.Остатки(
			КОНЕЦПЕРИОДА(&amp;ТекущаяДатаНачалоДня, ДЕНЬ),
			Склад В
				(ВЫБРАТЬ
					Т.СкладПолучатель КАК Склад
				ИЗ
					врт_СкладыПолучатели КАК Т
			
				ОБЪЕДИНИТЬ ВСЕ
			
				ВЫБРАТЬ
					&amp;СкладОтправитель)) КАК ТоварыКПоступлению
{ГДЕ
	ТоварыКПоступлению.Номенклатура.*,
	ТоварыКПоступлению.Характеристика.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЗаказыНаПеремещение.ЗаказНаПеремещение.СкладОтправитель КАК СкладОтправитель,
	ЗаказыНаПеремещение.ЗаказНаПеремещение.СкладПолучатель КАК СкладПолучатель,
	ЗаказыНаПеремещение.Номенклатура КАК Номенклатура,
	ЗаказыНаПеремещение.Характеристика КАК Характеристика,
	СУММА(ЗаказыНаПеремещение.ЗаказаноОстаток) КАК Заказано
ПОМЕСТИТЬ врт_ЗаказыНаПеремещениеПромежуточная
{ВЫБРАТЬ
	Номенклатура.*,
	Характеристика.*}
ИЗ
	РегистрНакопления.ЗаказыНаПеремещение.Остатки(
			КОНЕЦПЕРИОДА(&amp;ТекущаяДатаНачалоДня, ДЕНЬ),
			ЗаказНаПеремещение.СкладПолучатель В
				(ВЫБРАТЬ
					Т.СкладПолучатель КАК Склад
				ИЗ
					врт_СкладыПолучатели КАК Т
			
				ОБЪЕДИНИТЬ ВСЕ
			
				ВЫБРАТЬ
					&amp;СкладОтправитель)) КАК ЗаказыНаПеремещение
{ГДЕ
	ЗаказыНаПеремещение.Номенклатура.*,
	ЗаказыНаПеремещение.Характеристика.*}

СГРУППИРОВАТЬ ПО
	ЗаказыНаПеремещение.ЗаказНаПеремещение.СкладОтправитель,
	ЗаказыНаПеремещение.ЗаказНаПеремещение.СкладПолучатель,
	ЗаказыНаПеремещение.Номенклатура,
	ЗаказыНаПеремещение.Характеристика
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТоварыНаСкладах.Склад КАК Склад,
	ТоварыНаСкладах.Номенклатура КАК Номенклатура,
	ТоварыНаСкладах.Характеристика КАК Характеристика,
	ТоварыНаСкладах.ВНаличииОстаток КАК НаСкладе
ПОМЕСТИТЬ врт_ТоварыНаСкладахОтправителиЗаказов
{ВЫБРАТЬ
	Номенклатура.*,
	Характеристика.*}
ИЗ
	РегистрНакопления.ТоварыНаСкладах.Остатки(
			КОНЕЦПЕРИОДА(&amp;ТекущаяДатаНачалоДня, ДЕНЬ),
			(Склад, Номенклатура, Характеристика) В
				(ВЫБРАТЬ РАЗЛИЧНЫЕ
					Т.СкладОтправитель КАК Склад,
					Т.Номенклатура КАК Номенклатура,
					Т.Характеристика КАК Характеристика
				ИЗ
					врт_ЗаказыНаПеремещениеПромежуточная КАК Т)) КАК ТоварыНаСкладах
ГДЕ
	ТоварыНаСкладах.ВНаличииОстаток &gt; 0
{ГДЕ
	ТоварыНаСкладах.Номенклатура.*,
	ТоварыНаСкладах.Характеристика.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	Т.СкладПолучатель КАК Склад,
	Т.Номенклатура КАК Номенклатура,
	Т.Характеристика КАК Характеристика,
	СУММА(Т.Заказано) КАК Заказано,
	СУММА(ВЫБОР
			КОГДА Т.Заказано &gt; ЕСТЬNULL(ТНС.НаСкладе, 0)
				ТОГДА ЕСТЬNULL(ТНС.НаСкладе, 0)
			ИНАЧЕ Т.Заказано
		КОНЕЦ) КАК ОжидаетОтгрузки
ПОМЕСТИТЬ врт_ЗаказыНаПеремещение
ИЗ
	врт_ЗаказыНаПеремещениеПромежуточная КАК Т
		ЛЕВОЕ СОЕДИНЕНИЕ врт_ТоварыНаСкладахОтправителиЗаказов КАК ТНС
		ПО Т.СкладОтправитель = ТНС.Склад
			И Т.Номенклатура = ТНС.Номенклатура
			И Т.Характеристика = ТНС.Характеристика

СГРУППИРОВАТЬ ПО
	Т.СкладПолучатель,
	Т.Номенклатура,
	Т.Характеристика
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ врт_ЗаказыНаПеремещениеПромежуточная
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ врт_ТоварыНаСкладахОтправителиЗаказов
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВыручкаИСебестоимостьПродаж.АналитикаУчетаНоменклатуры.СкладскаяТерритория КАК Склад,
	ВыручкаИСебестоимостьПродаж.АналитикаУчетаНоменклатуры.Номенклатура КАК Номенклатура,
	ВыручкаИСебестоимостьПродаж.АналитикаУчетаНоменклатуры.Характеристика КАК Характеристика,
	СУММА(ВыручкаИСебестоимостьПродаж.КоличествоОборот) КАК Продано
ПОМЕСТИТЬ врт_ВыручкаИСебестоимостьПродаж
{ВЫБРАТЬ
	Номенклатура.*,
	Характеристика.*}
ИЗ
	РегистрНакопления.ВыручкаИСебестоимостьПродаж.Обороты(
			&amp;ДатаГлубиныПродаж,
			КОНЕЦПЕРИОДА(&amp;ТекущаяДатаНачалоДня, ДЕНЬ),
			Авто,
			АналитикаУчетаНоменклатуры.СкладскаяТерритория В
				(ВЫБРАТЬ
					Т.СкладПолучатель КАК Склад
				ИЗ
					врт_СкладыПолучатели КАК Т
			
				ОБЪЕДИНИТЬ ВСЕ
			
				ВЫБРАТЬ
					&amp;СкладОтправитель)) КАК ВыручкаИСебестоимостьПродаж
{ГДЕ
	ВыручкаИСебестоимостьПродаж.АналитикаУчетаНоменклатуры.Номенклатура.* КАК Номенклатура,
	ВыручкаИСебестоимостьПродаж.АналитикаУчетаНоменклатуры.Характеристика.* КАК Характеристика}

СГРУППИРОВАТЬ ПО
	ВыручкаИСебестоимостьПродаж.АналитикаУчетаНоменклатуры.Номенклатура,
	ВыручкаИСебестоимостьПродаж.АналитикаУчетаНоменклатуры.Характеристика,
	ВыручкаИСебестоимостьПродаж.АналитикаУчетаНоменклатуры.СкладскаяТерритория
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТаблицаАссортимент.Склад КАК Склад,
	ВЫРАЗИТЬ(ТаблицаАссортимент.Номенклатура КАК Справочник.Номенклатура) КАК Номенклатура,
	ВЫРАЗИТЬ(ТаблицаАссортимент.Характеристика КАК Справочник.ХарактеристикиНоменклатуры) КАК Характеристика,
	ТаблицаАссортимент.РольАссортимента КАК РольАссортимента,
	ТаблицаАссортимент.РазрешеныПродажи КАК РазрешеныПродажи,
	ТаблицаАссортимент.РазрешеныПеремещения КАК РазрешеныПеремещения
ПОМЕСТИТЬ врт_РасширенныйАссортимент
{ВЫБРАТЬ
	Номенклатура.*,
	Характеристика.*}
ИЗ
	ТаблицаАссортимент КАК ТаблицаАссортимент
{ГДЕ
	(ВЫРАЗИТЬ(ТаблицаАссортимент.Номенклатура КАК Справочник.Номенклатура)).* КАК Номенклатура,
	(ВЫРАЗИТЬ(ТаблицаАссортимент.Характеристика КАК Справочник.ХарактеристикиНоменклатуры)).* КАК Характеристика}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВложенныйЗапрос.Номенклатура КАК Номенклатура,
	ВложенныйЗапрос.Характеристика КАК Характеристика
ПОМЕСТИТЬ врт_ВсеТовары
{ВЫБРАТЬ
	Номенклатура.*,
	Характеристика.*}
ИЗ
	(ВЫБРАТЬ
		врт_ТоварыНаСкладах.Номенклатура КАК Номенклатура,
		врт_ТоварыНаСкладах.Характеристика КАК Характеристика
	{ВЫБРАТЬ
		Номенклатура.*,
		Характеристика.*}
	ИЗ
		врт_ТоварыНаСкладах КАК врт_ТоварыНаСкладах
	ГДЕ
		врт_ТоварыНаСкладах.Склад = &amp;СкладОтправитель
	{ГДЕ
		врт_ТоварыНаСкладах.Номенклатура.*,
		врт_ТоварыНаСкладах.Характеристика.*}
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		врт_ТоварыКПоступлению.Номенклатура,
		врт_ТоварыКПоступлению.Характеристика
	ИЗ
		врт_ТоварыКПоступлению КАК врт_ТоварыКПоступлению
	ГДЕ
		врт_ТоварыКПоступлению.Склад = &amp;СкладОтправитель
	{ГДЕ
		врт_ТоварыКПоступлению.Номенклатура.*,
		врт_ТоварыКПоступлению.Характеристика.*}
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		врт_ЗаказыНаПеремещение.Номенклатура,
		врт_ЗаказыНаПеремещение.Характеристика
	ИЗ
		врт_ЗаказыНаПеремещение КАК врт_ЗаказыНаПеремещение
	ГДЕ
		врт_ЗаказыНаПеремещение.Склад = &amp;СкладОтправитель
	{ГДЕ
		врт_ЗаказыНаПеремещение.Номенклатура.*,
		врт_ЗаказыНаПеремещение.Характеристика.*}
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		врт_ВыручкаИСебестоимостьПродаж.Номенклатура,
		врт_ВыручкаИСебестоимостьПродаж.Характеристика
	ИЗ
		врт_ВыручкаИСебестоимостьПродаж КАК врт_ВыручкаИСебестоимостьПродаж
	ГДЕ
		врт_ВыручкаИСебестоимостьПродаж.Склад = &amp;СкладОтправитель
	{ГДЕ
		врт_ВыручкаИСебестоимостьПродаж.Номенклатура.*,
		врт_ВыручкаИСебестоимостьПродаж.Характеристика.*}
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		врт_РасширенныйАссортимент.Номенклатура,
		врт_РасширенныйАссортимент.Характеристика
	ИЗ
		врт_РасширенныйАссортимент КАК врт_РасширенныйАссортимент
	ГДЕ
		врт_РасширенныйАссортимент.Склад = &amp;СкладОтправитель
	{ГДЕ
		врт_РасширенныйАссортимент.Номенклатура,
		врт_РасширенныйАссортимент.Характеристика}) КАК ВложенныйЗапрос
{ГДЕ
	ВложенныйЗапрос.Номенклатура.*,
	ВложенныйЗапрос.Характеристика.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	врт_СкладыПолучатели.Порядок КАК Порядок,
	врт_СкладыПолучатели.СкладПолучатель КАК СкладПолучатель,
	МАКСИМУМ(ЕСТЬNULL(ТаблицаНоменклатура.Артикул, "")) КАК Артикул,
	врт_ВсеТовары.Номенклатура КАК Номенклатура,
	врт_ВсеТовары.Характеристика КАК Характеристика,
	МАКСИМУМ(ЕСТЬNULL(ШтрихкодыНоменклатуры.Штрихкод, "")) КАК Штрихкод,
	МАКСИМУМ(ВЫБОР
			КОГДА ВЫРАЗИТЬ(ЕСТЬNULL(ДополнительныеСведения.Значение, ЛОЖЬ) КАК БУЛЕВО)
				ТОГДА &amp;НормативОстаткаХодовогоРазмера
			ИНАЧЕ &amp;НормативОстаткаНеходовогоРазмера
		КОНЕЦ) КАК НормативОстатка,
	МАКСИМУМ(ЕСТЬNULL(врт_ТоварыНаЦС.НаСкладе, 0)) КАК НаСкладеЦС,
	МАКСИМУМ(ЕСТЬNULL(врт_ТоварыНаСкладах.НаСкладе, 0)) КАК НаСкладеОтправитель,
	МАКСИМУМ(ЕСТЬNULL(врт_ТоварыКПоступлению.ВПути, 0)) КАК ВПутиПриходОтправитель,
	МАКСИМУМ(ЕСТЬNULL(врт_ЗаказыНаПеремещение.Заказано, 0)) КАК ЗаказаноОтправитель,
	МАКСИМУМ(ЕСТЬNULL(врт_ЗаказыНаПеремещение.ОжидаетОтгрузки, 0)) КАК ОжидаетОтгрузкиПриходОтправитель,
	МАКСИМУМ(ЕСТЬNULL(врт_ВыручкаИСебестоимостьПродаж.Продано, 0)) КАК ПроданоОтправитель,
	МАКСИМУМ(ЕСТЬNULL(врт_РасширенныйАссортимент.РольАссортимента, ЗНАЧЕНИЕ(Перечисление.РолиАссортимента.ПустаяСсылка))) КАК РольАссортиментаОтправитель,
	МАКСИМУМ(ЕСТЬNULL(врт_РасширенныйАссортимент.РазрешеныПродажи, ЛОЖЬ)) КАК ПродаетсяОтправитель,
	МАКСИМУМ(ЕСТЬNULL(врт_РасширенныйАссортимент.РазрешеныПеремещения, ЛОЖЬ)) КАК ПеремещаетсяОтправитель
ПОМЕСТИТЬ врт_ПромежуточныеДанные
{ВЫБРАТЬ
	Порядок,
	СкладПолучатель.*,
	Артикул,
	Номенклатура.*,
	Характеристика.*,
	Штрихкод,
	НормативОстатка,
	НаСкладеЦС,
	НаСкладеОтправитель,
	ВПутиПриходОтправитель,
	ЗаказаноОтправитель,
	ОжидаетОтгрузкиПриходОтправитель,
	ПроданоОтправитель,
	РольАссортиментаОтправитель.*,
	ПродаетсяОтправитель,
	ПеремещаетсяОтправитель}
ИЗ
	врт_ВсеТовары КАК врт_ВсеТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ врт_СкладыПолучатели КАК врт_СкладыПолучатели
		ПО (ИСТИНА)
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК ТаблицаНоменклатура
		ПО врт_ВсеТовары.Номенклатура = ТаблицаНоменклатура.Ссылка
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ШтрихкодыНоменклатуры КАК ШтрихкодыНоменклатуры
		ПО врт_ВсеТовары.Номенклатура = ШтрихкодыНоменклатуры.Номенклатура
			И врт_ВсеТовары.Характеристика = ШтрихкодыНоменклатуры.Характеристика
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ДополнительныеСведения КАК ДополнительныеСведения
		ПО врт_ВсеТовары.Характеристика = ДополнительныеСведения.Объект
			И (ДополнительныеСведения.Свойство = ЗНАЧЕНИЕ(ПланВидовХарактеристик.ДополнительныеРеквизитыИСведения.КР_ХодовойРазмер))
		ЛЕВОЕ СОЕДИНЕНИЕ врт_ТоварыНаСкладах КАК врт_ТоварыНаЦС
		ПО (врт_ТоварыНаЦС.Склад = &amp;ЦентральныйСклад)
			И врт_ВсеТовары.Номенклатура = врт_ТоварыНаЦС.Номенклатура
			И врт_ВсеТовары.Характеристика = врт_ТоварыНаЦС.Характеристика
		ЛЕВОЕ СОЕДИНЕНИЕ врт_ТоварыНаСкладах КАК врт_ТоварыНаСкладах
		ПО (врт_ТоварыНаСкладах.Склад = &amp;СкладОтправитель)
			И врт_ВсеТовары.Номенклатура = врт_ТоварыНаСкладах.Номенклатура
			И врт_ВсеТовары.Характеристика = врт_ТоварыНаСкладах.Характеристика
		ЛЕВОЕ СОЕДИНЕНИЕ врт_ТоварыКПоступлению КАК врт_ТоварыКПоступлению
		ПО (врт_ТоварыКПоступлению.Склад = &amp;СкладОтправитель)
			И врт_ВсеТовары.Номенклатура = врт_ТоварыКПоступлению.Номенклатура
			И врт_ВсеТовары.Характеристика = врт_ТоварыКПоступлению.Характеристика
		ЛЕВОЕ СОЕДИНЕНИЕ врт_ЗаказыНаПеремещение КАК врт_ЗаказыНаПеремещение
		ПО (врт_ЗаказыНаПеремещение.Склад = &amp;СкладОтправитель)
			И врт_ВсеТовары.Номенклатура = врт_ЗаказыНаПеремещение.Номенклатура
			И врт_ВсеТовары.Характеристика = врт_ЗаказыНаПеремещение.Характеристика
		ЛЕВОЕ СОЕДИНЕНИЕ врт_ВыручкаИСебестоимостьПродаж КАК врт_ВыручкаИСебестоимостьПродаж
		ПО (врт_ВыручкаИСебестоимостьПродаж.Склад = &amp;СкладОтправитель)
			И врт_ВсеТовары.Номенклатура = врт_ВыручкаИСебестоимостьПродаж.Номенклатура
			И врт_ВсеТовары.Характеристика = врт_ВыручкаИСебестоимостьПродаж.Характеристика
		ЛЕВОЕ СОЕДИНЕНИЕ врт_РасширенныйАссортимент КАК врт_РасширенныйАссортимент
		ПО (врт_РасширенныйАссортимент.Склад = &amp;СкладОтправитель)
			И врт_ВсеТовары.Номенклатура = врт_РасширенныйАссортимент.Номенклатура
			И врт_ВсеТовары.Характеристика = врт_РасширенныйАссортимент.Характеристика
{ГДЕ
	(ЕСТЬNULL(ШтрихкодыНоменклатуры.Штрихкод, "")) КАК Штрихкод,
	(ВЫБОР
			КОГДА ВЫРАЗИТЬ(ЕСТЬNULL(ДополнительныеСведения.Значение, ЛОЖЬ) КАК БУЛЕВО)
				ТОГДА &amp;НормативОстаткаХодовогоРазмера
			ИНАЧЕ &amp;НормативОстаткаНеходовогоРазмера
		КОНЕЦ) КАК НормативОстатка,
	(ЕСТЬNULL(врт_ТоварыНаЦС.НаСкладе, 0)) КАК НаСкладеЦС,
	(ЕСТЬNULL(врт_ТоварыНаСкладах.НаСкладе, 0)) КАК НаСкладеОтправитель,
	(ЕСТЬNULL(врт_ТоварыКПоступлению.ВПути, 0)) КАК ВПутиПриходОтправитель,
	(ЕСТЬNULL(врт_ЗаказыНаПеремещение.ОжидаетОтгрузки, 0)) КАК ОжидаетОтгрузкиПриходОтправитель,
	(ЕСТЬNULL(врт_ВыручкаИСебестоимостьПродаж.Продано, 0)) КАК ПроданоОтправитель,
	(ЕСТЬNULL(врт_РасширенныйАссортимент.РольАссортимента, ЗНАЧЕНИЕ(Перечисление.РолиАссортимента.ПустаяСсылка))).* КАК РольАссортиментаОтправитель,
	(ЕСТЬNULL(врт_РасширенныйАссортимент.РазрешеныПродажи, ЛОЖЬ)) КАК ПродаетсяОтправитель,
	(ЕСТЬNULL(врт_РасширенныйАссортимент.РазрешеныПеремещения, ЛОЖЬ)) КАК ПеремещаетсяОтправитель}

СГРУППИРОВАТЬ ПО
	врт_ВсеТовары.Номенклатура,
	врт_ВсеТовары.Характеристика,
	врт_СкладыПолучатели.СкладПолучатель,
	врт_СкладыПолучатели.Порядок
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ врт_СкладыПолучатели
;

////////////////////////////////////////////////////////////////////////////////
УНИЧТОЖИТЬ врт_ВсеТовары
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВложенныйЗапрос.Порядок КАК Порядок,
	ВложенныйЗапрос.СкладПолучатель КАК СкладПолучатель,
	ВложенныйЗапрос.Артикул КАК Артикул,
	ВложенныйЗапрос.Номенклатура КАК Номенклатура,
	ВложенныйЗапрос.Характеристика КАК Характеристика,
	ВложенныйЗапрос.Штрихкод КАК Штрихкод,
	ВложенныйЗапрос.НормативОстатка КАК НормативОстатка,
	ВложенныйЗапрос.НаСкладеЦС КАК НаСкладеЦС,
	ВложенныйЗапрос.НаСкладеОтправитель КАК НаСкладеОтправитель,
	ВложенныйЗапрос.ВПутиПриходОтправитель КАК ВПутиПриходОтправитель,
	ВложенныйЗапрос.ЗаказаноОтправитель КАК ЗаказаноОтправитель,
	ВложенныйЗапрос.ОжидаетОтгрузкиПриходОтправитель КАК ОжидаетОтгрузкиПриходОтправитель,
	ВложенныйЗапрос.ПроданоОтправитель КАК ПроданоОтправитель,
	ВложенныйЗапрос.НаСкладеОтправитель + ВложенныйЗапрос.ВПутиПриходОтправитель + ВложенныйЗапрос.ОжидаетОтгрузкиПриходОтправитель КАК НаСкладеИОжидаетсяПриходОтправитель,
	ВложенныйЗапрос.НаСкладеПолучатель КАК НаСкладеПолучатель,
	ВложенныйЗапрос.ВПутиПриходПолучатель КАК ВПутиПриходПолучатель,
	ВложенныйЗапрос.ОжидаетОтгрузкиПриходПолучатель КАК ОжидаетОтгрузкиПриходПолучатель,
	ВложенныйЗапрос.ПроданоПолучатель КАК ПроданоПолучатель,
	ВложенныйЗапрос.НаСкладеПолучатель + ВложенныйЗапрос.ВПутиПриходПолучатель + ВложенныйЗапрос.ОжидаетОтгрузкиПриходПолучатель КАК НаСкладеИОжидаетсяПриходПолучатель,
	ВложенныйЗапрос.РольАссортиментаОтправитель КАК РольАссортиментаОтправитель,
	ВложенныйЗапрос.ПродаетсяОтправитель КАК ПродаетсяОтправитель,
	ВложенныйЗапрос.ПеремещаетсяОтправитель КАК ПеремещаетсяОтправитель,
	ВложенныйЗапрос.РольАссортиментаПолучатель КАК РольАссортиментаПолучатель,
	ВложенныйЗапрос.ПродаетсяПолучатель КАК ПродаетсяПолучатель,
	ВложенныйЗапрос.ПеремещаетсяПолучатель КАК ПеремещаетсяПолучатель
ПОМЕСТИТЬ врт_ИтоговыеДанные
{ВЫБРАТЬ
	Порядок,
	СкладПолучатель.*,
	Артикул,
	Номенклатура.*,
	Характеристика.*,
	Штрихкод,
	НормативОстатка,
	НаСкладеЦС,
	НаСкладеОтправитель,
	ВПутиПриходОтправитель,
	ЗаказаноОтправитель,
	ОжидаетОтгрузкиПриходОтправитель,
	ПроданоОтправитель,
	НаСкладеИОжидаетсяПриходОтправитель,
	НаСкладеПолучатель,
	ВПутиПриходПолучатель,
	ОжидаетОтгрузкиПриходПолучатель,
	ПроданоПолучатель,
	НаСкладеИОжидаетсяПриходПолучатель,
	РольАссортиментаОтправитель.*,
	ПродаетсяОтправитель,
	ПеремещаетсяОтправитель,
	РольАссортиментаПолучатель.*,
	ПродаетсяПолучатель,
	ПеремещаетсяПолучатель}
ИЗ
	(ВЫБРАТЬ
		врт_ПромежуточныеДанные.Порядок КАК Порядок,
		врт_ПромежуточныеДанные.СкладПолучатель КАК СкладПолучатель,
		врт_ПромежуточныеДанные.Артикул КАК Артикул,
		врт_ПромежуточныеДанные.Номенклатура КАК Номенклатура,
		врт_ПромежуточныеДанные.Характеристика КАК Характеристика,
		врт_ПромежуточныеДанные.Штрихкод КАК Штрихкод,
		врт_ПромежуточныеДанные.НормативОстатка КАК НормативОстатка,
		врт_ПромежуточныеДанные.НаСкладеЦС КАК НаСкладеЦС,
		врт_ПромежуточныеДанные.НаСкладеОтправитель КАК НаСкладеОтправитель,
		врт_ПромежуточныеДанные.ВПутиПриходОтправитель КАК ВПутиПриходОтправитель,
		врт_ПромежуточныеДанные.ЗаказаноОтправитель КАК ЗаказаноОтправитель,
		врт_ПромежуточныеДанные.ОжидаетОтгрузкиПриходОтправитель КАК ОжидаетОтгрузкиПриходОтправитель,
		врт_ПромежуточныеДанные.ПроданоОтправитель КАК ПроданоОтправитель,
		врт_ПромежуточныеДанные.РольАссортиментаОтправитель КАК РольАссортиментаОтправитель,
		врт_ПромежуточныеДанные.ПродаетсяОтправитель КАК ПродаетсяОтправитель,
		врт_ПромежуточныеДанные.ПеремещаетсяОтправитель КАК ПеремещаетсяОтправитель,
		ЕСТЬNULL(врт_ТоварыНаСкладах.НаСкладе, 0) КАК НаСкладеПолучатель,
		ЕСТЬNULL(врт_ТоварыКПоступлению.ВПути, 0) КАК ВПутиПриходПолучатель,
		ЕСТЬNULL(врт_ЗаказыНаПеремещение.ОжидаетОтгрузки, 0) КАК ОжидаетОтгрузкиПриходПолучатель,
		ЕСТЬNULL(врт_ВыручкаИСебестоимостьПродаж.Продано, 0) КАК ПроданоПолучатель,
		ЕСТЬNULL(врт_РасширенныйАссортимент.РольАссортимента, ЗНАЧЕНИЕ(Перечисление.РолиАссортимента.ПустаяСсылка)) КАК РольАссортиментаПолучатель,
		ЕСТЬNULL(врт_РасширенныйАссортимент.РазрешеныПродажи, ЛОЖЬ) КАК ПродаетсяПолучатель,
		ЕСТЬNULL(врт_РасширенныйАссортимент.РазрешеныПеремещения, ЛОЖЬ) КАК ПеремещаетсяПолучатель
	ИЗ
		врт_ПромежуточныеДанные КАК врт_ПромежуточныеДанные
			ЛЕВОЕ СОЕДИНЕНИЕ врт_ТоварыНаСкладах КАК врт_ТоварыНаСкладах
			ПО врт_ПромежуточныеДанные.СкладПолучатель = врт_ТоварыНаСкладах.Склад
				И врт_ПромежуточныеДанные.Номенклатура = врт_ТоварыНаСкладах.Номенклатура
				И врт_ПромежуточныеДанные.Характеристика = врт_ТоварыНаСкладах.Характеристика
			ЛЕВОЕ СОЕДИНЕНИЕ врт_ТоварыКПоступлению КАК врт_ТоварыКПоступлению
			ПО врт_ПромежуточныеДанные.СкладПолучатель = врт_ТоварыКПоступлению.Склад
				И врт_ПромежуточныеДанные.Номенклатура = врт_ТоварыКПоступлению.Номенклатура
				И врт_ПромежуточныеДанные.Характеристика = врт_ТоварыКПоступлению.Характеристика
			ЛЕВОЕ СОЕДИНЕНИЕ врт_ЗаказыНаПеремещение КАК врт_ЗаказыНаПеремещение
			ПО врт_ПромежуточныеДанные.СкладПолучатель = врт_ЗаказыНаПеремещение.Склад
				И врт_ПромежуточныеДанные.Номенклатура = врт_ЗаказыНаПеремещение.Номенклатура
				И врт_ПромежуточныеДанные.Характеристика = врт_ЗаказыНаПеремещение.Характеристика
			ЛЕВОЕ СОЕДИНЕНИЕ врт_ВыручкаИСебестоимостьПродаж КАК врт_ВыручкаИСебестоимостьПродаж
			ПО врт_ПромежуточныеДанные.СкладПолучатель = врт_ВыручкаИСебестоимостьПродаж.Склад
				И врт_ПромежуточныеДанные.Номенклатура = врт_ВыручкаИСебестоимостьПродаж.Номенклатура
				И врт_ПромежуточныеДанные.Характеристика = врт_ВыручкаИСебестоимостьПродаж.Характеристика
			ЛЕВОЕ СОЕДИНЕНИЕ врт_РасширенныйАссортимент КАК врт_РасширенныйАссортимент
			ПО врт_ПромежуточныеДанные.СкладПолучатель = врт_РасширенныйАссортимент.Склад
				И врт_ПромежуточныеДанные.Номенклатура = врт_РасширенныйАссортимент.Номенклатура
				И врт_ПромежуточныеДанные.Характеристика = врт_РасширенныйАссортимент.Характеристика) КАК ВложенныйЗапрос
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВложенныйЗапрос.СкладПолучатель КАК СкладПолучатель,
	ВложенныйЗапрос.Номенклатура КАК Номенклатура,
	СУММА(ВложенныйЗапрос.КоличествоРазмеровНаСкладеОтправитель) КАК КоличествоРазмеровНаСкладеОтправитель,
	СУММА(ВложенныйЗапрос.КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель) КАК КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель,
	СУММА(ВложенныйЗапрос.КоличествоРазмеровНаСкладеПолучатель) КАК КоличествоРазмеровНаСкладеПолучатель,
	СУММА(ВложенныйЗапрос.КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель) КАК КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель
ПОМЕСТИТЬ врт_КоличествоРазмеровПоПозиции
{ВЫБРАТЬ
	СкладПолучатель.*,
	Номенклатура.*,
	КоличествоРазмеровНаСкладеОтправитель,
	КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель,
	КоличествоРазмеровНаСкладеПолучатель,
	КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель}
ИЗ
	(ВЫБРАТЬ
		врт_ИтоговыеДанные.СкладПолучатель КАК СкладПолучатель,
		врт_ИтоговыеДанные.Номенклатура КАК Номенклатура,
		ВЫБОР
			КОГДА врт_ИтоговыеДанные.НаСкладеОтправитель = 0
				ТОГДА 0
			ИНАЧЕ 1
		КОНЕЦ КАК КоличествоРазмеровНаСкладеОтправитель,
		ВЫБОР
			КОГДА врт_ИтоговыеДанные.НаСкладеИОжидаетсяПриходОтправитель = 0
				ТОГДА 0
			ИНАЧЕ 1
		КОНЕЦ КАК КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель,
		ВЫБОР
			КОГДА врт_ИтоговыеДанные.НаСкладеПолучатель = 0
				ТОГДА 0
			ИНАЧЕ 1
		КОНЕЦ КАК КоличествоРазмеровНаСкладеПолучатель,
		ВЫБОР
			КОГДА врт_ИтоговыеДанные.НаСкладеИОжидаетсяПриходПолучатель = 0
				ТОГДА 0
			ИНАЧЕ 1
		КОНЕЦ КАК КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель
	ИЗ
		врт_ИтоговыеДанные КАК врт_ИтоговыеДанные) КАК ВложенныйЗапрос
{ГДЕ
	ВложенныйЗапрос.СкладПолучатель.*,
	ВложенныйЗапрос.Номенклатура.*,
	ВложенныйЗапрос.КоличествоРазмеровНаСкладеОтправитель,
	ВложенныйЗапрос.КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель,
	ВложенныйЗапрос.КоличествоРазмеровНаСкладеПолучатель,
	ВложенныйЗапрос.КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель}

СГРУППИРОВАТЬ ПО
	ВложенныйЗапрос.СкладПолучатель,
	ВложенныйЗапрос.Номенклатура

ИМЕЮЩИЕ
	НЕ СУММА(ВложенныйЗапрос.КоличествоРазмеровНаСкладеОтправитель) = 0 И
	НЕ СУММА(ВложенныйЗапрос.КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель) = 0 И
	НЕ СУММА(ВложенныйЗапрос.КоличествоРазмеровНаСкладеПолучатель) = 0 И
	НЕ СУММА(ВложенныйЗапрос.КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель) = 0
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	врт_ИтоговыеДанные.Порядок КАК Порядок,
	врт_ИтоговыеДанные.СкладПолучатель КАК СкладПолучатель,
	врт_ИтоговыеДанные.Артикул КАК Артикул,
	врт_ИтоговыеДанные.Номенклатура КАК Номенклатура,
	врт_ИтоговыеДанные.Характеристика КАК Характеристика,
	врт_ИтоговыеДанные.Штрихкод КАК Штрихкод,
	врт_ИтоговыеДанные.НормативОстатка КАК НормативОстатка,
	врт_ИтоговыеДанные.НаСкладеЦС КАК НаСкладеЦС,
	врт_ИтоговыеДанные.НаСкладеОтправитель КАК НаСкладеОтправитель,
	врт_ИтоговыеДанные.ВПутиПриходОтправитель КАК ВПутиПриходОтправитель,
	врт_ИтоговыеДанные.ЗаказаноОтправитель КАК ЗаказаноОтправитель,
	врт_ИтоговыеДанные.ОжидаетОтгрузкиПриходОтправитель КАК ОжидаетОтгрузкиПриходОтправитель,
	врт_ИтоговыеДанные.ПроданоОтправитель КАК ПроданоОтправитель,
	врт_ИтоговыеДанные.НаСкладеИОжидаетсяПриходОтправитель КАК НаСкладеИОжидаетсяПриходОтправитель,
	врт_ИтоговыеДанные.НаСкладеПолучатель КАК НаСкладеПолучатель,
	врт_ИтоговыеДанные.ВПутиПриходПолучатель КАК ВПутиПриходПолучатель,
	врт_ИтоговыеДанные.ОжидаетОтгрузкиПриходПолучатель КАК ОжидаетОтгрузкиПриходПолучатель,
	врт_ИтоговыеДанные.ПроданоПолучатель КАК ПроданоПолучатель,
	врт_ИтоговыеДанные.НаСкладеИОжидаетсяПриходПолучатель КАК НаСкладеИОжидаетсяПриходПолучатель,
	ЕСТЬNULL(врт_КоличествоРазмеровПоПозиции.КоличествоРазмеровНаСкладеОтправитель, 0) КАК КоличествоРазмеровНаСкладеОтправитель,
	ЕСТЬNULL(врт_КоличествоРазмеровПоПозиции.КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель, 0) КАК КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель,
	ЕСТЬNULL(врт_КоличествоРазмеровПоПозиции.КоличествоРазмеровНаСкладеПолучатель, 0) КАК КоличествоРазмеровНаСкладеПолучатель,
	ЕСТЬNULL(врт_КоличествоРазмеровПоПозиции.КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель, 0) КАК КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель,
	врт_ИтоговыеДанные.РольАссортиментаОтправитель КАК РольАссортиментаОтправитель,
	врт_ИтоговыеДанные.ПродаетсяОтправитель КАК ПродаетсяОтправитель,
	врт_ИтоговыеДанные.ПеремещаетсяОтправитель КАК ПеремещаетсяОтправитель,
	врт_ИтоговыеДанные.РольАссортиментаПолучатель КАК РольАссортиментаПолучатель,
	врт_ИтоговыеДанные.ПродаетсяПолучатель КАК ПродаетсяПолучатель,
	врт_ИтоговыеДанные.ПеремещаетсяПолучатель КАК ПеремещаетсяПолучатель
{ВЫБРАТЬ
	Порядок,
	СкладПолучатель.*,
	Артикул,
	Номенклатура.*,
	Характеристика.*,
	Штрихкод,
	НормативОстатка,
	НаСкладеЦС,
	НаСкладеОтправитель,
	ВПутиПриходОтправитель,
	ЗаказаноОтправитель,
	ОжидаетОтгрузкиПриходОтправитель,
	ПроданоОтправитель,
	НаСкладеИОжидаетсяПриходОтправитель,
	НаСкладеПолучатель,
	ВПутиПриходПолучатель,
	ОжидаетОтгрузкиПриходПолучатель,
	ПроданоПолучатель,
	НаСкладеИОжидаетсяПриходПолучатель,
	КоличествоРазмеровНаСкладеОтправитель,
	КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель,
	КоличествоРазмеровНаСкладеПолучатель,
	КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель,
	РольАссортиментаОтправитель.*,
	ПродаетсяОтправитель,
	ПеремещаетсяОтправитель,
	РольАссортиментаПолучатель.*,
	ПродаетсяПолучатель,
	ПеремещаетсяПолучатель}
ИЗ
	врт_ИтоговыеДанные КАК врт_ИтоговыеДанные
		ЛЕВОЕ СОЕДИНЕНИЕ врт_КоличествоРазмеровПоПозиции КАК врт_КоличествоРазмеровПоПозиции
		ПО врт_ИтоговыеДанные.СкладПолучатель = врт_КоличествоРазмеровПоПозиции.СкладПолучатель
			И врт_ИтоговыеДанные.Номенклатура = врт_КоличествоРазмеровПоПозиции.Номенклатура
{ГДЕ
	врт_ИтоговыеДанные.СкладПолучатель.*,
	врт_ИтоговыеДанные.Артикул,
	врт_ИтоговыеДанные.Номенклатура.*,
	врт_ИтоговыеДанные.Характеристика.*,
	врт_ИтоговыеДанные.Штрихкод,
	врт_ИтоговыеДанные.НормативОстатка,
	врт_ИтоговыеДанные.НаСкладеЦС,
	врт_ИтоговыеДанные.НаСкладеОтправитель,
	врт_ИтоговыеДанные.ВПутиПриходОтправитель,
	врт_ИтоговыеДанные.ОжидаетОтгрузкиПриходОтправитель,
	врт_ИтоговыеДанные.ПроданоОтправитель,
	врт_ИтоговыеДанные.НаСкладеИОжидаетсяПриходОтправитель,
	врт_ИтоговыеДанные.НаСкладеПолучатель,
	врт_ИтоговыеДанные.ВПутиПриходПолучатель,
	врт_ИтоговыеДанные.ОжидаетОтгрузкиПриходПолучатель,
	врт_ИтоговыеДанные.ПроданоПолучатель,
	врт_ИтоговыеДанные.НаСкладеИОжидаетсяПриходПолучатель,
	врт_ИтоговыеДанные.РольАссортиментаОтправитель.*,
	врт_ИтоговыеДанные.ПродаетсяОтправитель,
	врт_ИтоговыеДанные.ПеремещаетсяОтправитель,
	врт_ИтоговыеДанные.РольАссортиментаПолучатель.*,
	врт_ИтоговыеДанные.ПродаетсяПолучатель,
	врт_ИтоговыеДанные.ПеремещаетсяПолучатель}</query>
		<autoFillFields>false</autoFillFields>
	</dataSet>
	<calculatedField>
		<dataPath>КПередаче</dataPath>
		<expression>0</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>К передаче</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<condition>true</condition>
		</useRestriction>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>10</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>НовыеШтрихкодыУПолучателя</dataPath>
		<expression>ЛОЖЬ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Новые штрихкоды у получателя</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<condition>true</condition>
		</useRestriction>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>ОтправительЛишаетсяШтрихкодов</dataPath>
		<expression>ЛОЖЬ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Отправитель лишается штрихкодов</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<condition>true</condition>
		</useRestriction>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>Режим</dataPath>
		<expression>0</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Режим</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<condition>true</condition>
		</useRestriction>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>1</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>Показатель</dataPath>
		<expression>0</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Показатель</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<condition>true</condition>
		</useRestriction>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>10</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>ПослеПеремещенияОжидаетсяПриход</dataPath>
		<expression>НаСкладеИОжидаетсяПриходПолучатель</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>После перемещения ожидается приход</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<condition>true</condition>
		</useRestriction>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>10</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<totalField>
		<dataPath>ВПутиПриходОтправитель</dataPath>
		<expression>Сумма(ВПутиПриходОтправитель)</expression>
	</totalField>
	<totalField>
		<dataPath>ВПутиПриходПолучатель</dataPath>
		<expression>Сумма(ВПутиПриходПолучатель)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель</dataPath>
		<expression>Сумма(КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель</dataPath>
		<expression>Сумма(КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоРазмеровНаСкладеОтправитель</dataPath>
		<expression>Сумма(КоличествоРазмеровНаСкладеОтправитель)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоРазмеровНаСкладеПолучатель</dataPath>
		<expression>Сумма(КоличествоРазмеровНаСкладеПолучатель)</expression>
	</totalField>
	<totalField>
		<dataPath>НаСкладеИОжидаетсяПриходОтправитель</dataPath>
		<expression>Сумма(НаСкладеИОжидаетсяПриходОтправитель)</expression>
	</totalField>
	<totalField>
		<dataPath>НаСкладеИОжидаетсяПриходПолучатель</dataPath>
		<expression>Сумма(НаСкладеИОжидаетсяПриходПолучатель)</expression>
	</totalField>
	<totalField>
		<dataPath>НаСкладеОтправитель</dataPath>
		<expression>Сумма(НаСкладеОтправитель)</expression>
	</totalField>
	<totalField>
		<dataPath>НаСкладеПолучатель</dataPath>
		<expression>Сумма(НаСкладеПолучатель)</expression>
	</totalField>
	<totalField>
		<dataPath>НаСкладеЦС</dataPath>
		<expression>Максимум(НаСкладеЦС)</expression>
	</totalField>
	<totalField>
		<dataPath>ОжидаетОтгрузкиПриходОтправитель</dataPath>
		<expression>Сумма(ОжидаетОтгрузкиПриходОтправитель)</expression>
	</totalField>
	<totalField>
		<dataPath>ОжидаетОтгрузкиПриходПолучатель</dataPath>
		<expression>Сумма(ОжидаетОтгрузкиПриходПолучатель)</expression>
	</totalField>
	<totalField>
		<dataPath>ПеремещаетсяОтправитель</dataPath>
		<expression>Максимум(ПеремещаетсяОтправитель)</expression>
	</totalField>
	<totalField>
		<dataPath>ПеремещаетсяПолучатель</dataPath>
		<expression>Максимум(ПеремещаетсяПолучатель)</expression>
	</totalField>
	<totalField>
		<dataPath>ПродаетсяОтправитель</dataPath>
		<expression>Максимум(ПродаетсяОтправитель)</expression>
	</totalField>
	<totalField>
		<dataPath>ПродаетсяПолучатель</dataPath>
		<expression>Максимум(ПродаетсяПолучатель)</expression>
	</totalField>
	<totalField>
		<dataPath>ПроданоОтправитель</dataPath>
		<expression>Сумма(ПроданоОтправитель)</expression>
	</totalField>
	<totalField>
		<dataPath>ПроданоПолучатель</dataPath>
		<expression>Сумма(ПроданоПолучатель)</expression>
	</totalField>
	<totalField>
		<dataPath>РольАссортиментаОтправитель</dataPath>
		<expression>Максимум(РольАссортиментаОтправитель)</expression>
	</totalField>
	<totalField>
		<dataPath>РольАссортиментаПолучатель</dataPath>
		<expression>Максимум(РольАссортиментаПолучатель)</expression>
	</totalField>
	<totalField>
		<dataPath>НормативОстатка</dataPath>
		<expression>Максимум(НормативОстатка)</expression>
	</totalField>
	<totalField>
		<dataPath>КПередаче</dataPath>
		<expression>Сумма(КПередаче)</expression>
	</totalField>
	<totalField>
		<dataPath>НовыеШтрихкодыУПолучателя</dataPath>
		<expression>Максимум(НовыеШтрихкодыУПолучателя)</expression>
	</totalField>
	<totalField>
		<dataPath>ОтправительЛишаетсяШтрихкодов</dataPath>
		<expression>Максимум(ОтправительЛишаетсяШтрихкодов)</expression>
	</totalField>
	<totalField>
		<dataPath>Режим</dataPath>
		<expression>Максимум(Режим)</expression>
	</totalField>
	<totalField>
		<dataPath>Показатель</dataPath>
		<expression>Максимум(Показатель)</expression>
	</totalField>
	<totalField>
		<dataPath>ПослеПеремещенияОжидаетсяПриход</dataPath>
		<expression>Сумма(ПослеПеремещенияОжидаетсяПриход)</expression>
	</totalField>
	<totalField>
		<dataPath>ЗаказаноОтправитель</dataPath>
		<expression>Максимум(ЗаказаноОтправитель)</expression>
	</totalField>
	<parameter>
		<name>ДатаГлубиныПродаж</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Дата глубины продаж</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
		<denyIncompleteValues>true</denyIncompleteValues>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>НормативОстаткаНеходовогоРазмера</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Норматив остатка неходового размера</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>2</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
		<value xsi:type="xs:decimal">0</value>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
		<denyIncompleteValues>true</denyIncompleteValues>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>НормативОстаткаХодовогоРазмера</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Норматив остатка ходового размера</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>2</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
		<value xsi:type="xs:decimal">0</value>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
		<denyIncompleteValues>true</denyIncompleteValues>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>СкладОтправитель</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Склад-отправитель</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Склады</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
		<denyIncompleteValues>true</denyIncompleteValues>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>ТекущаяДатаНачалоДня</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Текущая дата начало дня</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
		<denyIncompleteValues>true</denyIncompleteValues>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>ЦентральныйСклад</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Центральный склад</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Склады</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>false</useRestriction>
		<availableAsField>false</availableAsField>
		<denyIncompleteValues>true</denyIncompleteValues>
		<use>Always</use>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="xs:string">Основной</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СистемныеПоля.НомерПоПорядку</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Порядок</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СкладПолучатель</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Артикул</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Номенклатура</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Характеристика</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Штрихкод</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>НаСкладеЦС</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ЗаказаноОтправитель</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>НормативОстатка</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КПередаче</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>НовыеШтрихкодыУПолучателя</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ОтправительЛишаетсяШтрихкодов</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ПослеПеремещенияОжидаетсяПриход</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Режим</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Показатель</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Получатель</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ВПутиПриходПолучатель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоРазмеровНаСкладеИОжидаетсяПриходПолучатель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоРазмеровНаСкладеПолучатель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>НаСкладеИОжидаетсяПриходПолучатель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>НаСкладеПолучатель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ОжидаетОтгрузкиПриходПолучатель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ПроданоПолучатель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>РольАссортиментаПолучатель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ПродаетсяПолучатель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ПеремещаетсяПолучатель</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Отправитель</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ВПутиПриходОтправитель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоРазмеровНаСкладеИОжидаетсяПриходОтправитель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоРазмеровНаСкладеОтправитель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>НаСкладеИОжидаетсяПриходОтправитель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>НаСкладеОтправитель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ОжидаетОтгрузкиПриходОтправитель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ПроданоОтправитель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>РольАссортиментаОтправитель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ПродаетсяОтправитель</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ПеремещаетсяОтправитель</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">СкладПолучатель</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>d29dc49e-3d72-444c-b37e-284651acfce7</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Артикул</dcsset:left>
					<dcsset:comparisonType>Contains</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:string"/>
					<dcsset:userSettingID>f0604313-b333-48d7-9407-e7675f018b9f</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Номенклатура</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>7cc6e95e-f1a5-47b0-a434-65c2659a3370</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Характеристика</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>f319ad94-bae2-4be8-ae4d-52288fcbdab8</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Штрихкод</dcsset:left>
					<dcsset:comparisonType>Contains</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:string"/>
					<dcsset:userSettingID>6bd5e9bc-f503-4bf3-be73-18c4435b2dd6</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:userSettingID>ee0840d4-5b9d-44fe-a352-d5fd50433ca0</dcsset:userSettingID>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ДатаГлубиныПродаж</dcscor:parameter>
					<dcscor:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>НормативОстаткаНеходовогоРазмера</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>НормативОстаткаХодовогоРазмера</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>СкладОтправитель</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ТекущаяДатаНачалоДня</dcscor:parameter>
					<dcscor:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ЦентральныйСклад</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Порядок</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Номенклатура</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Характеристика</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ГоризонтальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВертикальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьПараметрыДанных</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьОтбор</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>