<?xml version="1.0" encoding="UTF-8"?>
<Form xmlns="http://v8.1c.ru/8.3/xcf/logform" xmlns:app="http://v8.1c.ru/8.2/managed-application/core" xmlns:cfg="http://v8.1c.ru/8.1/data/enterprise/current-config" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:ent="http://v8.1c.ru/8.1/data/enterprise" xmlns:lf="http://v8.1c.ru/8.2/managed-application/logform" xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows" xmlns:xr="http://v8.1c.ru/8.3/xcf/readable" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="2.18">
	<WindowOpeningMode>LockOwnerWindow</WindowOpeningMode>
	<AutoCommandBar name="ФормаКоманднаяПанель" id="-1">
		<ChildItems>
			<Popup name="ПодменюПечать" id="45">
				<Title>
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Печать</v8:content>
					</v8:item>
				</Title>
				<ToolTip>
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Команды печати</v8:content>
					</v8:item>
				</ToolTip>
				<Picture>
					<xr:Ref>StdPicture.Print</xr:Ref>
					<xr:LoadTransparent>true</xr:LoadTransparent>
				</Picture>
				<ExtendedTooltip name="ПодменюПечатьРасширеннаяПодсказка" id="46"/>
			</Popup>
		</ChildItems>
	</AutoCommandBar>
	<Events>
		<Event name="NotificationProcessing">ОбработкаОповещения</Event>
		<Event name="OnOpen">ПриОткрытии</Event>
		<Event name="OnCreateAtServer">ПриСозданииНаСервере</Event>
		<Event name="OnClose">ПриЗакрытии</Event>
	</Events>
	<ChildItems>
		<UsualGroup name="СписокКомпоновщикНастроекПользовательскиеНастройки" id="1">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Группа пользовательских настроек</v8:content>
				</v8:item>
			</Title>
			<Group>Vertical</Group>
			<ShowTitle>false</ShowTitle>
			<ExtendedTooltip name="СписокКомпоновщикНастроекПользовательскиеНастройкиРасширеннаяПодсказка" id="2"/>
		</UsualGroup>
		<Table name="Список" id="3">
			<Representation>List</Representation>
			<CommandBarLocation>None</CommandBarLocation>
			<DefaultItem>true</DefaultItem>
			<ChoiceMode>true</ChoiceMode>
			<UseAlternationRowColor>true</UseAlternationRowColor>
			<InitialTreeView>ExpandTopLevel</InitialTreeView>
			<EnableStartDrag>true</EnableStartDrag>
			<FileDragMode>AsFile</FileDragMode>
			<DataPath>Список</DataPath>
			<RowPictureDataPath>Список.DefaultPicture</RowPictureDataPath>
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Список</v8:content>
				</v8:item>
			</Title>
			<AutoRefresh>false</AutoRefresh>
			<AutoRefreshPeriod>60</AutoRefreshPeriod>
			<Period>
				<v8:variant xsi:type="v8:StandardPeriodVariant">Custom</v8:variant>
				<v8:startDate>0001-01-01T00:00:00</v8:startDate>
				<v8:endDate>0001-01-01T00:00:00</v8:endDate>
			</Period>
			<ChoiceFoldersAndItems>Items</ChoiceFoldersAndItems>
			<RestoreCurrentRow>false</RestoreCurrentRow>
			<TopLevelParent xsi:nil="true"/>
			<ShowRoot>true</ShowRoot>
			<AllowRootChoice>false</AllowRootChoice>
			<UpdateOnDataChange>Auto</UpdateOnDataChange>
			<UserSettingsGroup>СписокКомпоновщикНастроекПользовательскиеНастройки</UserSettingsGroup>
			<AllowGettingCurrentRowURL>true</AllowGettingCurrentRowURL>
			<ContextMenu name="СписокКонтекстноеМеню" id="4"/>
			<AutoCommandBar name="СписокКоманднаяПанель" id="5">
				<Autofill>false</Autofill>
			</AutoCommandBar>
			<ExtendedTooltip name="СписокРасширеннаяПодсказка" id="6"/>
			<SearchStringAddition name="СписокСтрокаПоиска" id="36">
				<AdditionSource>
					<Item>Список</Item>
					<Type>SearchStringRepresentation</Type>
				</AdditionSource>
				<ContextMenu name="СписокСтрокаПоискаКонтекстноеМеню" id="37"/>
				<ExtendedTooltip name="СписокСтрокаПоискаРасширеннаяПодсказка" id="38"/>
			</SearchStringAddition>
			<ViewStatusAddition name="СписокСостояниеПросмотра" id="39">
				<AdditionSource>
					<Item>Список</Item>
					<Type>ViewStatusRepresentation</Type>
				</AdditionSource>
				<HorizontalLocation>Left</HorizontalLocation>
				<ContextMenu name="СписокСостояниеПросмотраКонтекстноеМеню" id="40"/>
				<ExtendedTooltip name="СписокСостояниеПросмотраРасширеннаяПодсказка" id="41"/>
			</ViewStatusAddition>
			<SearchControlAddition name="СписокУправлениеПоиском" id="42">
				<AdditionSource>
					<Item>Список</Item>
					<Type>SearchControl</Type>
				</AdditionSource>
				<ContextMenu name="СписокУправлениеПоискомКонтекстноеМеню" id="43"/>
				<ExtendedTooltip name="СписокУправлениеПоискомРасширеннаяПодсказка" id="44"/>
			</SearchControlAddition>
			<Events>
				<Event name="OnActivateRow">СписокПриАктивизацииСтроки</Event>
				<Event name="OnGetDataAtServer">КР_СписокПриПолученииДанныхНаСервере</Event>
			</Events>
			<ChildItems>
				<LabelField name="Код" id="13">
					<DataPath>Список.Код</DataPath>
					<Width>14</Width>
					<HorizontalStretch>false</HorizontalStretch>
					<ContextMenu name="КодКонтекстноеМеню" id="14"/>
					<ExtendedTooltip name="КодРасширеннаяПодсказка" id="15"/>
				</LabelField>
				<LabelField name="Дата" id="10">
					<DataPath>Список.Дата</DataPath>
					<DefaultItem>true</DefaultItem>
					<Width>14</Width>
					<HorizontalStretch>false</HorizontalStretch>
					<ContextMenu name="ДатаКонтекстноеМеню" id="11"/>
					<ExtendedTooltip name="ДатаРасширеннаяПодсказка" id="12"/>
				</LabelField>
				<LabelField name="Вид" id="19">
					<DataPath>Список.Вид</DataPath>
					<Width>10</Width>
					<HorizontalStretch>false</HorizontalStretch>
					<ContextMenu name="ВидКонтекстноеМеню" id="20"/>
					<ExtendedTooltip name="ВидРасширеннаяПодсказка" id="21"/>
				</LabelField>
				<LabelField name="Основание" id="25">
					<DataPath>Список.Основание</DataPath>
					<ContextMenu name="ОснованиеКонтекстноеМеню" id="26"/>
					<ExtendedTooltip name="ОснованиеРасширеннаяПодсказка" id="27"/>
				</LabelField>
				<LabelField name="СкладУпаковки" id="16">
					<DataPath>Список.СкладУпаковки</DataPath>
					<ContextMenu name="СкладУпаковкиКонтекстноеМеню" id="17"/>
					<ExtendedTooltip name="СкладУпаковкиРасширеннаяПодсказка" id="18"/>
				</LabelField>
				<LabelField name="Упаковал" id="22">
					<DataPath>Список.Упаковал</DataPath>
					<ContextMenu name="УпаковалКонтекстноеМеню" id="23"/>
					<ExtendedTooltip name="УпаковалРасширеннаяПодсказка" id="24"/>
				</LabelField>
				<LabelField name="Ссылка" id="7">
					<DataPath>Список.Ссылка</DataPath>
					<UserVisible>
						<xr:Common>false</xr:Common>
					</UserVisible>
					<ContextMenu name="СсылкаКонтекстноеМеню" id="8"/>
					<ExtendedTooltip name="СсылкаРасширеннаяПодсказка" id="9"/>
				</LabelField>
				<InputField name="КР_ШтрихкодКороба" id="47">
					<DataPath>Список.КР_ШтрихкодКороба</DataPath>
					<Title>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Штрихкод</v8:content>
						</v8:item>
					</Title>
					<ContextMenu name="КР_ШтрихкодКоробаКонтекстноеМеню" id="48"/>
					<ExtendedTooltip name="КР_ШтрихкодКоробаРасширеннаяПодсказка" id="49"/>
				</InputField>
			</ChildItems>
		</Table>
		<UsualGroup name="ГруппаФильтр" id="28">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Фильтр</v8:content>
				</v8:item>
			</Title>
			<Group>Horizontal</Group>
			<Representation>None</Representation>
			<ShowTitle>false</ShowTitle>
			<ExtendedTooltip name="ГруппаФильтрРасширеннаяПодсказка" id="29"/>
			<ChildItems>
				<CheckBoxField name="ФильтрВключен" id="33">
					<DataPath>ФильтрВключен</DataPath>
					<TitleLocation>None</TitleLocation>
					<CheckBoxType>Auto</CheckBoxType>
					<ContextMenu name="ФильтрВключенКонтекстноеМеню" id="34"/>
					<ExtendedTooltip name="ФильтрВключенРасширеннаяПодсказка" id="35"/>
					<Events>
						<Event name="OnChange">ФильтрВключенПриИзменении</Event>
					</Events>
				</CheckBoxField>
				<LabelField name="КодФильтр" id="30">
					<DataPath>КодФильтр</DataPath>
					<Title>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Код содержит</v8:content>
						</v8:item>
					</Title>
					<ContextMenu name="КодФильтрКонтекстноеМеню" id="31"/>
					<ExtendedTooltip name="КодФильтрРасширеннаяПодсказка" id="32"/>
				</LabelField>
			</ChildItems>
		</UsualGroup>
	</ChildItems>
	<Attributes>
		<Attribute name="Список" id="1">
			<Type>
				<v8:Type>cfg:DynamicList</v8:Type>
			</Type>
			<MainAttribute>true</MainAttribute>
			<UseAlways>
				<Field>Список.Ссылка</Field>
			</UseAlways>
			<Settings xsi:type="DynamicList">
				<ManualQuery>true</ManualQuery>
				<DynamicDataRead>false</DynamicDataRead>
				<QueryText>ВЫБРАТЬ
	ИтоговыеКоробаБезГруппировки.Короб КАК Короб,
	СУММА(ИтоговыеКоробаБезГруппировки.ВНаличииОстаток) КАК ВНаличииОстаток,
	СУММА(ИтоговыеКоробаБезГруппировки.КОтгрузкеОстаток) КАК КОтгрузкеОстаток
ПОМЕСТИТЬ ИтоговыеКороба
ИЗ
	(ВЫБРАТЬ
		КР_КоробаНаСкладахОстатки.Короб КАК Короб,
		КР_КоробаНаСкладахОстатки.ВНаличииОстаток КАК ВНаличииОстаток,
		КР_КоробаНаСкладахОстатки.КОтгрузкеОстаток КАК КОтгрузкеОстаток
	ИЗ
		РегистрНакопления.КР_КоробаНаСкладах.Остатки(, Склад = &amp;Склад) КАК КР_КоробаНаСкладахОстатки
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		КР_КоробаНаСкладахОбороты.Короб,
		-КР_КоробаНаСкладахОбороты.ВНаличииОборот,
		-КР_КоробаНаСкладахОбороты.КОтгрузкеОборот
	ИЗ
		РегистрНакопления.КР_КоробаНаСкладах.Обороты(, , Регистратор, Склад = &amp;Склад) КАК КР_КоробаНаСкладахОбороты
	ГДЕ
		КР_КоробаНаСкладахОбороты.Регистратор = &amp;Регистратор) КАК ИтоговыеКоробаБезГруппировки

СГРУППИРОВАТЬ ПО
	ИтоговыеКоробаБезГруппировки.Короб

ИМЕЮЩИЕ
	СУММА(ИтоговыеКоробаБезГруппировки.ВНаличииОстаток) - СУММА(ИтоговыеКоробаБезГруппировки.КОтгрузкеОстаток) = 1
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ДокументУпаковочныйЛист.Ссылка КАК Ссылка,
	ДокументУпаковочныйЛист.ПометкаУдаления КАК ПометкаУдаления,
	ДокументУпаковочныйЛист.Дата КАК Дата,
	ДокументУпаковочныйЛист.Проведен КАК Проведен,
	ДокументУпаковочныйЛист.Код КАК Код,
	ДокументУпаковочныйЛист.СкладУпаковки КАК СкладУпаковки,
	ДокументУпаковочныйЛист.Вид КАК Вид,
	ДокументУпаковочныйЛист.Упаковал КАК Упаковал,
	ДокументУпаковочныйЛист.Основание КАК Основание,
	ДокументУпаковочныйЛист.Комментарий КАК Комментарий,
	ДокументУпаковочныйЛист.РежимПросмотраПоТоварам КАК РежимПросмотраПоТоварам,
	ДокументУпаковочныйЛист.ВсегоМест КАК ВсегоМест,
	ДокументУпаковочныйЛист.КР_Партнер КАК КР_Партнер,
	ДокументУпаковочныйЛист.КР_ДокументОснование КАК КР_ДокументОснование,
	ДокументУпаковочныйЛист.КР_ТипНаполнения КАК КР_ТипНаполнения,
	// &lt;&lt; 18.05.2023, Федоров Д.Е., КРОК, Jira№A2105505-1664
	ДокументУпаковочныйЛист.КР_Штрихкод КАК КР_ШтрихкодКороба,
	// &gt;&gt; 18.05.2023, Федоров Д.Е., КРОК, Jira№A2105505-1664
	ДокументУпаковочныйЛист.МоментВремени КАК МоментВремени
ИЗ
	ИтоговыеКороба КАК ИтоговыеКороба
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.УпаковочныйЛист КАК ДокументУпаковочныйЛист
		ПО ИтоговыеКороба.Короб = ДокументУпаковочныйЛист.Ссылка</QueryText>
				<MainTable>Document.УпаковочныйЛист</MainTable>
				<ListSettings>
					<dcsset:filter>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>dfcece9d-5077-440b-b6b3-45a5cb4538eb</dcsset:userSettingID>
					</dcsset:filter>
					<dcsset:order>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>88619765-ccb3-46c6-ac52-38e9c992ebd4</dcsset:userSettingID>
					</dcsset:order>
					<dcsset:conditionalAppearance>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>b75fecce-942b-4aed-abc9-e6a02e460fb3</dcsset:userSettingID>
					</dcsset:conditionalAppearance>
					<dcsset:itemsViewMode>Normal</dcsset:itemsViewMode>
					<dcsset:itemsUserSettingID>911b6018-f537-43e8-a417-da56b22f9aec</dcsset:itemsUserSettingID>
				</ListSettings>
			</Settings>
		</Attribute>
		<Attribute name="КодФильтр" id="2">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Код фильтр</v8:content>
				</v8:item>
			</Title>
			<Type>
				<v8:Type>xs:string</v8:Type>
				<v8:StringQualifiers>
					<v8:Length>200</v8:Length>
					<v8:AllowedLength>Variable</v8:AllowedLength>
				</v8:StringQualifiers>
			</Type>
		</Attribute>
		<Attribute name="ФильтрВключен" id="3">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Фильтр включен</v8:content>
				</v8:item>
			</Title>
			<Type>
				<v8:Type>xs:boolean</v8:Type>
			</Type>
		</Attribute>
		<Attribute name="ИспользоватьПодключаемоеОборудование" id="4">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Использовать подключаемое оборудование</v8:content>
				</v8:item>
			</Title>
			<Type>
				<v8:Type>xs:boolean</v8:Type>
			</Type>
		</Attribute>
		<Attribute name="ПоддерживаемыеТипыПодключаемогоОборудования" id="5">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Поддерживаемые типы подключаемого оборудования</v8:content>
				</v8:item>
			</Title>
			<Type>
				<v8:Type>xs:string</v8:Type>
				<v8:StringQualifiers>
					<v8:Length>0</v8:Length>
					<v8:AllowedLength>Variable</v8:AllowedLength>
				</v8:StringQualifiers>
			</Type>
		</Attribute>
		<Attribute name="ПараметрыПодключаемыхКоманд" id="6">
			<Title>
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Параметры подключаемых команд</v8:content>
				</v8:item>
			</Title>
			<Type/>
		</Attribute>
	</Attributes>
</Form>