<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetQuery">
		<name>ЗаполнениеПоОтборам</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>Номенклатура</dataPath>
			<field>Номенклатура</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Номенклатура</v8:content>
				</v8:item>
			</title>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
			<inputParameters>
				<dcscor:item>
					<dcscor:parameter>ВыборГруппИЭлементов</dcscor:parameter>
					<dcscor:value xmlns:d6p1="http://v8.1c.ru/8.1/data/enterprise" xsi:type="d6p1:FoldersAndItemsUse">Items</dcscor:value>
				</dcscor:item>
			</inputParameters>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Характеристика</dataPath>
			<field>Характеристика</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Характеристика</v8:content>
				</v8:item>
			</title>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
			<inputParameters>
				<dcscor:item>
					<dcscor:parameter>СвязиПараметровВыбора</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:ChoiceParameterLinks">
						<dcscor:item>
							<dcscor:choiceParameter>Номенклатура</dcscor:choiceParameter>
							<dcscor:value>Номенклатура</dcscor:value>
							<dcscor:mode xmlns:d8p1="http://v8.1c.ru/8.1/data/enterprise" xsi:type="d8p1:LinkedValueChangeMode">Clear</dcscor:mode>
						</dcscor:item>
					</dcscor:value>
				</dcscor:item>
			</inputParameters>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Помещение</dataPath>
			<field>Помещение</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Помещение</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<condition>true</condition>
			</useRestriction>
			<attributeUseRestriction>
				<condition>true</condition>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Склад</dataPath>
			<field>Склад</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Склад</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<condition>true</condition>
			</useRestriction>
			<attributeUseRestriction>
				<condition>true</condition>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Количество</dataPath>
			<field>Количество</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоУпаковок</dataPath>
			<field>КоличествоУпаковок</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество упаковок</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<condition>true</condition>
			</useRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Серия</dataPath>
			<field>Серия</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Серия</v8:content>
				</v8:item>
			</title>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СтатусУказанияСерий</dataPath>
			<field>СтатусУказанияСерий</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Статус указания серий</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<condition>true</condition>
			</useRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СегментНоменклатуры</dataPath>
			<field>СегментНоменклатуры</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сегмент номенклатуры</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:CatalogRef.СегментыНоменклатуры</v8:Type>
			</valueType>
			<inputParameters>
				<dcscor:item>
					<dcscor:parameter>ПараметрыВыбора</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:ChoiceParameters">
						<dcscor:item>
							<dcscor:choiceParameter>Отбор.СпособФормирования</dcscor:choiceParameter>
							<dcscor:value xsi:type="dcscor:DesignTimeValue">Перечисление.СпособыФормированияСегментов.ПериодическиОбновлять</dcscor:value>
							<dcscor:value xsi:type="dcscor:DesignTimeValue">Перечисление.СпособыФормированияСегментов.ФормироватьВручную</dcscor:value>
						</dcscor:item>
					</dcscor:value>
				</dcscor:item>
			</inputParameters>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Назначение</dataPath>
			<field>Назначение</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Назначение</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Ячейка</dataPath>
			<field>Ячейка</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Ячейка</v8:content>
				</v8:item>
			</title>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Упаковка</dataPath>
			<field>Упаковка</field>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<query>// &lt;&lt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
// Создан копированием на основе "ОтборПересчетаПоСкладу" объединенным с "ОтборПересчетаПоЯчейкам" без отбора по помещениям
// Изменения выделены комментариями для анализа
// &gt;&gt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
//
// 1. Общая часть запросов построения ВТ "ОтборПоСегментуНоменклатуры"
ВЫБРАТЬ РАЗЛИЧНЫЕ
	Сегменты.Номенклатура,
	Сегменты.Характеристика,
	ИСТИНА КАК ИспользуетсяОтборПоСегментуНоменклатуры
ПОМЕСТИТЬ ОтборПоСегментуНоменклатуры
ИЗ
	РегистрСведений.НоменклатураСегмента КАК Сегменты
{ГДЕ
	Сегменты.Сегмент.* КАК СегментНоменклатуры,
	Сегменты.Номенклатура.* КАК Номенклатура,
	Сегменты.Характеристика.* КАК Характеристика}

ИНДЕКСИРОВАТЬ ПО
	Сегменты.Номенклатура,
	Сегменты.Характеристика,
	ИспользуетсяОтборПоСегментуНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
//
// 2. Получение данных запроса "ОтборПересчетаПоСкладу"
ВЫБРАТЬ
	СпрНоменклатура.Ссылка КАК Номенклатура,
	ЕСТЬNULL(СпрХарактеристики.Ссылка, ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка)) КАК Характеристика,
	ВЫБОР
		КОГДА НЕ СкладыПолитикиУчетаСерий.ПолитикаУчетаСерий ЕСТЬ NULL 
				И СкладыПолитикиУчетаСерий.ПолитикаУчетаСерий.УчитыватьОстаткиСерий
			ТОГДА 4
		ИНАЧЕ 0
	КОНЕЦ КАК СтатусУказанияСерий
ПОМЕСТИТЬ Товары
ИЗ
	Справочник.Номенклатура КАК СпрНоменклатура
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ХарактеристикиНоменклатуры КАК СпрХарактеристики
		ПО (СпрХарактеристики.Владелец = ВЫБОР
				КОГДА СпрНоменклатура.ИспользованиеХарактеристик = ЗНАЧЕНИЕ(Перечисление.ВариантыИспользованияХарактеристикНоменклатуры.ОбщиеДляВидаНоменклатуры)
					ТОГДА СпрНоменклатура.ВидНоменклатуры
				КОГДА СпрНоменклатура.ИспользованиеХарактеристик = ЗНАЧЕНИЕ(Перечисление.ВариантыИспользованияХарактеристикНоменклатуры.ИндивидуальныеДляНоменклатуры)
					ТОГДА СпрНоменклатура.Ссылка
				КОГДА СпрНоменклатура.ИспользованиеХарактеристик = ЗНАЧЕНИЕ(Перечисление.ВариантыИспользованияХарактеристикНоменклатуры.ОбщиеСДругимВидомНоменклатуры)
					ТОГДА СпрНоменклатура.ВладелецХарактеристик
				ИНАЧЕ НЕОПРЕДЕЛЕНО
			КОНЕЦ)
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыНоменклатуры.ПолитикиУчетаСерий КАК СкладыПолитикиУчетаСерий
		ПО СпрНоменклатура.ВидНоменклатуры = СкладыПолитикиУчетаСерий.Ссылка
			И (СкладыПолитикиУчетаСерий.Склад = &amp;Склад)
ГДЕ
	СпрНоменклатура.ТипНоменклатуры В (ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар), ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара))
	И НЕ СпрНоменклатура.ЭтоГруппа
{ГДЕ
	СпрНоменклатура.Ссылка.* КАК Номенклатура,
	((СпрНоменклатура.Ссылка, ЕСТЬNULL(СпрХарактеристики.Ссылка, ЗНАЧЕНИЕ(Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка))) В
			(ВЫБРАТЬ
				ОтборПоСегментуНоменклатуры.Номенклатура,
				ОтборПоСегментуНоменклатуры.Характеристика
			ИЗ
				ОтборПоСегментуНоменклатуры
			ГДЕ
				ОтборПоСегментуНоменклатуры.ИспользуетсяОтборПоСегментуНоменклатуры = &amp;ИспользуетсяОтборПоСегментуНоменклатуры))}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ЕСТЬNULL(ТоварыНаСкладах.ВНаличииОстаток, 0) КАК Количество,
	ЕСТЬNULL(ТоварыНаСкладах.ВНаличииОстаток, 0) КАК КоличествоУпаковок,
	ЕСТЬNULL(ТоварыНаСкладах.Серия, ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка)) КАК Серия,
	// &lt;&lt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
	ЕСТЬNULL(ТоварыНаСкладах.Помещение, ЗНАЧЕНИЕ(Справочник.СкладскиеПомещения.ПустаяСсылка)) КАК Помещение,
	ЕСТЬNULL(ТоварыНаСкладах.Склад, ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)) КАК Склад,
	Не ТоварыНаСкладах.Склад ЕСТЬ NULL КАК ОстатокНайден,
	// &gt;&gt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
	Товары.Номенклатура,
	Товары.Характеристика,
	ЕСТЬNULL(ТоварыНаСкладах.Назначение, ЗНАЧЕНИЕ(Справочник.Назначения.ПустаяСсылка)) КАК Назначение,
	Товары.СтатусУказанияСерий
// &lt;&lt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
Поместить РезультатБезЯчеек
// &gt;&gt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
ИЗ
	Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ТоварыНаСкладах.Остатки(
				&amp;ДатаОстатков,
				Склад = &amp;Склад
					// &lt;&lt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
					//И Помещение = &amp;Помещение
					И Помещение.НастройкаАдресногоХранения &lt;&gt; Значение(Перечисление.НастройкиАдресногоХранения.ЯчейкиОстатки)
					// &gt;&gt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
					{(Номенклатура).* КАК Номенклатура, ((Номенклатура, Характеристика) В
				    (ВЫБРАТЬ
				        ОтборПоСегментуНоменклатуры.Номенклатура,
				        ОтборПоСегментуНоменклатуры.Характеристика
				    ИЗ
				        ОтборПоСегментуНоменклатуры
				    ГДЕ
				        ОтборПоСегментуНоменклатуры.ИспользуетсяОтборПоСегментуНоменклатуры = &amp;ИспользуетсяОтборПоСегментуНоменклатуры))}) КАК ТоварыНаСкладах
		ПО Товары.Номенклатура = ТоварыНаСкладах.Номенклатура
			И Товары.Характеристика = ТоварыНаСкладах.Характеристика
ГДЕ
	(Товары.СтатусУказанияСерий = 0
			ИЛИ ЕСТЬNULL(ТоварыНаСкладах.Серия, ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка)) &lt;&gt; ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка))
 
// &lt;&lt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
//
// 3. Получение данных запроса "ОтборПересчетаПоСкладу" + Поиск ячеек (Полностью не типовой код)
;
////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	РезультатБезЯчеек.Количество КАК Количество,
	РезультатБезЯчеек.КоличествоУпаковок КАК КоличествоУпаковок,
	РезультатБезЯчеек.Серия КАК Серия,
	РезультатБезЯчеек.Номенклатура КАК Номенклатура,
	РезультатБезЯчеек.Характеристика КАК Характеристика,
	РезультатБезЯчеек.Назначение КАК Назначение,
	РезультатБезЯчеек.СтатусУказанияСерий КАК СтатусУказанияСерий,
	МАКСИМУМ(ЕСТЬNULL(СкладскиеЯчейки.Ссылка, ЗНАЧЕНИЕ(Справочник.СкладскиеЯчейки.ПустаяСсылка))) КАК Ячейка,
	РезультатБезЯчеек.Склад КАК Склад,
	РезультатБезЯчеек.Помещение КАК Помещение
ПОМЕСТИТЬ Итог
ИЗ
	РезультатБезЯчеек КАК РезультатБезЯчеек
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.СкладскиеЯчейки КАК СкладскиеЯчейки
		ПО (РезультатБезЯчеек.ОстатокНайден)
			И (РезультатБезЯчеек.Склад = СкладскиеЯчейки.Владелец)
			И (РезультатБезЯчеек.Помещение = СкладскиеЯчейки.Помещение)
			И (НЕ СкладскиеЯчейки.ПометкаУдаления)

СГРУППИРОВАТЬ ПО
	РезультатБезЯчеек.Количество,
	РезультатБезЯчеек.КоличествоУпаковок,
	РезультатБезЯчеек.Серия,
	РезультатБезЯчеек.Номенклатура,
	РезультатБезЯчеек.Характеристика,
	РезультатБезЯчеек.Назначение,
	РезультатБезЯчеек.СтатусУказанияСерий,
	РезультатБезЯчеек.Склад,
	РезультатБезЯчеек.Помещение
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СУММА(Итог.Количество) КАК Количество,
	СУММА(Итог.КоличествоУпаковок) КАК КоличествоУпаковок,
	Итог.Серия КАК Серия,
	Итог.Номенклатура КАК Номенклатура,
	Итог.Характеристика КАК Характеристика,
	Итог.Назначение КАК Назначение,
	Итог.СтатусУказанияСерий КАК СтатусУказанияСерий,
	Итог.Ячейка КАК Ячейка
ПОМЕСТИТЬ РезультатПоСкладу
ИЗ
	Итог КАК Итог

СГРУППИРОВАТЬ ПО
	Итог.Серия,
	Итог.Номенклатура,
	Итог.Характеристика,
	Итог.Назначение,
	Итог.СтатусУказанияСерий,
	Итог.Ячейка;
// &gt;&gt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
////////////////////////////////////////////////////////////////////////////////
//
// 4. Получение данных запроса "ОтборПересчетаПоЯчейкам"
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТоварыВЯчейках.Номенклатура КАК Номенклатура,
	ТоварыВЯчейках.Характеристика КАК Характеристика,
	ТоварыВЯчейках.Назначение КАК Назначение,
	&amp;ТекстЗапросаКоэффициентУпаковки КАК УпаковкаКоэффициент,
	ТоварыВЯчейках.Упаковка КАК Упаковка,
	ТоварыВЯчейках.Ячейка КАК Ячейка,
	ТоварыВЯчейках.ВНаличииОстаток КАК КоличествоУпаковок,
	ВЫБОР
		КОГДА ЕСТЬNULL(&amp;ТекстЗапросаКоэффициентУпаковки, 0) = 0
			ТОГДА ТоварыВЯчейках.ВНаличииОстаток
		ИНАЧЕ ТоварыВЯчейках.ВНаличииОстаток * &amp;ТекстЗапросаКоэффициентУпаковки
	КОНЕЦ КАК Количество,
	ТоварыВЯчейках.Серия,
	ВЫБОР
		КОГДА НЕ СкладыПолитикиУчетаСерий.ПолитикаУчетаСерий ЕСТЬ NULL 
				И СкладыПолитикиУчетаСерий.ПолитикаУчетаСерий.УчитыватьОстаткиСерий
			ТОГДА 4
		ИНАЧЕ 0
	КОНЕЦ КАК СтатусУказанияСерий
ПОМЕСТИТЬ РезультатПоЯчейкам
ИЗ
	РегистрНакопления.ТоварыВЯчейках.Остатки(
			&amp;ДатаОстатков,
			Ячейка.Владелец = &amp;Склад
				// &gt;&gt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
				//И Ячейка.Помещение = &amp;Помещение
				И Ячейка.Помещение.НастройкаАдресногоХранения = Значение(Перечисление.НастройкиАдресногоХранения.ЯчейкиОстатки)
				// &lt;&lt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
				 {((Номенклатура, Характеристика) В
			    (ВЫБРАТЬ
			        ОтборПоСегментуНоменклатуры.Номенклатура,
			        ОтборПоСегментуНоменклатуры.Характеристика
			    ИЗ
			        ОтборПоСегментуНоменклатуры
			    ГДЕ
			        ОтборПоСегментуНоменклатуры.ИспользуетсяОтборПоСегментуНоменклатуры = &amp;ИспользуетсяОтборПоСегментуНоменклатуры))}) КАК ТоварыВЯчейках
		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыНоменклатуры.ПолитикиУчетаСерий КАК СкладыПолитикиУчетаСерий
		ПО ТоварыВЯчейках.Номенклатура.ВидНоменклатуры = СкладыПолитикиУчетаСерий.Ссылка
			И (СкладыПолитикиУчетаСерий.Склад = &amp;Склад);
// &lt;&lt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860
////////////////////////////////////////////////////////////////////////////////
//
// 5. Объединение результатов "ОтборПересчетаПоЯчейкам" и "ОтборПересчетаПоСкладу" (нетиповой код)
ВЫБРАТЬ
	РезультатПоСкладу.Количество КАК Количество,
	РезультатПоСкладу.КоличествоУпаковок КАК КоличествоУпаковок,
	РезультатПоСкладу.Серия КАК Серия,
	РезультатПоСкладу.Номенклатура КАК Номенклатура,
	РезультатПоСкладу.Характеристика КАК Характеристика,
	РезультатПоСкладу.Назначение КАК Назначение,
	РезультатПоСкладу.СтатусУказанияСерий КАК СтатусУказанияСерий,
	РезультатПоСкладу.Ячейка КАК Ячейка
ИЗ
	РезультатПоСкладу КАК РезультатПоСкладу

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	РезультатПоЯчейкам.Количество,
	РезультатПоЯчейкам.КоличествоУпаковок,
	РезультатПоЯчейкам.Серия,
	РезультатПоЯчейкам.Номенклатура,
	РезультатПоЯчейкам.Характеристика,
	РезультатПоЯчейкам.Назначение,
	РезультатПоЯчейкам.СтатусУказанияСерий,
	РезультатПоЯчейкам.Ячейка
ИЗ
	РезультатПоЯчейкам КАК РезультатПоЯчейкам
УПОРЯДОЧИТЬ ПО
	Ячейка,
	Номенклатура
// &gt;&gt; 03.02.2023 Федоров Д.Е., КРОК, JIRA№A2105505-860</query>
	</dataSet>
	<parameter>
		<name>Период</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Период</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>Склад</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Склад</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Склады</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Справочник.Склады.ПустаяСсылка</value>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ДатаОстатков</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Дата остатков</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ИспользуетсяОтборПоСегментуНоменклатуры</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Используется отбор по сегменту номенклатуры</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
		<value xsi:type="xs:boolean">false</value>
		<useRestriction>true</useRestriction>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ТекстЗапросаКоэффициентУпаковки</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Текст запроса коэффициент упаковки</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
		<value xsi:type="xs:decimal">0</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Основной</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Номенклатура</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Характеристика</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Назначение</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Количество</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КоличествоУпаковок</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Серия</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СтатусУказанияСерий</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Ячейка</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Номенклатура</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Номенклатура.ПустаяСсылка</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Характеристика</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка</dcsset:right>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">СегментНоменклатуры</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>d2b6f4b5-533f-4566-98b9-5e40bd729188</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemGroup">
					<dcsset:groupType>OrGroup</dcsset:groupType>
					<dcsset:item xsi:type="dcsset:FilterItemComparison">
						<dcsset:left xsi:type="dcscor:Field">Количество</dcsset:left>
						<dcsset:comparisonType>NotEqual</dcsset:comparisonType>
						<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
						<dcsset:presentation xsi:type="v8:LocalStringType">
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>Есть остатки (в т.ч. помеченные на удаление)</v8:content>
							</v8:item>
						</dcsset:presentation>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:FilterItemComparison">
						<dcsset:use>false</dcsset:use>
						<dcsset:left xsi:type="dcscor:Field">Номенклатура.ПометкаУдаления</dcsset:left>
						<dcsset:comparisonType>Equal</dcsset:comparisonType>
						<dcsset:right xsi:type="xs:boolean">false</dcsset:right>
						<dcsset:presentation xsi:type="v8:LocalStringType">
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>Все, кроме помеченных на удаление</v8:content>
							</v8:item>
						</dcsset:presentation>
					</dcsset:item>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Номенклатура.Наименование</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Характеристика.Наименование</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>